{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\n/* eslint-disable react/no-did-mount-set-state */\n\n/* eslint-disable react/no-did-update-set-state */\n\n/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Portal from '../../Portal';\nimport PracticeQuestions from './components/PracticeQuestions';\nimport ChallengeQuestions from './components/ChallengeQuestions';\nimport QuestionModal from './components/QuestionModal';\nimport sampleQuestions from './utils/sampleQuestions';\nimport CardSection from './components/CardSection';\nimport ReassignModal from './components/ReassignModal';\n\nclass LessonWorksheetTestSection extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onToggleReassignModal\", () => this.setState(({\n      reassigNModalOpen\n    }) => ({\n      reassigNModalOpen: !reassigNModalOpen,\n      dropdownIsOpen: false\n    })));\n\n    _defineProperty(this, \"onToggleQuestionModal\", (selectedQuestion = {}) => this.setState(({\n      questionModalOpen\n    }) => ({\n      questionModalOpen: !questionModalOpen,\n      selectedQuestion,\n      questionDropdownOpen: false,\n      questionDropdownIndex: null\n    })));\n\n    _defineProperty(this, \"onOpenDropdown\", () => this.setState({\n      dropdownIsOpen: true\n    }));\n\n    _defineProperty(this, \"onCloseDropdown\", () => this.setState({\n      dropdownIsOpen: false\n    }));\n\n    _defineProperty(this, \"onReassignDate\", (assignDate, assignTime, dueDate, dueTime) => {\n      console.warn('Stubbed out date functionality', assignDate, assignTime, dueDate, dueTime);\n    });\n\n    _defineProperty(this, \"handleQuestionDropdownClick\", (event, question) => {\n      const {\n        questionDropdownOpen,\n        questionDropdownIndex\n      } = this.state;\n      event.preventDefault();\n\n      if (questionDropdownOpen && question.id === questionDropdownIndex) {\n        this.setState({\n          questionDropdownOpen: false,\n          questionDropdownIndex: null\n        });\n      } else if (questionDropdownOpen && question !== questionDropdownIndex) {\n        this.setState({\n          questionDropdownIndex: question.id\n        });\n      } else if (questionDropdownOpen && question.id === questionDropdownIndex) {\n        this.setState({\n          questionDropdownOpen: false,\n          questionDropdownIndex: null\n        });\n      } else {\n        this.setState({\n          questionDropdownOpen: true,\n          questionDropdownIndex: question.id\n        });\n      }\n    });\n\n    _defineProperty(this, \"handleDropdownClick\", event => {\n      const {\n        dropdownIsOpen\n      } = this.state;\n      event.preventDefault();\n\n      if (dropdownIsOpen) {\n        return this.onCloseDropdown();\n      }\n\n      return this.onOpenDropdown();\n    });\n\n    this.state = {\n      selectedQuestion: {},\n      questionModalOpen: false,\n      answerSheetComplete: false,\n      questions: sampleQuestions,\n      dropdownIsOpen: false,\n      questionDropdownOpen: false,\n      questionDropdownIndex: null,\n      reassigNModalOpen: false\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.worksheet.completionLevel !== 'Not Started') {\n      this.setState({\n        answerSheetComplete: true\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      worksheet\n    } = this.props;\n\n    if (prevProps.worksheet.id !== worksheet.id) {\n      if (worksheet.completionLevel === 'Not Started') {\n        this.setState({\n          answerSheetComplete: false\n        });\n      } else {\n        this.setState({\n          answerSheetComplete: true\n        });\n      }\n    }\n  }\n\n  render() {\n    const {\n      questionModalOpen,\n      selectedQuestion,\n      questions,\n      answerSheetComplete,\n      dropdownIsOpen,\n      questionDropdownOpen,\n      questionDropdownIndex,\n      reassigNModalOpen\n    } = this.state;\n    const {\n      onClose,\n      worksheet,\n      user = {}\n    } = this.props;\n    const {\n      studentInformation: {\n        firstName,\n        lastName\n      }\n    } = user;\n    return __jsx(React.Fragment, null, __jsx(QuestionModal, {\n      open: questionModalOpen,\n      question: selectedQuestion,\n      onCloseModal: this.onToggleQuestionModal\n    }), __jsx(ReassignModal, {\n      open: reassigNModalOpen,\n      onClose: this.onToggleReassignModal,\n      onReassignDate: this.onReassignDate\n    }), __jsx(Portal, {\n      selector: \"#modal\"\n    }, __jsx(\"div\", {\n      className: \"wrapper modal\",\n      style: {\n        zIndex: '1003',\n        display: 'block',\n        position: 'absolute',\n        top: '0',\n        width: '100%'\n      }\n    }, __jsx(\"div\", {\n      className: \"header-box card-panel light-blue lighten-1 white-text\",\n      style: {\n        zIndex: '9'\n      }\n    }, __jsx(\"div\", {\n      className: \"header-flex-row row mb-0\"\n    }, __jsx(\"div\", {\n      className: \"col s12 m7 xl8\"\n    }, __jsx(\"div\", {\n      className: \"header-holder\"\n    }, __jsx(\"div\", {\n      className: \"header-col\"\n    }, __jsx(\"div\", {\n      className: \"icon-col\"\n    }, __jsx(\"i\", {\n      className: \"icon-books-l\"\n    }), __jsx(\"span\", {\n      className: \"text-icon\"\n    }, \"Lesson\"))), __jsx(\"div\", {\n      className: \"header-col\"\n    }, __jsx(\"div\", {\n      className: \"card-panel-text\"\n    }, __jsx(\"div\", {\n      className: \"text-small\"\n    }, worksheet.unit), __jsx(\"h1\", {\n      className: \"text-large\"\n    }, worksheet.worksheetName), __jsx(\"div\", {\n      className: \"text-small\"\n    }, \"p.\", worksheet.passage, \"  (\", worksheet.type, \")\"))))), __jsx(\"div\", {\n      className: \"col s9 m4 xl3 position-mobile-left\"\n    }, __jsx(\"div\", {\n      className: \"card-panel-text\"\n    }, __jsx(\"h2\", {\n      className: \"text-large\"\n    }, firstName, \" \", lastName), __jsx(\"dl\", {\n      className: \"text-small dl-horizontal\"\n    }, __jsx(\"dt\", null, \"Assigned:\"), __jsx(\"dd\", null, __jsx(\"time\", {\n      dateTime: \"2019-01-06T08:00\"\n    }, worksheet.assignDate, \" at \", worksheet.assignTime))), __jsx(\"dl\", {\n      className: \"text-small dl-horizontal\"\n    }, __jsx(\"dt\", null, \"Due:\"), __jsx(\"dd\", null, __jsx(\"time\", {\n      dateTime: \"2019-01-06T16:00\"\n    }, worksheet.dueDate, \" at \", worksheet.dueTime))), worksheet.completionDate ? __jsx(\"dl\", {\n      className: \"text-small dl-horizontal\"\n    }, __jsx(\"dt\", null, \"Completed:\"), __jsx(\"dd\", null, __jsx(\"time\", {\n      dateTime: \"2019-09-01T06:59\"\n    }, worksheet.completionDate, \" at \", worksheet.completionTime))) : null)), __jsx(\"div\", {\n      className: \"col s2 m1 right-align position-mobile-right\"\n    }, __jsx(\"div\", {\n      className: \"dropdown-block\"\n    }, __jsx(\"a\", {\n      href: \"#\",\n      \"data-target\": \"dropdown_top\",\n      className: \"dropdown-trigger btn\",\n      onClick: this.handleDropdownClick\n    }, __jsx(\"i\", {\n      className: \"material-icons dots-icon\"\n    }, \"more_vert\")), dropdownIsOpen ? __jsx(\"ul\", {\n      id: \"dropdown_top\",\n      className: \"dropdown-content dropdown-exwide\",\n      style: {\n        display: 'block',\n        opacity: '1',\n        transform: 'scaleX(1) scaleY(1)'\n      }\n    }, __jsx(\"li\", null, __jsx(\"a\", {\n      href: \"#\",\n      className: \"modal-trigger\",\n      onClick: this.onToggleReassignModal\n    }, \"Change Date\")), __jsx(\"li\", null, __jsx(\"a\", {\n      href: \"#\",\n      className: \"modal-trigger\",\n      onClick: this.onToggleReassignModal\n    }, \"Change Due Date\")), __jsx(\"li\", null, __jsx(\"a\", {\n      href: \"#\",\n      className: \"modal-trigger\",\n      onClick: this.onToggleReassignModal\n    }, \"Remove Due Date\")), __jsx(\"li\", null, __jsx(\"a\", {\n      href: \"#\"\n    }, \"Excuse Latness\")), __jsx(\"li\", null, __jsx(\"a\", {\n      href: \"#\"\n    }, \"Reset\")), __jsx(\"li\", null, __jsx(\"a\", {\n      href: \"#\",\n      className: \"link-delete\"\n    }, \"Delete\"))) : null), __jsx(\"div\", {\n      className: \"close-block\",\n      onClick: onClose\n    }, __jsx(\"a\", {\n      href: \"#\",\n      className: \"modal-close close\"\n    }, __jsx(\"i\", {\n      className: \"icon-close-thin\"\n    })))))), __jsx(\"div\", {\n      className: \"content-section content-section-85\"\n    }, __jsx(\"div\", {\n      className: \"container-sm\"\n    }, worksheet.completionLevel !== 'Not Started' ? __jsx(CardSection, {\n      flags: worksheet.flags,\n      status: worksheet.status,\n      problems: worksheet.problems,\n      completedProblems: worksheet.completedProblems,\n      completionLevel: worksheet.completionLevel,\n      totalVideoMinutesWatched: worksheet.totalVideoMinutesWatched,\n      totalVideoMinutesAllMissedProblems: worksheet.totalVideoMinutesAllMissedProblems\n    }) : null, __jsx(\"div\", {\n      className: \"main-row row\"\n    }, __jsx(ChallengeQuestions, {\n      answerSheetComplete: answerSheetComplete,\n      questionDropdownIndex: questionDropdownIndex,\n      questionDropdownOpen: questionDropdownOpen,\n      onOpenQuestionModal: this.onToggleQuestionModal,\n      handleQuestionDropdownClick: this.handleQuestionDropdownClick,\n      questions: questions.filter(question => question.questionType === 'Challenge')\n    }), __jsx(PracticeQuestions, {\n      answerSheetComplete: answerSheetComplete,\n      questionDropdownIndex: questionDropdownIndex,\n      questionDropdownOpen: questionDropdownOpen,\n      onOpenQuestionModal: this.onToggleQuestionModal,\n      handleQuestionDropdownClick: this.handleQuestionDropdownClick,\n      questions: questions.filter(question => question.questionType === 'Practice')\n    })))))));\n  }\n\n}\n\nLessonWorksheetTestSection.propTypes = {\n  user: PropTypes.object.isRequired,\n  onClose: PropTypes.func.isRequired,\n  worksheet: PropTypes.object.isRequired\n};\nexport default LessonWorksheetTestSection;","map":{"version":3,"sources":["/Volumes/HDD/Sites/clearchoicetestprep/clear-choice-admin/components/Student/LessonWorksheetTestSection/index.js"],"names":["React","PropTypes","Portal","PracticeQuestions","ChallengeQuestions","QuestionModal","sampleQuestions","CardSection","ReassignModal","LessonWorksheetTestSection","Component","constructor","props","setState","reassigNModalOpen","dropdownIsOpen","selectedQuestion","questionModalOpen","questionDropdownOpen","questionDropdownIndex","assignDate","assignTime","dueDate","dueTime","console","warn","event","question","state","preventDefault","id","onCloseDropdown","onOpenDropdown","answerSheetComplete","questions","componentDidMount","worksheet","completionLevel","componentDidUpdate","prevProps","render","onClose","user","studentInformation","firstName","lastName","onToggleQuestionModal","onToggleReassignModal","onReassignDate","zIndex","display","position","top","width","unit","worksheetName","passage","type","completionDate","completionTime","handleDropdownClick","opacity","transform","flags","status","problems","completedProblems","totalVideoMinutesWatched","totalVideoMinutesAllMissedProblems","handleQuestionDropdownClick","filter","questionType","propTypes","object","isRequired","func"],"mappings":"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","sourcesContent":["/* eslint-disable react/no-did-mount-set-state */\n/* eslint-disable react/no-did-update-set-state */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Portal from '../../Portal';\n\nimport PracticeQuestions from './components/PracticeQuestions';\nimport ChallengeQuestions from './components/ChallengeQuestions';\nimport QuestionModal from './components/QuestionModal';\n\nimport sampleQuestions from './utils/sampleQuestions';\nimport CardSection from './components/CardSection';\nimport ReassignModal from './components/ReassignModal';\n\nclass LessonWorksheetTestSection extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedQuestion: {},\n      questionModalOpen: false,\n      answerSheetComplete: false,\n      questions: sampleQuestions,\n      dropdownIsOpen: false,\n      questionDropdownOpen: false,\n      questionDropdownIndex: null,\n      reassigNModalOpen: false,\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.worksheet.completionLevel !== 'Not Started') {\n      this.setState({ answerSheetComplete: true });\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const { worksheet } = this.props;\n    if (prevProps.worksheet.id !== worksheet.id) {\n      if (worksheet.completionLevel === 'Not Started') {\n        this.setState({ answerSheetComplete: false });\n      } else {\n        this.setState({ answerSheetComplete: true });\n      }\n    }\n  }\n\n  onToggleReassignModal = () => this.setState(({ reassigNModalOpen }) => ({ reassigNModalOpen: !reassigNModalOpen, dropdownIsOpen: false }))\n\n  onToggleQuestionModal = (selectedQuestion = {}) => this.setState(({ questionModalOpen }) => ({ questionModalOpen: !questionModalOpen, selectedQuestion, questionDropdownOpen: false, questionDropdownIndex: null }))\n\n  onOpenDropdown = () => this.setState({ dropdownIsOpen: true });\n  onCloseDropdown = () => this.setState({ dropdownIsOpen: false });\n\n  onReassignDate = (assignDate, assignTime, dueDate, dueTime) => {\n    console.warn('Stubbed out date functionality', assignDate, assignTime, dueDate, dueTime);\n  }\n\n  handleQuestionDropdownClick = (event, question) => {\n    const { questionDropdownOpen, questionDropdownIndex } = this.state;\n    event.preventDefault();\n    if (questionDropdownOpen && question.id === questionDropdownIndex) {\n      this.setState({ questionDropdownOpen: false, questionDropdownIndex: null });\n    } else if (questionDropdownOpen && question !== questionDropdownIndex) {\n      this.setState({ questionDropdownIndex: question.id });\n    } else if (questionDropdownOpen && question.id === questionDropdownIndex) {\n      this.setState({ questionDropdownOpen: false, questionDropdownIndex: null });\n    } else {\n      this.setState({ questionDropdownOpen: true, questionDropdownIndex: question.id });\n    }\n  }\n\n  handleDropdownClick = (event) => {\n    const { dropdownIsOpen } = this.state;\n    event.preventDefault();\n    if (dropdownIsOpen) {\n      return this.onCloseDropdown();\n    }\n    return this.onOpenDropdown();\n  }\n\n  render() {\n    const { questionModalOpen, selectedQuestion, questions, answerSheetComplete, dropdownIsOpen, questionDropdownOpen, questionDropdownIndex, reassigNModalOpen } = this.state;\n    const { onClose, worksheet, user = {} } = this.props;\n    const { studentInformation: { firstName, lastName } } = user;\n    return (\n      <React.Fragment>\n        <QuestionModal\n          open={questionModalOpen}\n          question={selectedQuestion}\n          onCloseModal={this.onToggleQuestionModal}\n        />\n        <ReassignModal\n          open={reassigNModalOpen}\n          onClose={this.onToggleReassignModal}\n          onReassignDate={this.onReassignDate}\n        />\n        <Portal selector=\"#modal\">\n          <div className=\"wrapper modal\" style={{ zIndex: '1003', display: 'block', position: 'absolute', top: '0', width: '100%' }}>\n            <div className=\"header-box card-panel light-blue lighten-1 white-text\" style={{ zIndex: '9' }}>\n              <div className=\"header-flex-row row mb-0\">\n                <div className=\"col s12 m7 xl8\">\n                  <div className=\"header-holder\">\n                    <div className=\"header-col\">\n                      <div className=\"icon-col\">\n                        <i className=\"icon-books-l\"></i>\n                        <span className=\"text-icon\">Lesson</span>\n                      </div>\n                    </div>\n                    <div className=\"header-col\">\n                      <div className=\"card-panel-text\">\n                        <div className=\"text-small\">{worksheet.unit}</div>\n                        <h1 className=\"text-large\">{worksheet.worksheetName}</h1>\n                        <div className=\"text-small\">p.{worksheet.passage}  ({worksheet.type})</div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"col s9 m4 xl3 position-mobile-left\">\n                  <div className=\"card-panel-text\">\n                    <h2 className=\"text-large\">{firstName} {lastName}</h2>\n                    <dl className=\"text-small dl-horizontal\">\n                      <dt>Assigned:</dt>\n                      <dd><time dateTime=\"2019-01-06T08:00\">{worksheet.assignDate} at {worksheet.assignTime}</time></dd>\n                    </dl>\n                    <dl className=\"text-small dl-horizontal\">\n                      <dt>Due:</dt>\n                      <dd><time dateTime=\"2019-01-06T16:00\">{worksheet.dueDate} at {worksheet.dueTime}</time></dd>\n                    </dl>\n                    <If condition={worksheet.completionDate}>\n                      <dl className=\"text-small dl-horizontal\">\n                        <dt>Completed:</dt>\n                        <dd><time dateTime=\"2019-09-01T06:59\">{worksheet.completionDate} at {worksheet.completionTime}</time></dd>\n                      </dl>\n                    </If>\n                  </div>\n                </div>\n                <div className=\"col s2 m1 right-align position-mobile-right\">\n                  <div className=\"dropdown-block\">\n                    <a\n                      href='#'\n                      data-target='dropdown_top'\n                      className='dropdown-trigger btn'\n                      onClick={this.handleDropdownClick}\n                    >\n                      <i className=\"material-icons dots-icon\">more_vert</i>\n                    </a>\n                    <If condition={dropdownIsOpen}>\n                      <ul id='dropdown_top' className='dropdown-content dropdown-exwide' style={{ display: 'block', opacity: '1', transform: 'scaleX(1) scaleY(1)' }}>\n                        <li><a href=\"#\" className=\"modal-trigger\" onClick={this.onToggleReassignModal}>Change Date</a></li>\n                        <li><a href=\"#\" className=\"modal-trigger\" onClick={this.onToggleReassignModal}>Change Due Date</a></li>\n                        <li><a href=\"#\" className=\"modal-trigger\" onClick={this.onToggleReassignModal}>Remove Due Date</a></li>\n                        <li><a href=\"#\">Excuse Latness</a></li>\n                        <li><a href=\"#\">Reset</a></li>\n                        <li><a href=\"#\" className=\"link-delete\">Delete</a></li>\n                      </ul>\n                    </If>\n                  </div>\n                  <div className=\"close-block\" onClick={onClose}>\n                    <a href=\"#\" className=\"modal-close close\"><i className=\"icon-close-thin\"></i></a>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"content-section content-section-85\">\n              <div className=\"container-sm\">\n                <If condition={worksheet.completionLevel !== 'Not Started'}>\n                  <CardSection\n                    flags={worksheet.flags}\n                    status={worksheet.status}\n                    problems={worksheet.problems}\n                    completedProblems={worksheet.completedProblems}\n                    completionLevel={worksheet.completionLevel}\n                    totalVideoMinutesWatched={worksheet.totalVideoMinutesWatched}\n                    totalVideoMinutesAllMissedProblems={worksheet.totalVideoMinutesAllMissedProblems}\n                  />\n                </If>\n                <div className=\"main-row row\">\n                  <ChallengeQuestions\n                    answerSheetComplete={answerSheetComplete}\n                    questionDropdownIndex={questionDropdownIndex}\n                    questionDropdownOpen={questionDropdownOpen}\n                    onOpenQuestionModal={this.onToggleQuestionModal}\n                    handleQuestionDropdownClick={this.handleQuestionDropdownClick}\n                    questions={questions.filter(question => question.questionType === 'Challenge')}\n                  />\n                  <PracticeQuestions\n                    answerSheetComplete={answerSheetComplete}\n                    questionDropdownIndex={questionDropdownIndex}\n                    questionDropdownOpen={questionDropdownOpen}\n                    onOpenQuestionModal={this.onToggleQuestionModal}\n                    handleQuestionDropdownClick={this.handleQuestionDropdownClick}\n                    questions={questions.filter(question => question.questionType === 'Practice')}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </Portal>\n      </React.Fragment>\n    );\n  }\n}\n\nLessonWorksheetTestSection.propTypes = {\n  user: PropTypes.object.isRequired,\n  onClose: PropTypes.func.isRequired,\n  worksheet: PropTypes.object.isRequired,\n}\n\nexport default LessonWorksheetTestSection;\n"]},"metadata":{},"sourceType":"module"}