{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/wolf/Documents/clearchoice/admin/feature-view-updated-course/clear-choice-admin/pages/login.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { Component } from \"react\";\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport PropTypes from \"prop-types\";\nimport { logIn, loggedIn, logout, setToken } from \"../utils/AuthService\";\nimport Router from \"next/router\";\nimport { setUserIsLogged, getCurrentUser } from \"../components/User/index/actions\";\nimport { makeSelectCurrentUser } from \"../components/User/index/selectors\";\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSubmit\", function _callee(event) {\n      var _this$state, email, password, postBody, data, onFetchCurrentUser;\n\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault();\n              _this$state = _this.state, email = _this$state.email, password = _this$state.password;\n              postBody = {\n                email: email,\n                password: password\n              };\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(logIn(postBody));\n\n            case 5:\n              data = _context.sent;\n\n              if (data.token && data.expires_at) {\n                setToken(data.token, data.expires_at);\n                onFetchCurrentUser = _this.props.onFetchCurrentUser;\n                onFetchCurrentUser();\n              } else {\n                _this.setState({\n                  loginError: true\n                });\n              }\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"componentWillReceiveProps\", function (nextProps) {\n      var onSetUserIsLogged = _this.props.onSetUserIsLogged;\n      var currentUser = nextProps.currentUser;\n\n      if (currentUser && currentUser.type === \"INSTRUCTOR\") {\n        onSetUserIsLogged(true);\n        Router.push(\"/dashboard\");\n      } else {\n        onSetUserIsLogged(false);\n\n        _this.setState({\n          loginError: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChangeForm\", function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleForgotPassword\", function () {\n      console.log('this.recoverEmail', _this.state.recoverEmail);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSetForgotPassword\", function () {\n      _this.setState({\n        forgotPassword: true\n      });\n    });\n\n    _this.state = {\n      email: \"\",\n      password: \"\",\n      forgotPassword: false,\n      loginError: false,\n      recoverEmail: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (loggedIn()) {\n        logout();\n        var onSetUserIsLogged = this.props.onSetUserIsLogged;\n        onSetUserIsLogged(false);\n      }\n\n      this.textFieldForUserEmailRef = React.createRef();\n      this.textFieldForPasswordRef = React.createRef();\n      this.chkRememberRef = React.createRef();\n      this.buttonForLoginRef = React.createRef();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state2 = this.state,\n          email = _this$state2.email,\n          password = _this$state2.password,\n          forgotPassword = _this$state2.forgotPassword,\n          loginError = _this$state2.loginError,\n          recoverEmail = _this$state2.recoverEmail;\n      return __jsx(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-1531380744\" + \" \" + \"wrapper forgot_account_number\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-1531380744\" + \" \" + \"container-fluid clearfix\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-1531380744\" + \" \" + \"rightsec padleft clearfix\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-1531380744\" + \" \" + \"boxgroup\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-1531380744\" + \" \" + \"choicelogo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        href: \"#\",\n        className: \"jsx-1531380744\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, __jsx(\"img\", {\n        src: \"./static/images/choice_logo_big.png\",\n        alt: \"\",\n        className: \"jsx-1531380744\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }))), forgotPassword ? __jsx(\"div\", {\n        className: \"jsx-1531380744\" + \" \" + \"forgot_account\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-1531380744\" + \" \" + \"discrption\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, __jsx(\"h5\", {\n        className: \"jsx-1531380744\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"Forgot Account Number\"), __jsx(\"p\", {\n        className: \"jsx-1531380744\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"If you\\u2019ve lost or forgotten your Account Number, we can sendt it to your email address. To receive your Account Number by email, enter your email address below and click \\u201CSend Account Number\\u201D.\")), __jsx(\"div\", {\n        className: \"jsx-1531380744\" + \" \" + \"formsec\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, __jsx(\"ul\", {\n        className: \"jsx-1531380744\" + \" \" + \"clearfix\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, __jsx(\"li\", {\n        className: \"jsx-1531380744\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-1531380744\" + \" \" + \"input-field input-field-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, __jsx(\"input\", {\n        type: \"email\",\n        name: \"recoverEmail\",\n        placeholder: \"Enter your Email Addres\",\n        value: recoverEmail,\n        onChange: this.handleChangeForm,\n        className: \"jsx-1531380744\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), __jsx(\"span\", {\n        className: \"jsx-1531380744\" + \" \" + \"input-icon icon-letter2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }))), __jsx(\"li\", {\n        className: \"jsx-1531380744\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, __jsx(\"button\", {\n        onClick: this.handleForgotPassword,\n        className: \"jsx-1531380744\" + \" \" + \"btn waves-effect read\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, \"Send Account Number\"))))) : __jsx(\"div\", {\n        className: \"jsx-1531380744\" + \" \" + \"forgot_account\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-1531380744\" + \" \" + \"discrption\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, loginError ? __jsx(\"h5\", {\n        style: {\n          color: 'red'\n        },\n        className: \"jsx-1531380744\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"Please Enter valid email and password\") : __jsx(React.Fragment, null, __jsx(\"h5\", {\n        className: \"jsx-1531380744\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, \"Please Enter your email and password\"), __jsx(\"p\", {\n        className: \"jsx-1531380744\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, \"For security purposes, you need to enter a current your email and password for this account.\"))), __jsx(\"div\", {\n        className: \"jsx-1531380744\" + \" \" + \"formsec\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, __jsx(\"ul\", {\n        className: \"jsx-1531380744\" + \" \" + \"clearfix\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, __jsx(\"li\", {\n        className: \"jsx-1531380744\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-1531380744\" + \" \" + \"input-field input-field-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, __jsx(\"input\", {\n        type: \"text\",\n        name: \"email\",\n        placeholder: \"email\",\n        value: email,\n        onChange: this.handleChangeForm,\n        autoFocus: true,\n        ref: this.textFieldForUserEmailRef,\n        onKeyPress: function onKeyPress(event) {\n          if (event.key === \"Enter\") {\n            _this2.textFieldForPasswordRef.current.focus();\n          }\n        },\n        className: \"jsx-1531380744\" + \" \" + \"email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }), __jsx(\"span\", {\n        className: \"jsx-1531380744\" + \" \" + \"input-icon icon-letter2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }))), __jsx(\"li\", {\n        className: \"jsx-1531380744\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-1531380744\" + \" \" + \"input-field input-field-icon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, __jsx(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        placeholder: \"password\",\n        value: password,\n        onChange: this.handleChangeForm,\n        autoFocus: true,\n        ref: this.textFieldForPasswordRef,\n        onKeyPress: function onKeyPress(event) {\n          if (event.key === \"Enter\") {\n            _this2.chkRememberRef.current.focus();\n          }\n        },\n        className: \"jsx-1531380744\" + \" \" + \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }), __jsx(\"span\", {\n        className: \"jsx-1531380744\" + \" \" + \"input-icon icon-key\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }))), __jsx(\"div\", {\n        style: {\n          marginBottom: 20\n        },\n        className: \"jsx-1531380744\" + \" \" + \"course-context_two-col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-1531380744\" + \" \" + \"column\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        style: {\n          textAlign: 'left',\n          paddingLeft: 20\n        },\n        className: \"jsx-1531380744\" + \" \" + \"checkbox-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-1531380744\" + \" \" + \"checkbox-holder\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }, __jsx(\"label\", {\n        className: \"jsx-1531380744\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, __jsx(\"input\", {\n        type: \"checkbox\",\n        name: \"chk_remember\",\n        id: \"chk_remember\",\n        value: true,\n        autoFocus: true,\n        ref: this.chkRememberRef,\n        onKeyPress: function onKeyPress(event) {\n          if (event.key === \"Enter\") {\n            _this2.buttonForLoginRef.current.click();\n          }\n        },\n        className: \"jsx-1531380744\" + \" \" + \"filled-in\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }), __jsx(\"span\", {\n        className: \"jsx-1531380744\" + \" \" + \"large-label\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \"Remember Me\"))))), __jsx(\"div\", {\n        style: {\n          textAlign: \"right\",\n          width: '100%',\n          paddingRight: 20\n        },\n        className: \"jsx-1531380744\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        onClick: this.onSetForgotPassword,\n        style: {\n          cursor: 'pointer'\n        },\n        className: \"jsx-1531380744\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }, \"Forgot Password?\"))), __jsx(\"li\", {\n        className: \"jsx-1531380744\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }, __jsx(\"button\", {\n        onClick: this.handleSubmit,\n        ref: this.buttonForLoginRef,\n        className: \"jsx-1531380744\" + \" \" + \"btn waves-effect read\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, \"LogIn\"))))))))), __jsx(_JSXStyle, {\n        id: \"1531380744\",\n        __self: this\n      }, \".container-fluid.jsx-1531380744{width:100%;padding:0 15px;margin-right:auto;margin-left:auto;}.clearfix.jsx-1531380744{clear:both;}.wrapper.jsx-1531380744{margin:0 auto;height:auto;overflow:auto;}.forgot_account_number.jsx-1531380744{height:100vh !important;background-image:url(./static/images/forgot_account_numberbg.png);background-position:top center;background-repeat:no-repeat;background-size:cover;background-color:#181a1a;}.forgot_account_number.jsx-1531380744 .rightsec.padleft.jsx-1531380744{padding-left:0;text-align:center;}.forgot_account_number.jsx-1531380744 .rightsec.jsx-1531380744{text-align:center;}.padleft.jsx-1531380744{padding-left:255px;}.rightsec.jsx-1531380744{width:100%;height:auto;padding-top:130px;}.clearfix.jsx-1531380744{clear:both;}.choicelogo.jsx-1531380744{margin-bottom:55px;}.forgot_account_number.jsx-1531380744 .rightsec.jsx-1531380744 .boxgroup.jsx-1531380744{padding:0;max-width:554px;width:100%;margin-left:auto;margin-right:auto;margin-top:auto;margin-bottom:auto;}.boxgroup.jsx-1531380744{padding:0 20px 0 30px;text-align:center;}.forgot_account.jsx-1531380744{background-color:#ffffff;width:100%;height:auto;box-shadow:0 0 3px rgba(0,0,0,0.35);margin-bottom:30px;position:relative;border-radius:7px;-webkit-border-radius:7px;-moz-border-radius:7px;-ms-border-radius:7px;-o-border-radius:7px;padding:30px;}.discrption.jsx-1531380744{margin-bottom:35px;width:100%;}.forgot_account.jsx-1531380744 h5.jsx-1531380744{font-weight:normal;margin-bottom:15px;}h5.jsx-1531380744{font-size:24px;font-family:\\\"Raleway\\\",sans-serif;color:#252525;}.forgot_account.jsx-1531380744 p.jsx-1531380744{color:#959595;}p.jsx-1531380744{font-size:14px;font-family:\\\"Raleway\\\",sans-serif;color:#484949;line-height:25px;}.formsec.jsx-1531380744{width:100%;}.formsec.jsx-1531380744 ul.jsx-1531380744{margin:0;padding:0;list-style:none;}.forgot_account.jsx-1531380744 .formsec.jsx-1531380744 ul.jsx-1531380744 li.jsx-1531380744{margin-bottom:27px;}.forgot_account.jsx-1531380744 .formsec.jsx-1531380744 .read.jsx-1531380744{max-width:100%;}.read.jsx-1531380744,.see_more.jsx-1531380744{line-height:inherit;text-transform:none;}.read.jsx-1531380744{font-size:16px;color:#1ca609;display:inline-block;vertical-align:top;font-weight:bold;padding:5px 15px;border:1px solid transparent;margin:0 auto;max-width:170px;width:100%;text-align:center;border-radius:5px;-webkit-border-radius:5px;-moz-border-radius:5px;-ms-border-radius:5px;-o-border-radius:5px;background-color:#00bbf7;color:#ffffff;font-size:14px;border:1px solid transparent;}.forgot_account.jsx-1531380744 .formsec.jsx-1531380744 ul.jsx-1531380744 li.jsx-1531380744 input.jsx-1531380744{height:inherit;padding-top:10px;padding-bottom:10px;}.formsec.jsx-1531380744 ul.jsx-1531380744 li.jsx-1531380744 input[type=\\\"text\\\"].jsx-1531380744{height:2rem;margin-bottom:0;font-family:\\\"Raleway\\\",sans-serif;font-size:14px;}.formsec.jsx-1531380744 ul.jsx-1531380744 li.jsx-1531380744 input[type=\\\"password\\\"].jsx-1531380744{height:2rem;margin-bottom:0;font-family:\\\"Raleway\\\",sans-serif;font-size:14px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy93b2xmL0RvY3VtZW50cy9jbGVhcmNob2ljZS9hZG1pbi9mZWF0dXJlLXZpZXctdXBkYXRlZC1jb3Vyc2UvY2xlYXItY2hvaWNlLWFkbWluL3BhZ2VzL2xvZ2luLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXVOVyxBQUcwQixBQU1BLEFBR0csQUFLVSxBQVFULEFBS0csQUFHQyxBQUdSLEFBS0EsQUFHUSxBQUdULEFBU1ksQUFJRyxBQWNOLEFBSUEsQUFLSixBQUtELEFBR0MsQUFNSixBQUdGLEFBS1UsQUFHSixBQUlLLEFBSUwsQUFzQkEsQUFNSCxBQU1BLFNBakRGLENBckRNLENBNUNELEFBTWpCLEFBMkJjLEFBS2QsQUF3REEsQ0ErQ2tCLEFBTUEsRUExSUosQUE0RWQsQ0EvRG9CLEFBMERnQixBQVFBLEFBaUJwQyxBQVFnQixBQXNCRyxHQTVHbkIsQ0FHQSxBQVdBLEFBOEJhLEFBSVEsQUF1QkgsQUFJbEIsQ0FPc0IsRUF4REYsQ0FuQkEsQ0FwQmdELENBMkN2RCxDQXhETyxBQVNKLEFBbUNILEVBaUd1QixBQU1BLENBbENiLENBMUN2QixFQWdFc0IsQ0FqSHRCLEVBNEVBLENBekNjLENBWkssQ0E4Qm5CLEVBakVBLEFBMkNBLEFBd0RBLENBM0VBLEdBakNtQixJQXlEc0IsQUFzQnpCLEFBUUEsRUEwQkssRUFzQnJCLEVBMUZvQixPQTVDcEIsQUE0SWlCLEFBTUEsQ0FuRWpCLEFBUW1CLE9BMEJBLEdBcEVELElBZ0dsQixBQU1BLEdBM0RBLEtBL0JxQixFQXlERixFQXBFRSxFQWxDWSxhQThDYixBQXlEVyxJQXBFL0IsY0FsQzhCLEFBOENWLFdBeURKLE9BeERZLE9BeURWLEdBdkdNLGFBd0dYLEdBekRZLE1BOUNFLEVBd0dQLGVBekRJLEdBMERKLEtBeEdwQixhQXlHNEIsQ0ExREwscUJBQ1IsSUEwRFUsU0F6RHpCLGNBMER3QixzQkFDRCxxQkFDSSx5QkFDWCxjQUNDLGVBQ2MsNkJBQy9CIiwiZmlsZSI6Ii9Vc2Vycy93b2xmL0RvY3VtZW50cy9jbGVhcmNob2ljZS9hZG1pbi9mZWF0dXJlLXZpZXctdXBkYXRlZC1jb3Vyc2UvY2xlYXItY2hvaWNlLWFkbWluL3BhZ2VzL2xvZ2luLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgY29tcG9zZSB9IGZyb20gJ3JlZHV4JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBjcmVhdGVTdHJ1Y3R1cmVkU2VsZWN0b3IgfSBmcm9tICdyZXNlbGVjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gXCJwcm9wLXR5cGVzXCI7XG5pbXBvcnQgeyBsb2dJbiwgbG9nZ2VkSW4sIGxvZ291dCwgc2V0VG9rZW4gfSBmcm9tIFwiLi4vdXRpbHMvQXV0aFNlcnZpY2VcIjtcbmltcG9ydCBSb3V0ZXIgZnJvbSBcIm5leHQvcm91dGVyXCI7XG5pbXBvcnQgeyBzZXRVc2VySXNMb2dnZWQsIGdldEN1cnJlbnRVc2VyIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlci9pbmRleC9hY3Rpb25zXCI7XG5pbXBvcnQgeyBtYWtlU2VsZWN0Q3VycmVudFVzZXIgfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VyL2luZGV4L3NlbGVjdG9yc1wiO1xuXG5cbmNsYXNzIExvZ2luIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGVtYWlsOiBcIlwiLFxuICAgICAgcGFzc3dvcmQ6IFwiXCIsXG4gICAgICBmb3Jnb3RQYXNzd29yZDogZmFsc2UsXG4gICAgICBsb2dpbkVycm9yOiBmYWxzZSxcbiAgICAgIHJlY292ZXJFbWFpbDogXCJcIixcbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKGxvZ2dlZEluKCkpIHtcbiAgICAgIGxvZ291dCgpO1xuICAgICAgY29uc3QgeyBvblNldFVzZXJJc0xvZ2dlZCB9ID0gdGhpcy5wcm9wcztcbiAgICAgIG9uU2V0VXNlcklzTG9nZ2VkKGZhbHNlKTtcbiAgICB9XG4gICAgdGhpcy50ZXh0RmllbGRGb3JVc2VyRW1haWxSZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcbiAgICB0aGlzLnRleHRGaWVsZEZvclBhc3N3b3JkUmVmID0gUmVhY3QuY3JlYXRlUmVmKCk7XG4gICAgdGhpcy5jaGtSZW1lbWJlclJlZiA9IFJlYWN0LmNyZWF0ZVJlZigpO1xuICAgIHRoaXMuYnV0dG9uRm9yTG9naW5SZWYgPSBSZWFjdC5jcmVhdGVSZWYoKTtcbiAgfVxuXG4gIGhhbmRsZVN1Ym1pdCA9IGFzeW5jIGV2ZW50ID0+IHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHBvc3RCb2R5ID0ge1xuICAgICAgZW1haWwsXG4gICAgICBwYXNzd29yZCxcbiAgICB9O1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBsb2dJbihwb3N0Qm9keSk7XG4gICAgaWYgKGRhdGEudG9rZW4gJiYgZGF0YS5leHBpcmVzX2F0KSB7XG4gICAgICBzZXRUb2tlbihkYXRhLnRva2VuLCBkYXRhLmV4cGlyZXNfYXQpO1xuICAgICAgY29uc3QgeyBvbkZldGNoQ3VycmVudFVzZXIgfSA9IHRoaXMucHJvcHM7XG4gICAgICBvbkZldGNoQ3VycmVudFVzZXIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGxvZ2luRXJyb3I6IHRydWUsXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9IChuZXh0UHJvcHMpID0+IHtcbiAgICBjb25zdCB7IG9uU2V0VXNlcklzTG9nZ2VkIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgY3VycmVudFVzZXIgfSA9IG5leHRQcm9wcztcbiAgICBpZiAoY3VycmVudFVzZXIgJiYgY3VycmVudFVzZXIudHlwZSA9PT0gXCJJTlNUUlVDVE9SXCIpIHtcbiAgICAgIG9uU2V0VXNlcklzTG9nZ2VkKHRydWUpO1xuICAgICAgUm91dGVyLnB1c2goXCIvZGFzaGJvYXJkXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvblNldFVzZXJJc0xvZ2dlZChmYWxzZSk7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgbG9naW5FcnJvcjogdHJ1ZSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG5cbiAgaGFuZGxlQ2hhbmdlRm9ybSA9IGV2ZW50ID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIFtldmVudC50YXJnZXQubmFtZV06IGV2ZW50LnRhcmdldC52YWx1ZSxcbiAgICB9KTtcbiAgfTtcblxuICBoYW5kbGVGb3Jnb3RQYXNzd29yZCA9ICgpID0+IHtcbiAgICBjb25zb2xlLmxvZygndGhpcy5yZWNvdmVyRW1haWwnLCB0aGlzLnN0YXRlLnJlY292ZXJFbWFpbCk7XG4gIH1cbiAgb25TZXRGb3Jnb3RQYXNzd29yZCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGZvcmdvdFBhc3N3b3JkOiB0cnVlLFxuICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgZW1haWwsIHBhc3N3b3JkLCBmb3Jnb3RQYXNzd29yZCwgbG9naW5FcnJvciwgcmVjb3ZlckVtYWlsIH0gPSB0aGlzLnN0YXRlO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ3cmFwcGVyIGZvcmdvdF9hY2NvdW50X251bWJlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyLWZsdWlkIGNsZWFyZml4XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJpZ2h0c2VjIHBhZGxlZnQgY2xlYXJmaXhcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJib3hncm91cFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hvaWNlbG9nb1wiPlxuICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIj5cbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIuL3N0YXRpYy9pbWFnZXMvY2hvaWNlX2xvZ29fYmlnLnBuZ1wiIGFsdD1cIlwiIC8+XG4gICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPENob29zZT5cbiAgICAgICAgICAgICAgICAgIDxXaGVuIGNvbmRpdGlvbj17Zm9yZ290UGFzc3dvcmR9PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcmdvdF9hY2NvdW50XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkaXNjcnB0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aDU+Rm9yZ290IEFjY291bnQgTnVtYmVyPC9oNT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwPklmIHlvdeKAmXZlIGxvc3Qgb3IgZm9yZ290dGVuIHlvdXIgQWNjb3VudCBOdW1iZXIsIHdlIGNhbiBzZW5kdCBpdCB0byB5b3VyIGVtYWlsIGFkZHJlc3MuIFRvIHJlY2VpdmUgeW91ciBBY2NvdW50IE51bWJlciBieSBlbWFpbCwgZW50ZXIgeW91ciBlbWFpbCBhZGRyZXNzIGJlbG93IGFuZCBjbGljayDigJxTZW5kIEFjY291bnQgTnVtYmVy4oCdLjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcm1zZWNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJjbGVhcmZpeFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbnB1dC1maWVsZCBpbnB1dC1maWVsZC1pY29uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImVtYWlsXCIgbmFtZT1cInJlY292ZXJFbWFpbFwiIHBsYWNlaG9sZGVyPVwiRW50ZXIgeW91ciBFbWFpbCBBZGRyZXNcIiB2YWx1ZT17cmVjb3ZlckVtYWlsfSBvbkNoYW5nZT17dGhpcy5oYW5kbGVDaGFuZ2VGb3JtfSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5wdXQtaWNvbiBpY29uLWxldHRlcjJcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT48YnV0dG9uIGNsYXNzTmFtZT1cImJ0biB3YXZlcy1lZmZlY3QgcmVhZFwiIG9uQ2xpY2s9e3RoaXMuaGFuZGxlRm9yZ290UGFzc3dvcmR9PlNlbmQgQWNjb3VudCBOdW1iZXI8L2J1dHRvbj48L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L1doZW4+XG4gICAgICAgICAgICAgICAgICA8T3RoZXJ3aXNlPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvcmdvdF9hY2NvdW50XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJkaXNjcnB0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7bG9naW5FcnJvciA/IDxoNSBzdHlsZT17eyBjb2xvcjogJ3JlZCcgfX0+UGxlYXNlIEVudGVyIHZhbGlkIGVtYWlsIGFuZCBwYXNzd29yZDwvaDU+IDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDU+UGxlYXNlIEVudGVyIHlvdXIgZW1haWwgYW5kIHBhc3N3b3JkPC9oNT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZvciBzZWN1cml0eSBwdXJwb3NlcywgeW91IG5lZWQgdG8gZW50ZXIgYSBjdXJyZW50IHlvdXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtYWlsIGFuZCBwYXNzd29yZCBmb3IgdGhpcyBhY2NvdW50LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD48Lz59XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmb3Jtc2VjXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwiY2xlYXJmaXhcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5wdXQtZmllbGQgaW5wdXQtZmllbGQtaWNvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImVtYWlsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJlbWFpbFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtlbWFpbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlRm9ybX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZW1haWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvRm9jdXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXt0aGlzLnRleHRGaWVsZEZvclVzZXJFbWFpbFJlZn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25LZXlQcmVzcz17ZXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5rZXkgPT09IFwiRW50ZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0RmllbGRGb3JQYXNzd29yZFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImlucHV0LWljb24gaWNvbi1sZXR0ZXIyXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpbnB1dC1maWVsZCBpbnB1dC1maWVsZC1pY29uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXtwYXNzd29yZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlQ2hhbmdlRm9ybX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRvRm9jdXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXt0aGlzLnRleHRGaWVsZEZvclBhc3N3b3JkUmVmfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbktleVByZXNzPXtldmVudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoa1JlbWVtYmVyUmVmLmN1cnJlbnQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaW5wdXQtaWNvbiBpY29uLWtleVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb3Vyc2UtY29udGV4dF90d28tY29sXCIgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAyMCB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbHVtblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjaGVja2JveC1ibG9ja1wiIHN0eWxlPXt7IHRleHRBbGlnbjogJ2xlZnQnLCBwYWRkaW5nTGVmdDogMjAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hlY2tib3gtaG9sZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZpbGxlZC1pblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9XCJjaGtfcmVtZW1iZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cImNoa19yZW1lbWJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9Gb2N1c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9e3RoaXMuY2hrUmVtZW1iZXJSZWZ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uS2V5UHJlc3M9e2V2ZW50ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQua2V5ID09PSBcIkVudGVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9uRm9yTG9naW5SZWYuY3VycmVudC5jbGljaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImxhcmdlLWxhYmVsXCI+UmVtZW1iZXIgTWU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgdGV4dEFsaWduOiBcInJpZ2h0XCIsIHdpZHRoOiAnMTAwJScsIHBhZGRpbmdSaWdodDogMjAgfX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBvbkNsaWNrPXt0aGlzLm9uU2V0Rm9yZ290UGFzc3dvcmR9IHN0eWxlPXt7IGN1cnNvcjogJ3BvaW50ZXInIH19PkZvcmdvdCBQYXNzd29yZD88L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxsaT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biB3YXZlcy1lZmZlY3QgcmVhZFwiIG9uQ2xpY2s9e3RoaXMuaGFuZGxlU3VibWl0fSByZWY9e3RoaXMuYnV0dG9uRm9yTG9naW5SZWZ9PkxvZ0luPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvT3RoZXJ3aXNlPlxuICAgICAgICAgICAgICAgIDwvQ2hvb3NlPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICB7YFxuICAgICAgICAgICAgLmNvbnRhaW5lci1mbHVpZCB7XG4gICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICBwYWRkaW5nOiAwIDE1cHg7XG4gICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogYXV0bztcbiAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuY2xlYXJmaXgge1xuICAgICAgICAgICAgICBjbGVhcjogYm90aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC53cmFwcGVyIHtcbiAgICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgICAgICAgICAgIGhlaWdodDogYXV0bztcbiAgICAgICAgICAgICAgb3ZlcmZsb3c6IGF1dG87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuZm9yZ290X2FjY291bnRfbnVtYmVyIHtcbiAgICAgICAgICAgICAgaGVpZ2h0OiAxMDB2aCAhaW1wb3J0YW50O1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoLi9zdGF0aWMvaW1hZ2VzL2ZvcmdvdF9hY2NvdW50X251bWJlcmJnLnBuZyk7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IHRvcCBjZW50ZXI7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxODFhMWE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuZm9yZ290X2FjY291bnRfbnVtYmVyIC5yaWdodHNlYy5wYWRsZWZ0IHtcbiAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAwO1xuICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC5mb3Jnb3RfYWNjb3VudF9udW1iZXIgLnJpZ2h0c2VjIHtcbiAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLnBhZGxlZnQge1xuICAgICAgICAgICAgICBwYWRkaW5nLWxlZnQ6IDI1NXB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLnJpZ2h0c2VjIHtcbiAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgIGhlaWdodDogYXV0bztcbiAgICAgICAgICAgICAgcGFkZGluZy10b3A6IDEzMHB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmNsZWFyZml4IHtcbiAgICAgICAgICAgICAgY2xlYXI6IGJvdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuY2hvaWNlbG9nbyB7XG4gICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDU1cHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuZm9yZ290X2FjY291bnRfbnVtYmVyIC5yaWdodHNlYyAuYm94Z3JvdXAge1xuICAgICAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgICAgICBtYXgtd2lkdGg6IDU1NHB4O1xuICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogYXV0bztcbiAgICAgICAgICAgICAgbWFyZ2luLXRvcDogYXV0bztcbiAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogYXV0bztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5ib3hncm91cCB7XG4gICAgICAgICAgICAgIHBhZGRpbmc6IDAgMjBweCAwIDMwcHg7XG4gICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5mb3Jnb3RfYWNjb3VudCB7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XG4gICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICBoZWlnaHQ6IGF1dG87XG4gICAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMCAzcHggcmdiYSgwLCAwLCAwLCAwLjM1KTtcbiAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDtcbiAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA3cHg7XG4gICAgICAgICAgICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogN3B4O1xuICAgICAgICAgICAgICAtbW96LWJvcmRlci1yYWRpdXM6IDdweDtcbiAgICAgICAgICAgICAgLW1zLWJvcmRlci1yYWRpdXM6IDdweDtcbiAgICAgICAgICAgICAgLW8tYm9yZGVyLXJhZGl1czogN3B4O1xuICAgICAgICAgICAgICBwYWRkaW5nOiAzMHB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmRpc2NycHRpb24ge1xuICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAzNXB4O1xuICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5mb3Jnb3RfYWNjb3VudCBoNSB7XG4gICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGg1IHtcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAyNHB4O1xuICAgICAgICAgICAgICBmb250LWZhbWlseTogXCJSYWxld2F5XCIsIHNhbnMtc2VyaWY7XG4gICAgICAgICAgICAgIGNvbG9yOiAjMjUyNTI1O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmZvcmdvdF9hY2NvdW50IHAge1xuICAgICAgICAgICAgICBjb2xvcjogIzk1OTU5NTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHAge1xuICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBcIlJhbGV3YXlcIiwgc2Fucy1zZXJpZjtcbiAgICAgICAgICAgICAgY29sb3I6ICM0ODQ5NDk7XG4gICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAyNXB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmZvcm1zZWMge1xuICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5mb3Jtc2VjIHVsIHtcbiAgICAgICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgICAgICBsaXN0LXN0eWxlOiBub25lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmZvcmdvdF9hY2NvdW50IC5mb3Jtc2VjIHVsIGxpIHtcbiAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjdweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5mb3Jnb3RfYWNjb3VudCAuZm9ybXNlYyAucmVhZCB7XG4gICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5yZWFkLFxuICAgICAgICAgICAgLnNlZV9tb3JlIHtcbiAgICAgICAgICAgICAgbGluZS1oZWlnaHQ6IGluaGVyaXQ7XG4gICAgICAgICAgICAgIHRleHQtdHJhbnNmb3JtOiBub25lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLnJlYWQge1xuICAgICAgICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgICAgICAgIGNvbG9yOiAjMWNhNjA5O1xuICAgICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgICAgIHZlcnRpY2FsLWFsaWduOiB0b3A7XG4gICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICAgICAgICBwYWRkaW5nOiA1cHggMTVweDtcbiAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgdHJhbnNwYXJlbnQ7XG4gICAgICAgICAgICAgIG1hcmdpbjogMCBhdXRvO1xuICAgICAgICAgICAgICBtYXgtd2lkdGg6IDE3MHB4O1xuICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1cHg7XG4gICAgICAgICAgICAgIC13ZWJraXQtYm9yZGVyLXJhZGl1czogNXB4O1xuICAgICAgICAgICAgICAtbW96LWJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgICAgICAgICAgLW1zLWJvcmRlci1yYWRpdXM6IDVweDtcbiAgICAgICAgICAgICAgLW8tYm9yZGVyLXJhZGl1czogNXB4O1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDBiYmY3O1xuICAgICAgICAgICAgICBjb2xvcjogI2ZmZmZmZjtcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5mb3Jnb3RfYWNjb3VudCAuZm9ybXNlYyB1bCBsaSBpbnB1dCB7XG4gICAgICAgICAgICAgIGhlaWdodDogaW5oZXJpdDtcbiAgICAgICAgICAgICAgcGFkZGluZy10b3A6IDEwcHg7XG4gICAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAxMHB4O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAuZm9ybXNlYyB1bCBsaSBpbnB1dFt0eXBlPVwidGV4dFwiXSB7XG4gICAgICAgICAgICAgIGhlaWdodDogMnJlbTtcbiAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMDtcbiAgICAgICAgICAgICAgZm9udC1mYW1pbHk6IFwiUmFsZXdheVwiLCBzYW5zLXNlcmlmO1xuICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuZm9ybXNlYyB1bCBsaSBpbnB1dFt0eXBlPVwicGFzc3dvcmRcIl0ge1xuICAgICAgICAgICAgICBoZWlnaHQ6IDJyZW07XG4gICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDA7XG4gICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBcIlJhbGV3YXlcIiwgc2Fucy1zZXJpZjtcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIGB9XG4gICAgICAgIDwvc3R5bGU+XG4gICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICk7XG4gIH1cbn1cblxuTG9naW4ucHJvcFR5cGVzID0ge1xuICBvblNldFVzZXJJc0xvZ2dlZDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbn07XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9IGNyZWF0ZVN0cnVjdHVyZWRTZWxlY3Rvcih7XG4gIGN1cnJlbnRVc2VyOiBtYWtlU2VsZWN0Q3VycmVudFVzZXIoKSxcbn0pO1xuXG5mdW5jdGlvbiBtYXBEaXNwYXRjaFRvUHJvcHMoZGlzcGF0Y2gpIHtcbiAgcmV0dXJuIHtcbiAgICBvblNldFVzZXJJc0xvZ2dlZDogdmFsdWUgPT4gZGlzcGF0Y2goc2V0VXNlcklzTG9nZ2VkKHZhbHVlKSksXG4gICAgb25GZXRjaEN1cnJlbnRVc2VyOiAoKSA9PiBkaXNwYXRjaChnZXRDdXJyZW50VXNlcigpKSxcbiAgfTtcbn1cblxuY29uc3Qgd2l0aENvbm5lY3QgPSBjb25uZWN0KG1hcFN0YXRlVG9Qcm9wcywgbWFwRGlzcGF0Y2hUb1Byb3BzKTtcblxuZXhwb3J0IGRlZmF1bHQgY29tcG9zZSh3aXRoQ29ubmVjdCkoTG9naW4pO1xuIl19 */\\n/*@ sourceURL=/Users/wolf/Documents/clearchoice/admin/feature-view-updated-course/clear-choice-admin/pages/login.js */\"));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nLogin.propTypes = {\n  onSetUserIsLogged: PropTypes.func.isRequired\n};\nvar mapStateToProps = createStructuredSelector({\n  currentUser: makeSelectCurrentUser()\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    onSetUserIsLogged: function onSetUserIsLogged(value) {\n      return dispatch(setUserIsLogged(value));\n    },\n    onFetchCurrentUser: function onFetchCurrentUser() {\n      return dispatch(getCurrentUser());\n    }\n  };\n}\n\nvar withConnect = connect(mapStateToProps, mapDispatchToProps);\nexport default compose(withConnect)(Login);","map":{"version":3,"sources":["/Users/wolf/Documents/clearchoice/admin/feature-view-updated-course/clear-choice-admin/pages/login.js"],"names":["React","Component","compose","connect","createStructuredSelector","PropTypes","logIn","loggedIn","logout","setToken","Router","setUserIsLogged","getCurrentUser","makeSelectCurrentUser","Login","props","event","preventDefault","state","email","password","postBody","data","token","expires_at","onFetchCurrentUser","setState","loginError","nextProps","onSetUserIsLogged","currentUser","type","push","target","name","value","console","log","recoverEmail","forgotPassword","textFieldForUserEmailRef","createRef","textFieldForPasswordRef","chkRememberRef","buttonForLoginRef","handleChangeForm","handleForgotPassword","color","key","current","focus","marginBottom","textAlign","paddingLeft","click","width","paddingRight","onSetForgotPassword","cursor","handleSubmit","propTypes","func","isRequired","mapStateToProps","mapDispatchToProps","dispatch","withConnect"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport PropTypes from \"prop-types\";\nimport { logIn, loggedIn, logout, setToken } from \"../utils/AuthService\";\nimport Router from \"next/router\";\nimport { setUserIsLogged, getCurrentUser } from \"../components/User/index/actions\";\nimport { makeSelectCurrentUser } from \"../components/User/index/selectors\";\n\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      forgotPassword: false,\n      loginError: false,\n      recoverEmail: \"\",\n    };\n  }\n\n  componentDidMount() {\n    if (loggedIn()) {\n      logout();\n      const { onSetUserIsLogged } = this.props;\n      onSetUserIsLogged(false);\n    }\n    this.textFieldForUserEmailRef = React.createRef();\n    this.textFieldForPasswordRef = React.createRef();\n    this.chkRememberRef = React.createRef();\n    this.buttonForLoginRef = React.createRef();\n  }\n\n  handleSubmit = async event => {\n    event.preventDefault();\n    const { email, password } = this.state;\n    const postBody = {\n      email,\n      password,\n    };\n    const data = await logIn(postBody);\n    if (data.token && data.expires_at) {\n      setToken(data.token, data.expires_at);\n      const { onFetchCurrentUser } = this.props;\n      onFetchCurrentUser();\n    } else {\n      this.setState({\n        loginError: true,\n      });\n    }\n  };\n\n  componentWillReceiveProps = (nextProps) => {\n    const { onSetUserIsLogged } = this.props;\n    const { currentUser } = nextProps;\n    if (currentUser && currentUser.type === \"INSTRUCTOR\") {\n      onSetUserIsLogged(true);\n      Router.push(\"/dashboard\");\n    } else {\n      onSetUserIsLogged(false);\n      this.setState({\n        loginError: true,\n      });\n    }\n  }\n\n\n  handleChangeForm = event => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  handleForgotPassword = () => {\n    console.log('this.recoverEmail', this.state.recoverEmail);\n  }\n  onSetForgotPassword = () => {\n    this.setState({\n      forgotPassword: true,\n    });\n  }\n\n  render() {\n    const { email, password, forgotPassword, loginError, recoverEmail } = this.state;\n\n    return (\n      <React.Fragment>\n        <div className=\"wrapper forgot_account_number\">\n          <div className=\"container-fluid clearfix\">\n            <div className=\"rightsec padleft clearfix\">\n              <div className=\"boxgroup\">\n                <div className=\"choicelogo\">\n                  <a href=\"#\">\n                    <img src=\"./static/images/choice_logo_big.png\" alt=\"\" />\n                  </a>\n                </div>\n                <Choose>\n                  <When condition={forgotPassword}>\n                    <div className=\"forgot_account\">\n                      <div className=\"discrption\">\n                        <h5>Forgot Account Number</h5>\n                        <p>If youve lost or forgotten your Account Number, we can sendt it to your email address. To receive your Account Number by email, enter your email address below and click Send Account Number.</p>\n                      </div>\n                      <div className=\"formsec\">\n                        <ul className=\"clearfix\">\n                          <li>\n                            <div className=\"input-field input-field-icon\">\n                              <input type=\"email\" name=\"recoverEmail\" placeholder=\"Enter your Email Addres\" value={recoverEmail} onChange={this.handleChangeForm} />\n                              <span className=\"input-icon icon-letter2\"></span>\n                            </div>\n                          </li>\n                          <li><button className=\"btn waves-effect read\" onClick={this.handleForgotPassword}>Send Account Number</button></li>\n                        </ul>\n                      </div>\n                    </div>\n                  </When>\n                  <Otherwise>\n                    <div className=\"forgot_account\">\n                      <div className=\"discrption\">\n                        {loginError ? <h5 style={{ color: 'red' }}>Please Enter valid email and password</h5> :\n                          <>\n                            <h5>Please Enter your email and password</h5>\n                            <p>\n                              For security purposes, you need to enter a current your\n                              email and password for this account.\n                            </p></>}\n                      </div>\n                      <div className=\"formsec\">\n                        <ul className=\"clearfix\">\n                          <li>\n                            <div className=\"input-field input-field-icon\">\n                              <input\n                                type=\"text\"\n                                name=\"email\"\n                                placeholder=\"email\"\n                                value={email}\n                                onChange={this.handleChangeForm}\n                                className=\"email\"\n                                autoFocus\n                                ref={this.textFieldForUserEmailRef}\n                                onKeyPress={event => {\n                                  if (event.key === \"Enter\") {\n                                    this.textFieldForPasswordRef.current.focus();\n                                  }\n                                }}\n                              />\n                              <span className=\"input-icon icon-letter2\"></span>\n                            </div>\n                          </li>\n                          <li>\n                            <div className=\"input-field input-field-icon\">\n                              <input\n                                type=\"password\"\n                                name=\"password\"\n                                placeholder=\"password\"\n                                value={password}\n                                onChange={this.handleChangeForm}\n                                className=\"password\"\n                                autoFocus\n                                ref={this.textFieldForPasswordRef}\n                                onKeyPress={event => {\n                                  if (event.key === \"Enter\") {\n                                    this.chkRememberRef.current.focus();\n                                  }\n                                }}\n                              />\n                              <span className=\"input-icon icon-key\"></span>\n                            </div>\n                          </li>\n                          <div className=\"course-context_two-col\" style={{ marginBottom: 20 }}>\n                            <div className=\"column\">\n                              <div className=\"checkbox-block\" style={{ textAlign: 'left', paddingLeft: 20 }}>\n                                <div className=\"checkbox-holder\">\n                                  <label>\n                                    <input\n                                      type=\"checkbox\"\n                                      className=\"filled-in\"\n                                      name=\"chk_remember\"\n                                      id=\"chk_remember\"\n                                      value\n                                      autoFocus\n                                      ref={this.chkRememberRef}\n                                      onKeyPress={event => {\n                                        if (event.key === \"Enter\") {\n                                          this.buttonForLoginRef.current.click();\n                                        }\n                                      }}\n\n                                    />\n                                    <span className=\"large-label\">Remember Me</span>\n                                  </label>\n                                </div>\n\n                              </div>\n                            </div>\n                            <div style={{ textAlign: \"right\", width: '100%', paddingRight: 20 }}>\n                              <a onClick={this.onSetForgotPassword} style={{ cursor: 'pointer' }}>Forgot Password?</a>\n                            </div>\n                          </div>\n\n                          <li>\n                            <button className=\"btn waves-effect read\" onClick={this.handleSubmit} ref={this.buttonForLoginRef}>LogIn</button>\n                          </li>\n                        </ul>\n                      </div>\n                    </div>\n                  </Otherwise>\n                </Choose>\n              </div>\n            </div>\n          </div>\n        </div>\n        <style jsx>\n          {`\n            .container-fluid {\n              width: 100%;\n              padding: 0 15px;\n              margin-right: auto;\n              margin-left: auto;\n            }\n            .clearfix {\n              clear: both;\n            }\n            .wrapper {\n              margin: 0 auto;\n              height: auto;\n              overflow: auto;\n            }\n            .forgot_account_number {\n              height: 100vh !important;\n              background-image: url(./static/images/forgot_account_numberbg.png);\n              background-position: top center;\n              background-repeat: no-repeat;\n              background-size: cover;\n              background-color: #181a1a;\n            }\n            .forgot_account_number .rightsec.padleft {\n              padding-left: 0;\n              text-align: center;\n            }\n\n            .forgot_account_number .rightsec {\n              text-align: center;\n            }\n            .padleft {\n              padding-left: 255px;\n            }\n            .rightsec {\n              width: 100%;\n              height: auto;\n              padding-top: 130px;\n            }\n            .clearfix {\n              clear: both;\n            }\n            .choicelogo {\n              margin-bottom: 55px;\n            }\n            .forgot_account_number .rightsec .boxgroup {\n              padding: 0;\n              max-width: 554px;\n              width: 100%;\n              margin-left: auto;\n              margin-right: auto;\n              margin-top: auto;\n              margin-bottom: auto;\n            }\n            .boxgroup {\n              padding: 0 20px 0 30px;\n              text-align: center;\n            }\n            .forgot_account {\n              background-color: #ffffff;\n              width: 100%;\n              height: auto;\n              box-shadow: 0 0 3px rgba(0, 0, 0, 0.35);\n              margin-bottom: 30px;\n              position: relative;\n              border-radius: 7px;\n              -webkit-border-radius: 7px;\n              -moz-border-radius: 7px;\n              -ms-border-radius: 7px;\n              -o-border-radius: 7px;\n              padding: 30px;\n            }\n            .discrption {\n              margin-bottom: 35px;\n              width: 100%;\n            }\n            .forgot_account h5 {\n              font-weight: normal;\n              margin-bottom: 15px;\n            }\n\n            h5 {\n              font-size: 24px;\n              font-family: \"Raleway\", sans-serif;\n              color: #252525;\n            }\n            .forgot_account p {\n              color: #959595;\n            }\n            p {\n              font-size: 14px;\n              font-family: \"Raleway\", sans-serif;\n              color: #484949;\n              line-height: 25px;\n            }\n            .formsec {\n              width: 100%;\n            }\n            .formsec ul {\n              margin: 0;\n              padding: 0;\n              list-style: none;\n            }\n            .forgot_account .formsec ul li {\n              margin-bottom: 27px;\n            }\n            .forgot_account .formsec .read {\n              max-width: 100%;\n            }\n            .read,\n            .see_more {\n              line-height: inherit;\n              text-transform: none;\n            }\n            .read {\n              font-size: 16px;\n              color: #1ca609;\n              display: inline-block;\n              vertical-align: top;\n              font-weight: bold;\n              padding: 5px 15px;\n              border: 1px solid transparent;\n              margin: 0 auto;\n              max-width: 170px;\n              width: 100%;\n              text-align: center;\n              border-radius: 5px;\n              -webkit-border-radius: 5px;\n              -moz-border-radius: 5px;\n              -ms-border-radius: 5px;\n              -o-border-radius: 5px;\n              background-color: #00bbf7;\n              color: #ffffff;\n              font-size: 14px;\n              border: 1px solid transparent;\n            }\n            .forgot_account .formsec ul li input {\n              height: inherit;\n              padding-top: 10px;\n              padding-bottom: 10px;\n            }\n\n            .formsec ul li input[type=\"text\"] {\n              height: 2rem;\n              margin-bottom: 0;\n              font-family: \"Raleway\", sans-serif;\n              font-size: 14px;\n            }\n            .formsec ul li input[type=\"password\"] {\n              height: 2rem;\n              margin-bottom: 0;\n              font-family: \"Raleway\", sans-serif;\n              font-size: 14px;\n            }\n          `}\n        </style>\n      </React.Fragment>\n    );\n  }\n}\n\nLogin.propTypes = {\n  onSetUserIsLogged: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = createStructuredSelector({\n  currentUser: makeSelectCurrentUser(),\n});\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    onSetUserIsLogged: value => dispatch(setUserIsLogged(value)),\n    onFetchCurrentUser: () => dispatch(getCurrentUser()),\n  };\n}\n\nconst withConnect = connect(mapStateToProps, mapDispatchToProps);\n\nexport default compose(withConnect)(Login);\n"]},"metadata":{},"sourceType":"module"}