{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nvar API_URL = process.env.API_URL;\nexport var fetchStudentsApi = function fetchStudentsApi() {\n  return fetch(\"\".concat(API_URL, \"/api/students\"), {\n    headers: {\n      \"Access-Control-Allow-Origin\": \"*\",\n      \"Content-Type\": \"application/json\"\n    }\n  }).then(function (res) {\n    return res.json();\n  }).then(function (_ref) {\n    var data = _ref.data;\n    var formattedStudents = data.students.map(function (student) {\n      return {\n        id: student.id,\n        active: false,\n        studentInformation: {\n          firstName: student.first_name,\n          lastName: student.last_name,\n          gender: student.gender\n        },\n        contactInformation: {\n          phone: student.phone,\n          addressLine1: student.address,\n          addressLine2: '',\n          city: student.city,\n          state: student.state,\n          zipCode: student.zipCode\n        },\n        emailAddress: {\n          email: student.email\n        },\n        location: {\n          locations: student.locations\n        }\n      };\n    });\n    return formattedStudents;\n  });\n};\nexport var addNewStudentApi = function addNewStudentApi(student) {\n  var _student$studentInfor = student.studentInformation,\n      first_name = _student$studentInfor.firstName,\n      last_name = _student$studentInfor.lastName,\n      gender = _student$studentInfor.gender;\n  var email = student.emailAddress.email;\n  var _student$contactInfor = student.contactInformation,\n      state = _student$contactInfor.state,\n      addressLine1 = _student$contactInfor.addressLine1,\n      addressLine2 = _student$contactInfor.addressLine2,\n      city = _student$contactInfor.city,\n      phone = _student$contactInfor.phone,\n      zip = _student$contactInfor.zipCode;\n  var locations = student.location.locations;\n  var studentPayload = {\n    first_name: first_name,\n    last_name: last_name,\n    email: email,\n    gender: gender,\n    state: state,\n    locations: locations,\n    phone: phone,\n    address: \"\".concat(addressLine1, \"\\n\").concat(addressLine2),\n    city: city,\n    zip: zip\n  };\n  fetch(\"\".concat(API_URL, \"/api/commands/create-student\"), {\n    headers: {\n      \"Access-Control-Allow-Origin\": \"*\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: _JSON$stringify(studentPayload)\n  }).then(function (res) {\n    return res.json();\n  }).catch(function (err) {\n    return err;\n  });\n};\nexport var deleteStudentApi = function deleteStudentApi(id) {\n  return fetch(\"\".concat(API_URL, \"/api/commands/delete-student\"), {\n    method: \"DELETE\",\n    headers: {\n      \"Access-Control-Allow-Origin\": \"*\",\n      \"Content-Type\": \"application/json\"\n    },\n    body: _JSON$stringify({\n      student_id: id\n    })\n  }).then(function (res) {\n    return res.json();\n  }).catch(function (err) {\n    return err;\n  });\n};","map":{"version":3,"sources":["/Volumes/HDD/Sites/clearchoicetestprep/clear-choice-admin/components/Student/index/api.js"],"names":["API_URL","process","env","fetchStudentsApi","fetch","headers","then","res","json","data","formattedStudents","students","map","student","id","active","studentInformation","firstName","first_name","lastName","last_name","gender","contactInformation","phone","addressLine1","address","addressLine2","city","state","zipCode","emailAddress","email","location","locations","addNewStudentApi","zip","studentPayload","body","catch","err","deleteStudentApi","method","student_id"],"mappings":"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","sourcesContent":["const API_URL = process.env.API_URL;\n\nexport const fetchStudentsApi = () =>\n  fetch(`${API_URL}/api/students`, {\n    headers: {\n      \"Access-Control-Allow-Origin\": \"*\",\n      \"Content-Type\": \"application/json\",\n    },\n  })\n    .then(res => res.json())\n    .then(({ data }) => {\n      const formattedStudents = data.students.map(student => ({\n          id: student.id,\n          active: false,\n          studentInformation: {\n            firstName: student.first_name,\n            lastName: student.last_name,\n            gender: student.gender,\n          },\n          contactInformation: {\n            phone: student.phone,\n            addressLine1: student.address,\n            addressLine2: '',\n            city: student.city,\n            state: student.state,\n            zipCode: student.zipCode,\n          },\n          emailAddress: {\n            email: student.email,\n          },\n          location: {\n            locations: student.locations,\n          },\n        }));\n      return formattedStudents;\n    });\n\nexport const addNewStudentApi = student => {\n  const {\n    firstName: first_name,\n    lastName: last_name,\n    gender,\n  } = student.studentInformation;\n  const { email } = student.emailAddress;\n  const { state, addressLine1, addressLine2, city, phone, zipCode: zip } = student.contactInformation;\n  const { locations } = student.location;\n  const studentPayload = { first_name, last_name, email, gender, state, locations, phone, address: `${addressLine1}\\n${addressLine2}`, city, zip };\n  fetch(`${API_URL}/api/commands/create-student`, {\n    headers: {\n      \"Access-Control-Allow-Origin\": \"*\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(studentPayload),\n  })\n    .then(res => res.json())\n    .catch(err => err);\n};\n\nexport const deleteStudentApi = id =>\n  fetch(`${API_URL}/api/commands/delete-student`, {\n    method: \"DELETE\",\n    headers: {\n      \"Access-Control-Allow-Origin\": \"*\",\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ student_id: id }),\n  })\n    .then(res => res.json())\n    .catch(err => err);\n"]},"metadata":{},"sourceType":"module"}