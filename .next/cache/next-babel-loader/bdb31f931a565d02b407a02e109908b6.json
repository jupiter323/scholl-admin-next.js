{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from 'react';\nimport moment from 'moment';\nimport DatePicker from 'react-datepicker';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport 'react-datepicker/dist/react-datepicker-cssmodules.css';\nimport Portal from '../../../../Portal';\nimport ClickOffComponentWrapper from '../../../../ClickOffComponentWrapper';\nimport Dropdown from '../../../../FormComponents/Dropdown';\nimport getValueFromState from '../../../../utils/getValueFromState';\nconst sampleVersions = [{\n  label: 'SAT Practice Test #1',\n  value: 'SAT Practice Test #1'\n}, {\n  label: 'SAT Practice Test #2',\n  value: 'SAT Practice Test #2'\n}, {\n  label: 'SAT Practice Test #3',\n  value: 'SAT Practice Test #3'\n}];\nconst sampleSections = [{\n  label: 'Math (no calc)',\n  value: 'Math (no calc)'\n}, {\n  label: 'Reading',\n  value: 'Reading'\n}, {\n  label: 'Writing',\n  value: 'Writing'\n}, {\n  label: 'Math (calculator)',\n  value: 'Math (calculator)'\n}];\n\nclass AssignTestSectionModal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onResetModal\", () => this.setState({\n      version: '',\n      section: '',\n      assignDate: '',\n      assignTime: '',\n      dueDate: '',\n      dueTime: '',\n      timed: false\n    }));\n\n    _defineProperty(this, \"onCloseModal\", () => {\n      const {\n        onClose\n      } = this.props;\n      onClose();\n      this.onResetModal();\n    });\n\n    _defineProperty(this, \"assignTestSection\", () => {\n      const {\n        onAssignTestSection\n      } = this.props;\n      const {\n        version,\n        section,\n        assignDate: unformattedAssignDate,\n        assignTime: unformattedAssignTime,\n        dueDate: unformattedDueDate,\n        dueTime: unformattedDueTime,\n        timed\n      } = this.state;\n      const assignDate = moment(unformattedAssignDate).format('MM/DD/YY');\n      const assignTime = moment(unformattedAssignTime).format('hh:mm');\n      const dueDate = moment(unformattedDueDate).format('MM/DD/YY');\n      const dueTime = moment(unformattedDueTime).format('hh:mm');\n      onAssignTestSection({\n        version,\n        section,\n        assignDate,\n        assignTime,\n        dueDate,\n        dueTime,\n        timed\n      });\n      this.onResetModal();\n    });\n\n    _defineProperty(this, \"handleDetailsChange\", (event, name = null) => {\n      if (event.target) {\n        this.setState(({\n          timed\n        }) => ({\n          timed: !timed\n        }));\n      } else {\n        this.setState({\n          [name]: event\n        });\n      }\n    });\n\n    _defineProperty(this, \"handleDatePickerChange\", (field, value) => this.setState({\n      [field]: value\n    }));\n\n    this.state = {\n      version: '',\n      section: '',\n      assignDate: '',\n      assignTime: '',\n      dueDate: '',\n      dueTime: '',\n      timed: false\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      modalDate\n    } = this.props;\n\n    if (prevState.assignDate === '' && modalDate) {\n      // eslint-disable-next-line react/no-did-update-set-state\n      this.setState({\n        assignDate: new Date(modalDate)\n      });\n    }\n  }\n\n  render() {\n    const {\n      open\n    } = this.props;\n    const {\n      version,\n      section,\n      assignDate,\n      assignTime,\n      dueDate,\n      dueTime,\n      timed\n    } = this.state;\n    return React.createElement(Portal, {\n      selector: \"#modal\"\n    }, open && React.createElement(\"div\", {\n      className: \"jsx-1100509129\" + \" \" + \"overlay\"\n    }, React.createElement(ClickOffComponentWrapper, {\n      onOuterClick: this.onCloseModal\n    }, React.createElement(\"div\", {\n      id: \"modal_assign_test_section\",\n      className: \"jsx-1100509129\" + \" \" + \"modal modal-custom modal-calendar\"\n    }, React.createElement(\"div\", {\n      className: \"jsx-1100509129\" + \" \" + \"card-modal card\"\n    }, React.createElement(\"div\", {\n      style: {\n        backgroundColor: '#00638e',\n        color: '#fff'\n      },\n      className: \"jsx-1100509129\" + \" \" + \"card-panel card-panel-title\"\n    }, React.createElement(\"div\", {\n      className: \"jsx-1100509129\" + \" \" + \"card-panel-row row\"\n    }, React.createElement(\"div\", {\n      className: \"jsx-1100509129\" + \" \" + \"col\"\n    }, React.createElement(\"h2\", {\n      className: \"jsx-1100509129\" + \" \" + \"h3\"\n    }, React.createElement(\"span\", {\n      className: \"jsx-1100509129\" + \" \" + \"heading-holder\"\n    }, React.createElement(\"i\", {\n      className: \"jsx-1100509129\" + \" \" + \"icon-assign-section\"\n    }), React.createElement(\"span\", {\n      className: \"jsx-1100509129\" + \" \" + \"heading-block\"\n    }, \" Assign Test Section (as coursework)\")))), React.createElement(\"div\", {\n      className: \"jsx-1100509129\" + \" \" + \"col right-align\"\n    }, React.createElement(\"a\", {\n      href: \"#!\",\n      onClick: this.onCloseModal,\n      className: \"jsx-1100509129\" + \" \" + \"panel-link close modal-close\"\n    }, React.createElement(\"i\", {\n      className: \"jsx-1100509129\" + \" \" + \"icon-close-thin\"\n    }))))), React.createElement(\"div\", {\n      className: \"jsx-1100509129\" + \" \" + \"card-content\"\n    }, React.createElement(\"div\", {\n      className: \"jsx-1100509129\" + \" \" + \"card-body\"\n    }, React.createElement(\"div\", {\n      className: \"jsx-1100509129\" + \" \" + \"modal-row row\"\n    }, React.createElement(\"div\", {\n      className: \"jsx-1100509129\" + \" \" + \"col s12\"\n    }, React.createElement(\"div\", {\n      style: {\n        marginBottom: '0',\n        marginTop: '0'\n      },\n      className: \"jsx-1100509129\" + \" \" + \"input-field\"\n    }, React.createElement(Dropdown, {\n      value: getValueFromState(version, sampleVersions),\n      onChange: event => this.handleDetailsChange(event, 'version'),\n      options: sampleVersions,\n      name: \"version\",\n      label: \"Version\",\n      stateKey: \"version\",\n      dropdownKey: \"version\"\n    }))), React.createElement(\"div\", {\n      className: \"jsx-1100509129\" + \" \" + \"col s12\"\n    }, React.createElement(\"div\", {\n      style: {\n        marginBottom: '0',\n        marginTop: '0'\n      },\n      className: \"jsx-1100509129\" + \" \" + \"input-field\"\n    }, React.createElement(Dropdown, {\n      value: getValueFromState(section, sampleSections),\n      onChange: event => this.handleDetailsChange(event, 'section'),\n      options: sampleSections,\n      name: \"section\",\n      label: \"Section\",\n      stateKey: \"section\",\n      dropdownKey: \"section\"\n    })))), React.createElement(\"div\", {\n      className: \"jsx-1100509129\" + \" \" + \"modal-row row\"\n    }, React.createElement(\"div\", {\n      className: \"jsx-1100509129\" + \" \" + \"col s6\"\n    }, React.createElement(\"div\", {\n      className: \"jsx-1100509129\" + \" \" + \"datepicker-field input-field\"\n    }, React.createElement(\"i\", {\n      className: \"jsx-1100509129\" + \" \" + \"icon-calendar\"\n    }), React.createElement(DatePicker, {\n      selected: assignDate,\n      dateFormat: \"MM/dd/yy\",\n      id: \"assignDate\",\n      name: \"assignDate\",\n      onChange: event => this.handleDatePickerChange('assignDate', event)\n    }), React.createElement(\"label\", {\n      htmlFor: \"new_test_section_assign_date\",\n      className: \"jsx-1100509129\" + \" \" + ((assignDate ? 'label active' : 'label') || \"\")\n    }, \"Assign For\"))), React.createElement(\"div\", {\n      className: \"jsx-1100509129\" + \" \" + \"col s6\"\n    }, React.createElement(\"div\", {\n      className: \"jsx-1100509129\" + \" \" + \"datepicker-field input-field\"\n    }, React.createElement(\"i\", {\n      className: \"jsx-1100509129\" + \" \" + \"icon-clock2\"\n    }), React.createElement(DatePicker, {\n      selected: assignTime,\n      showTimeSelect: true,\n      showTimeSelectOnly: true,\n      timeIntervals: 15,\n      dateFormat: \"h:mm aa\",\n      timeCaption: \"Time\",\n      id: \"assignTime\",\n      name: \"assignTime\",\n      onChange: event => this.handleDatePickerChange('assignTime', event)\n    }), React.createElement(\"label\", {\n      htmlFor: \"assignTime\",\n      className: \"jsx-1100509129\" + \" \" + ((assignTime ? 'label active' : 'label') || \"\")\n    }, \"Time\")))), React.createElement(\"div\", {\n      className: \"jsx-1100509129\" + \" \" + \"modal-row row\"\n    }, React.createElement(\"div\", {\n      className: \"jsx-1100509129\" + \" \" + \"col s6\"\n    }, React.createElement(\"div\", {\n      className: \"jsx-1100509129\" + \" \" + \"datepicker-field input-field\"\n    }, React.createElement(\"i\", {\n      className: \"jsx-1100509129\" + \" \" + \"icon-calendar\"\n    }), React.createElement(DatePicker, {\n      selected: dueDate,\n      dateFormat: \"MM/dd/yy\",\n      id: \"dueDate\",\n      name: \"dueDate\",\n      onChange: event => this.handleDatePickerChange('dueDate', event)\n    }), React.createElement(\"label\", {\n      htmlFor: \"dueDate\",\n      className: \"jsx-1100509129\" + \" \" + ((dueDate ? 'label active' : 'label') || \"\")\n    }, \"Due (optional)\"))), React.createElement(\"div\", {\n      className: \"jsx-1100509129\" + \" \" + \"col s6\"\n    }, React.createElement(\"div\", {\n      className: \"jsx-1100509129\" + \" \" + \"datepicker-field input-field\"\n    }, React.createElement(\"i\", {\n      className: \"jsx-1100509129\" + \" \" + \"icon-clock2\"\n    }), React.createElement(DatePicker, {\n      selected: dueTime,\n      showTimeSelect: true,\n      showTimeSelectOnly: true,\n      timeIntervals: 15,\n      dateFormat: \"h:mm aa\",\n      timeCaption: \"Time\",\n      id: \"dueTime\",\n      name: \"dueTime\",\n      onChange: event => this.handleDatePickerChange('dueTime', event)\n    }), React.createElement(\"label\", {\n      htmlFor: \"dueTime\",\n      className: \"jsx-1100509129\" + \" \" + ((dueTime ? 'label active' : 'label') || \"\")\n    }, \"Time\")))), React.createElement(\"div\", {\n      className: \"jsx-1100509129\" + \" \" + \"modal-row row\"\n    }, React.createElement(\"div\", {\n      className: \"jsx-1100509129\" + \" \" + \"col s12\"\n    }, React.createElement(\"p\", {\n      className: \"jsx-1100509129\"\n    }, React.createElement(\"label\", {\n      className: \"jsx-1100509129\"\n    }, React.createElement(\"input\", {\n      type: \"checkbox\",\n      name: \"timed\",\n      id: \"timed\",\n      checked: timed,\n      onChange: this.handleDetailsChange,\n      className: \"jsx-1100509129\" + \" \" + \"filled-in\"\n    }), React.createElement(\"span\", {\n      className: \"jsx-1100509129\"\n    }, \"Timed\")))))), React.createElement(\"div\", {\n      className: \"jsx-1100509129\" + \" \" + \"modal-footer modal-footer-width\"\n    }, React.createElement(\"a\", {\n      href: \"#\",\n      onClick: this.onCloseModal,\n      className: \"jsx-1100509129\" + \" \" + \"modal-close waves-effect waves-teal btn-flat pink-text text-darken-1\"\n    }, \"Cancel\"), React.createElement(\"a\", {\n      href: \"#\",\n      onClick: this.assignTestSection,\n      className: \"jsx-1100509129\" + \" \" + \"link-btn waves-effect waves-teal btn-flat\"\n    }, \"Save\"))))))), React.createElement(_JSXStyle, {\n      id: \"1100509129\"\n    }, [\".overlay.jsx-1100509129{position:fixed;background-color:rgba(0,0,0,0.7);top:0;right:0;bottom:0;left:0;z-index:999;}\", \".card-modal.jsx-1100509129{margin:0;border-radius:6px;}\", \".modal.jsx-1100509129{display:block;background-color:white;position:absolute;top:10%;right:10%;left:10%;box-shadow:0 24px 38px 3px rgba(0,0,0,0.14),0 9px 46px 8px rgba(0,0,0,0.12),0 11px 15px -7px rgba(0,0,0,0.2);}\", \".modal-custom.jsx-1100509129{opacity:1;visibility:visible;}\"]));\n  }\n\n}\n\nexport default AssignTestSectionModal;","map":null,"metadata":{},"sourceType":"module"}