{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\n/* eslint-disable react/no-array-index-key */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport update from 'immutability-helper';\nimport FilterSection from './components/FilterSection';\nimport FullView from './components/FullView';\n\nvar DetailLessonList =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(DetailLessonList, _React$Component);\n\n  function DetailLessonList(props) {\n    var _this;\n\n    _classCallCheck(this, DetailLessonList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DetailLessonList).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"onClearFilters\", function () {\n      return _this.setState({\n        activeFilters: []\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChangeView\", function (view) {\n      return _this.setState({\n        currentView: view,\n        active: view\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onCloneLesson\", function (index) {\n      var lessons = _this.state.lessons;\n\n      _this.setState(function (prevState) {\n        prevState.lessons.push(lessons[index]);\n        return {\n          lessons: prevState.lessons\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onDeleteLesson\", function (index) {\n      var lessons = _this.state.lessons;\n\n      var newLessonsArray = _this.arrayItemRemover(lessons, lessons[index]);\n\n      _this.setState({\n        lessons: newLessonsArray\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onHandleFilterClick\", function (filter) {\n      var currentActiveFilters = _this.state.activeFilters;\n      var activeFilters;\n\n      if (currentActiveFilters.indexOf(filter) === -1) {\n        activeFilters = update(currentActiveFilters, {\n          $push: [filter]\n        });\n      } else {\n        var filterIndex = currentActiveFilters.indexOf(filter);\n        activeFilters = update(currentActiveFilters, {\n          $splice: [[filterIndex, 1]]\n        });\n      }\n\n      _this.setState({\n        activeFilters: activeFilters\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"arrayItemRemover\", function (array, value) {\n      return array.filter(function (lesson) {\n        return lesson !== value;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderCurrentView\", function () {\n      var _this$state = _this.state,\n          active = _this$state.active,\n          lessons = _this$state.lessons;\n\n      if (active === 'full') {\n        return React.createElement(FullView, {\n          lessons: lessons,\n          onDeleteLesson: _this.onDeleteLesson,\n          onCloneLesson: _this.onCloneLesson\n        });\n      }\n    });\n\n    _this.state = {\n      test: true,\n      lessons: _this.props.user.lessons,\n      currentView: 'full',\n      active: 'full',\n      activeFilters: []\n    };\n    return _this;\n  }\n\n  _createClass(DetailLessonList, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          currentView = _this$state2.currentView,\n          activeFilters = _this$state2.activeFilters;\n      return React.createElement(React.Fragment, null, React.createElement(FilterSection, {\n        currentView: currentView,\n        onChangeView: this.onChangeView,\n        onHandleFilterClick: this.onHandleFilterClick,\n        activeFilters: activeFilters,\n        onClearFilters: this.onClearFilters\n      }), this.renderCurrentView(), React.createElement(\"a\", {\n        href: \"#\",\n        className: \"waves-effect waves-teal btn add-btn\"\n      }, React.createElement(\"i\", {\n        className: \"material-icons\"\n      }, \"add\"), \"New Lesson\"));\n    }\n  }]);\n\n  return DetailLessonList;\n}(React.Component);\n\nDetailLessonList.propTypes = {\n  user: PropTypes.object.isRequired\n};\nexport default DetailLessonList;","map":{"version":3,"sources":["C:\\Users\\KFROE\\OneDrive\\Desktop\\Clear Choice\\clear-choice-admin\\components\\Student\\DetailLessonList\\index.js"],"names":["React","PropTypes","update","FilterSection","FullView","DetailLessonList","props","setState","activeFilters","view","currentView","active","index","lessons","state","prevState","push","newLessonsArray","arrayItemRemover","filter","currentActiveFilters","indexOf","$push","filterIndex","$splice","array","value","lesson","onDeleteLesson","onCloneLesson","test","user","onChangeView","onHandleFilterClick","onClearFilters","renderCurrentView","Component","propTypes","object","isRequired"],"mappings":";;;;;;;;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,aAAP,MAA0B,4BAA1B;AACA,OAAOC,QAAP,MAAqB,uBAArB;;IAEMC,gB;;;;;AACJ,4BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,0FAAMA,KAAN;;AADiB,qEAWF;AAAA,aAAM,MAAKC,QAAL,CAAc;AAAEC,QAAAA,aAAa,EAAE;AAAjB,OAAd,CAAN;AAAA,KAXE;;AAAA,mEAaJ,UAACC,IAAD;AAAA,aAAU,MAAKF,QAAL,CAAc;AAACG,QAAAA,WAAW,EAAED,IAAd;AAAoBE,QAAAA,MAAM,EAAEF;AAA5B,OAAd,CAAV;AAAA,KAbI;;AAAA,oEAyBH,UAACG,KAAD,EAAW;AAAA,UACjBC,OADiB,GACL,MAAKC,KADA,CACjBD,OADiB;;AAEzB,YAAKN,QAAL,CAAc,UAAAQ,SAAS,EAAI;AACzBA,QAAAA,SAAS,CAACF,OAAV,CAAkBG,IAAlB,CAAuBH,OAAO,CAACD,KAAD,CAA9B;AACA,eAAO;AAAEC,UAAAA,OAAO,EAAEE,SAAS,CAACF;AAArB,SAAP;AACA,OAHF;AAID,KA/BkB;;AAAA,qEAiCF,UAACD,KAAD,EAAW;AAAA,UAClBC,OADkB,GACN,MAAKC,KADC,CAClBD,OADkB;;AAE1B,UAAMI,eAAe,GAAG,MAAKC,gBAAL,CAAsBL,OAAtB,EAA+BA,OAAO,CAACD,KAAD,CAAtC,CAAxB;;AACA,YAAKL,QAAL,CAAc;AAACM,QAAAA,OAAO,EAAEI;AAAV,OAAd;AACD,KArCkB;;AAAA,0EAuCG,UAACE,MAAD,EAAY;AAAA,UACTC,oBADS,GACgB,MAAKN,KADrB,CACxBN,aADwB;AAEhC,UAAIA,aAAJ;;AACA,UAAIY,oBAAoB,CAACC,OAArB,CAA6BF,MAA7B,MAAyC,CAAC,CAA9C,EAAiD;AAC/CX,QAAAA,aAAa,GAAGN,MAAM,CAACkB,oBAAD,EAAuB;AAC3CE,UAAAA,KAAK,EAAE,CAACH,MAAD;AADoC,SAAvB,CAAtB;AAGD,OAJD,MAIO;AACL,YAAMI,WAAW,GAAGH,oBAAoB,CAACC,OAArB,CAA6BF,MAA7B,CAApB;AACAX,QAAAA,aAAa,GAAGN,MAAM,CAACkB,oBAAD,EAAuB;AAC3CI,UAAAA,OAAO,EAAE,CAAC,CAAED,WAAF,EAAe,CAAf,CAAD;AADkC,SAAvB,CAAtB;AAGD;;AACD,YAAKhB,QAAL,CAAc;AAAEC,QAAAA,aAAa,EAAbA;AAAF,OAAd;AACD,KArDkB;;AAAA,uEAuDA,UAACiB,KAAD,EAAQC,KAAR;AAAA,aAAkBD,KAAK,CAACN,MAAN,CAAa,UAACQ,MAAD;AAAA,eAAYA,MAAM,KAAKD,KAAvB;AAAA,OAAb,CAAlB;AAAA,KAvDA;;AAAA,wEAyDC,YAAM;AAAA,wBACE,MAAKZ,KADP;AAAA,UACjBH,MADiB,eACjBA,MADiB;AAAA,UACTE,OADS,eACTA,OADS;;AAExB,UAAIF,MAAM,KAAK,MAAf,EAAuB;AACrB,eAAO,oBAAC,QAAD;AAAU,UAAA,OAAO,EAAEE,OAAnB;AAA4B,UAAA,cAAc,EAAE,MAAKe,cAAjD;AAAiE,UAAA,aAAa,EAAE,MAAKC;AAArF,UAAP;AACD;AACF,KA9DkB;;AAEjB,UAAKf,KAAL,GAAa;AACXgB,MAAAA,IAAI,EAAE,IADK;AAEXjB,MAAAA,OAAO,EAAE,MAAKP,KAAL,CAAWyB,IAAX,CAAgBlB,OAFd;AAGXH,MAAAA,WAAW,EAAE,MAHF;AAIXC,MAAAA,MAAM,EAAE,MAJG;AAKXH,MAAAA,aAAa,EAAE;AALJ,KAAb;AAFiB;AASlB;;;;6BAwDQ;AAAA,yBACgC,KAAKM,KADrC;AAAA,UACCJ,WADD,gBACCA,WADD;AAAA,UACcF,aADd,gBACcA,aADd;AAEP,aACE,oBAAC,KAAD,CAAO,QAAP,QACE,oBAAC,aAAD;AACA,QAAA,WAAW,EAAEE,WADb;AAEA,QAAA,YAAY,EAAE,KAAKsB,YAFnB;AAGA,QAAA,mBAAmB,EAAE,KAAKC,mBAH1B;AAIA,QAAA,aAAa,EAAEzB,aAJf;AAKA,QAAA,cAAc,EAAE,KAAK0B;AALrB,QADF,EAQG,KAAKC,iBAAL,EARH,EASA;AAAG,QAAA,IAAI,EAAC,GAAR;AAAY,QAAA,SAAS,EAAC;AAAtB,SAA4D;AAAG,QAAA,SAAS,EAAC;AAAb,eAA5D,eATA,CADF;AAaD;;;;EAjF4BnC,KAAK,CAACoC,S;;AAoFrC/B,gBAAgB,CAACgC,SAAjB,GAA6B;AAC3BN,EAAAA,IAAI,EAAE9B,SAAS,CAACqC,MAAV,CAAiBC;AADI,CAA7B;AAIA,eAAelC,gBAAf","sourcesContent":["/* eslint-disable react/no-array-index-key */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport update from 'immutability-helper';\nimport FilterSection from './components/FilterSection';\nimport FullView from './components/FullView';\n\nclass DetailLessonList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      test: true,\n      lessons: this.props.user.lessons,\n      currentView: 'full',\n      active: 'full',\n      activeFilters: [],\n    }\n  };\n\n  onClearFilters = () => this.setState({ activeFilters: [] })\n\n  onChangeView = (view) => this.setState({currentView: view, active: view})\n\n// wasn't working\n  // onRemoveOption = (optionIndex) => {\n  //   const lessons = update(this.state, {\n  //       lessons: {\n  //         $splice: [[optionIndex, 1]],\n  //     },\n  //   });\n  //   this.setState({ lessons });\n  // }\n\n  onCloneLesson = (index) => {\n    const { lessons } = this.state;\n    this.setState(prevState => {\n      prevState.lessons.push(lessons[index]);\n      return { lessons: prevState.lessons}\n     })\n  }\n\n  onDeleteLesson = (index) => {\n    const { lessons } = this.state;\n    const newLessonsArray = this.arrayItemRemover(lessons, lessons[index])\n    this.setState({lessons: newLessonsArray})\n  }\n\n  onHandleFilterClick = (filter) => {\n    const { activeFilters: currentActiveFilters } = this.state;\n    let activeFilters;\n    if (currentActiveFilters.indexOf(filter) === -1) {\n      activeFilters = update(currentActiveFilters, {\n        $push: [filter],\n      });\n    } else {\n      const filterIndex = currentActiveFilters.indexOf(filter);\n      activeFilters = update(currentActiveFilters, {\n        $splice: [[ filterIndex, 1 ]],\n      });\n    }\n    this.setState({ activeFilters });\n  }\n  \n  arrayItemRemover = (array, value) => array.filter((lesson) => lesson !== value)\n\n  renderCurrentView = () => {\n    const {active, lessons} = this.state;\n    if (active === 'full') {\n      return <FullView lessons={lessons} onDeleteLesson={this.onDeleteLesson} onCloneLesson={this.onCloneLesson}/>\n    }\n  }\n\n\n  render() {\n    const { currentView, activeFilters } = this.state;\n    return (\n      <React.Fragment>\n        <FilterSection\n        currentView={currentView}\n        onChangeView={this.onChangeView}\n        onHandleFilterClick={this.onHandleFilterClick}\n        activeFilters={activeFilters}\n        onClearFilters={this.onClearFilters}\n        />\n        {this.renderCurrentView()}\n      <a href=\"#\" className=\"waves-effect waves-teal btn add-btn\"><i className=\"material-icons\">add</i>New Lesson</a>\n      </React.Fragment>\n    )\n  }\n}\n\nDetailLessonList.propTypes = {\n  user: PropTypes.object.isRequired,\n};\n\nexport default DetailLessonList;\n"]},"metadata":{},"sourceType":"module"}