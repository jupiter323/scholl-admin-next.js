{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\n/* eslint-disable react/no-did-mount-set-state */\n\n/* eslint-disable react/no-did-update-set-state */\n\n/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Portal from '../../Portal';\nimport PracticeQuestions from './components/PracticeQuestions';\nimport ChallengeQuestions from './components/ChallengeQuestions';\nimport QuestionModal from './components/QuestionModal';\nimport sampleQuestions from './utils/sampleQuestions';\nimport CardSection from './components/CardSection';\nimport ReassignModal from './components/ReassignModal';\n\nvar LessonWorksheetTestSection =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(LessonWorksheetTestSection, _React$Component);\n\n  function LessonWorksheetTestSection(props) {\n    var _this;\n\n    _classCallCheck(this, LessonWorksheetTestSection);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LessonWorksheetTestSection).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"onToggleReassignModal\", function () {\n      return _this.setState(function (_ref) {\n        var reassigNModalOpen = _ref.reassigNModalOpen;\n        return {\n          reassigNModalOpen: !reassigNModalOpen,\n          dropdownIsOpen: false\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onToggleQuestionModal\", function () {\n      var selectedQuestion = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return _this.setState(function (_ref2) {\n        var questionModalOpen = _ref2.questionModalOpen;\n        return {\n          questionModalOpen: !questionModalOpen,\n          selectedQuestion: selectedQuestion,\n          questionDropdownOpen: false,\n          questionDropdownIndex: null\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onOpenDropdown\", function () {\n      return _this.setState({\n        dropdownIsOpen: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onCloseDropdown\", function () {\n      return _this.setState({\n        dropdownIsOpen: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onReassignDate\", function (assignDate, assignTime, dueDate, dueTime) {\n      console.warn('Stubbed out date functionality', assignDate, assignTime, dueDate, dueTime);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleQuestionDropdownClick\", function (event, question) {\n      var _this$state = _this.state,\n          questionDropdownOpen = _this$state.questionDropdownOpen,\n          questionDropdownIndex = _this$state.questionDropdownIndex;\n      event.preventDefault();\n\n      if (questionDropdownOpen && question.id === questionDropdownIndex) {\n        _this.setState({\n          questionDropdownOpen: false,\n          questionDropdownIndex: null\n        });\n      } else if (questionDropdownOpen && question !== questionDropdownIndex) {\n        _this.setState({\n          questionDropdownIndex: question.id\n        });\n      } else if (questionDropdownOpen && question.id === questionDropdownIndex) {\n        _this.setState({\n          questionDropdownOpen: false,\n          questionDropdownIndex: null\n        });\n      } else {\n        _this.setState({\n          questionDropdownOpen: true,\n          questionDropdownIndex: question.id\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDropdownClick\", function (event) {\n      var dropdownIsOpen = _this.state.dropdownIsOpen;\n      event.preventDefault();\n\n      if (dropdownIsOpen) {\n        return _this.onCloseDropdown();\n      }\n\n      return _this.onOpenDropdown();\n    });\n\n    _this.state = {\n      selectedQuestion: {},\n      questionModalOpen: false,\n      answerSheetComplete: false,\n      questions: sampleQuestions,\n      dropdownIsOpen: false,\n      questionDropdownOpen: false,\n      questionDropdownIndex: null,\n      reassigNModalOpen: false\n    };\n    return _this;\n  }\n\n  _createClass(LessonWorksheetTestSection, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.worksheet.completionLevel !== 'Not Started') {\n        this.setState({\n          answerSheetComplete: true\n        });\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var worksheet = this.props.worksheet;\n\n      if (prevProps.worksheet.id !== worksheet.id) {\n        if (worksheet.completionLevel === 'Not Started') {\n          this.setState({\n            answerSheetComplete: false\n          });\n        } else {\n          this.setState({\n            answerSheetComplete: true\n          });\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          questionModalOpen = _this$state2.questionModalOpen,\n          selectedQuestion = _this$state2.selectedQuestion,\n          questions = _this$state2.questions,\n          answerSheetComplete = _this$state2.answerSheetComplete,\n          dropdownIsOpen = _this$state2.dropdownIsOpen,\n          questionDropdownOpen = _this$state2.questionDropdownOpen,\n          questionDropdownIndex = _this$state2.questionDropdownIndex,\n          reassigNModalOpen = _this$state2.reassigNModalOpen;\n      var _this$props = this.props,\n          onClose = _this$props.onClose,\n          worksheet = _this$props.worksheet,\n          _this$props$user = _this$props.user,\n          user = _this$props$user === void 0 ? {} : _this$props$user;\n      var _user$studentInformat = user.studentInformation,\n          firstName = _user$studentInformat.firstName,\n          lastName = _user$studentInformat.lastName;\n      return React.createElement(React.Fragment, null, React.createElement(QuestionModal, {\n        open: questionModalOpen,\n        question: selectedQuestion,\n        onCloseModal: this.onToggleQuestionModal\n      }), React.createElement(ReassignModal, {\n        open: reassigNModalOpen,\n        onClose: this.onToggleReassignModal,\n        onReassignDate: this.onReassignDate\n      }), React.createElement(Portal, {\n        selector: \"#modal\"\n      }, React.createElement(\"div\", {\n        className: \"wrapper modal\",\n        style: {\n          zIndex: '1003',\n          display: 'block',\n          position: 'absolute',\n          top: '0',\n          width: '100%'\n        }\n      }, React.createElement(\"div\", {\n        className: \"header-box card-panel light-blue lighten-1 white-text\",\n        style: {\n          zIndex: '9'\n        }\n      }, React.createElement(\"div\", {\n        className: \"header-flex-row row mb-0\"\n      }, React.createElement(\"div\", {\n        className: \"col s12 m7 xl8\"\n      }, React.createElement(\"div\", {\n        className: \"header-holder\"\n      }, React.createElement(\"div\", {\n        className: \"header-col\"\n      }, React.createElement(\"div\", {\n        className: \"icon-col\"\n      }, React.createElement(\"i\", {\n        className: \"icon-books-l\"\n      }), React.createElement(\"span\", {\n        className: \"text-icon\"\n      }, \"Lesson\"))), React.createElement(\"div\", {\n        className: \"header-col\"\n      }, React.createElement(\"div\", {\n        className: \"card-panel-text\"\n      }, React.createElement(\"div\", {\n        className: \"text-small\"\n      }, worksheet.unit), React.createElement(\"h1\", {\n        className: \"text-large\"\n      }, worksheet.worksheetName), React.createElement(\"div\", {\n        className: \"text-small\"\n      }, \"p.\", worksheet.passage, \"  (\", worksheet.type, \")\"))))), React.createElement(\"div\", {\n        className: \"col s9 m4 xl3 position-mobile-left\"\n      }, React.createElement(\"div\", {\n        className: \"card-panel-text\"\n      }, React.createElement(\"h2\", {\n        className: \"text-large\"\n      }, firstName, \" \", lastName), React.createElement(\"dl\", {\n        className: \"text-small dl-horizontal\"\n      }, React.createElement(\"dt\", null, \"Assigned:\"), React.createElement(\"dd\", null, React.createElement(\"time\", {\n        dateTime: \"2019-01-06T08:00\"\n      }, worksheet.assignDate, \" at \", worksheet.assignTime))), React.createElement(\"dl\", {\n        className: \"text-small dl-horizontal\"\n      }, React.createElement(\"dt\", null, \"Due:\"), React.createElement(\"dd\", null, React.createElement(\"time\", {\n        dateTime: \"2019-01-06T16:00\"\n      }, worksheet.dueDate, \" at \", worksheet.dueTime))), worksheet.completionDate ? React.createElement(\"dl\", {\n        className: \"text-small dl-horizontal\"\n      }, React.createElement(\"dt\", null, \"Completed:\"), React.createElement(\"dd\", null, React.createElement(\"time\", {\n        dateTime: \"2019-09-01T06:59\"\n      }, worksheet.completionDate, \" at \", worksheet.completionTime))) : null)), React.createElement(\"div\", {\n        className: \"col s2 m1 right-align position-mobile-right\"\n      }, React.createElement(\"div\", {\n        className: \"dropdown-block\"\n      }, React.createElement(\"a\", {\n        href: \"#\",\n        \"data-target\": \"dropdown_top\",\n        className: \"dropdown-trigger btn\",\n        onClick: this.handleDropdownClick\n      }, React.createElement(\"i\", {\n        className: \"material-icons dots-icon\"\n      }, \"more_vert\")), dropdownIsOpen ? React.createElement(\"ul\", {\n        id: \"dropdown_top\",\n        className: \"dropdown-content dropdown-exwide\",\n        style: {\n          display: 'block',\n          opacity: '1',\n          transform: 'scaleX(1) scaleY(1)'\n        }\n      }, React.createElement(\"li\", null, React.createElement(\"a\", {\n        href: \"#\",\n        className: \"modal-trigger\",\n        onClick: this.onToggleReassignModal\n      }, \"Change Date\")), React.createElement(\"li\", null, React.createElement(\"a\", {\n        href: \"#\",\n        className: \"modal-trigger\",\n        onClick: this.onToggleReassignModal\n      }, \"Change Due Date\")), React.createElement(\"li\", null, React.createElement(\"a\", {\n        href: \"#\",\n        className: \"modal-trigger\",\n        onClick: this.onToggleReassignModal\n      }, \"Remove Due Date\")), React.createElement(\"li\", null, React.createElement(\"a\", {\n        href: \"#\"\n      }, \"Excuse Latness\")), React.createElement(\"li\", null, React.createElement(\"a\", {\n        href: \"#\"\n      }, \"Reset\")), React.createElement(\"li\", null, React.createElement(\"a\", {\n        href: \"#\",\n        className: \"link-delete\"\n      }, \"Delete\"))) : null), React.createElement(\"div\", {\n        className: \"close-block\",\n        onClick: onClose\n      }, React.createElement(\"a\", {\n        href: \"#\",\n        className: \"modal-close close\"\n      }, React.createElement(\"i\", {\n        className: \"icon-close-thin\"\n      })))))), React.createElement(\"div\", {\n        className: \"content-section content-section-85\"\n      }, React.createElement(\"div\", {\n        className: \"container-sm\"\n      }, worksheet.completionLevel !== 'Not Started' ? React.createElement(CardSection, {\n        flags: worksheet.flags,\n        status: worksheet.status,\n        problems: worksheet.problems,\n        completedProblems: worksheet.completedProblems,\n        completionLevel: worksheet.completionLevel,\n        totalVideoMinutesWatched: worksheet.totalVideoMinutesWatched,\n        totalVideoMinutesAllMissedProblems: worksheet.totalVideoMinutesAllMissedProblems\n      }) : null, React.createElement(\"div\", {\n        className: \"main-row row\"\n      }, React.createElement(ChallengeQuestions, {\n        answerSheetComplete: answerSheetComplete,\n        questionDropdownIndex: questionDropdownIndex,\n        questionDropdownOpen: questionDropdownOpen,\n        onOpenQuestionModal: this.onToggleQuestionModal,\n        handleQuestionDropdownClick: this.handleQuestionDropdownClick,\n        questions: questions.filter(function (question) {\n          return question.questionType === 'Challenge';\n        })\n      }), React.createElement(PracticeQuestions, {\n        answerSheetComplete: answerSheetComplete,\n        questionDropdownIndex: questionDropdownIndex,\n        questionDropdownOpen: questionDropdownOpen,\n        onOpenQuestionModal: this.onToggleQuestionModal,\n        handleQuestionDropdownClick: this.handleQuestionDropdownClick,\n        questions: questions.filter(function (question) {\n          return question.questionType === 'Practice';\n        })\n      })))))));\n    }\n  }]);\n\n  return LessonWorksheetTestSection;\n}(React.Component);\n\nLessonWorksheetTestSection.propTypes = {\n  user: PropTypes.object.isRequired,\n  onClose: PropTypes.func.isRequired,\n  worksheet: PropTypes.object.isRequired\n};\nexport default LessonWorksheetTestSection;","map":{"version":3,"sources":["/Volumes/HDD/Sites/clearchoicetestprep/clear-choice-admin/components/Student/LessonWorksheetTestSection/index.js"],"names":["React","PropTypes","Portal","PracticeQuestions","ChallengeQuestions","QuestionModal","sampleQuestions","CardSection","ReassignModal","LessonWorksheetTestSection","props","setState","reassigNModalOpen","dropdownIsOpen","selectedQuestion","questionModalOpen","questionDropdownOpen","questionDropdownIndex","assignDate","assignTime","dueDate","dueTime","console","warn","event","question","state","preventDefault","id","onCloseDropdown","onOpenDropdown","answerSheetComplete","questions","worksheet","completionLevel","prevProps","onClose","user","studentInformation","firstName","lastName","onToggleQuestionModal","onToggleReassignModal","onReassignDate","zIndex","display","position","top","width","unit","worksheetName","passage","type","completionDate","completionTime","handleDropdownClick","opacity","transform","flags","status","problems","completedProblems","totalVideoMinutesWatched","totalVideoMinutesAllMissedProblems","handleQuestionDropdownClick","filter","questionType","Component","propTypes","object","isRequired","func"],"mappings":"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","sourcesContent":["/* eslint-disable react/no-did-mount-set-state */\n/* eslint-disable react/no-did-update-set-state */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Portal from '../../Portal';\n\nimport PracticeQuestions from './components/PracticeQuestions';\nimport ChallengeQuestions from './components/ChallengeQuestions';\nimport QuestionModal from './components/QuestionModal';\n\nimport sampleQuestions from './utils/sampleQuestions';\nimport CardSection from './components/CardSection';\nimport ReassignModal from './components/ReassignModal';\n\nclass LessonWorksheetTestSection extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedQuestion: {},\n      questionModalOpen: false,\n      answerSheetComplete: false,\n      questions: sampleQuestions,\n      dropdownIsOpen: false,\n      questionDropdownOpen: false,\n      questionDropdownIndex: null,\n      reassigNModalOpen: false,\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.worksheet.completionLevel !== 'Not Started') {\n      this.setState({ answerSheetComplete: true });\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const { worksheet } = this.props;\n    if (prevProps.worksheet.id !== worksheet.id) {\n      if (worksheet.completionLevel === 'Not Started') {\n        this.setState({ answerSheetComplete: false });\n      } else {\n        this.setState({ answerSheetComplete: true });\n      }\n    }\n  }\n\n  onToggleReassignModal = () => this.setState(({ reassigNModalOpen }) => ({ reassigNModalOpen: !reassigNModalOpen, dropdownIsOpen: false }))\n\n  onToggleQuestionModal = (selectedQuestion = {}) => this.setState(({ questionModalOpen }) => ({ questionModalOpen: !questionModalOpen, selectedQuestion, questionDropdownOpen: false, questionDropdownIndex: null }))\n\n  onOpenDropdown = () => this.setState({ dropdownIsOpen: true });\n  onCloseDropdown = () => this.setState({ dropdownIsOpen: false });\n\n  onReassignDate = (assignDate, assignTime, dueDate, dueTime) => {\n    console.warn('Stubbed out date functionality', assignDate, assignTime, dueDate, dueTime);\n  }\n\n  handleQuestionDropdownClick = (event, question) => {\n    const { questionDropdownOpen, questionDropdownIndex } = this.state;\n    event.preventDefault();\n    if (questionDropdownOpen && question.id === questionDropdownIndex) {\n      this.setState({ questionDropdownOpen: false, questionDropdownIndex: null });\n    } else if (questionDropdownOpen && question !== questionDropdownIndex) {\n      this.setState({ questionDropdownIndex: question.id });\n    } else if (questionDropdownOpen && question.id === questionDropdownIndex) {\n      this.setState({ questionDropdownOpen: false, questionDropdownIndex: null });\n    } else {\n      this.setState({ questionDropdownOpen: true, questionDropdownIndex: question.id });\n    }\n  }\n\n  handleDropdownClick = (event) => {\n    const { dropdownIsOpen } = this.state;\n    event.preventDefault();\n    if (dropdownIsOpen) {\n      return this.onCloseDropdown();\n    }\n    return this.onOpenDropdown();\n  }\n\n  render() {\n    const { questionModalOpen, selectedQuestion, questions, answerSheetComplete, dropdownIsOpen, questionDropdownOpen, questionDropdownIndex, reassigNModalOpen } = this.state;\n    const { onClose, worksheet, user = {} } = this.props;\n    const { studentInformation: { firstName, lastName } } = user;\n    return (\n      <React.Fragment>\n        <QuestionModal\n          open={questionModalOpen}\n          question={selectedQuestion}\n          onCloseModal={this.onToggleQuestionModal}\n        />\n        <ReassignModal\n          open={reassigNModalOpen}\n          onClose={this.onToggleReassignModal}\n          onReassignDate={this.onReassignDate}\n        />\n        <Portal selector=\"#modal\">\n          <div className=\"wrapper modal\" style={{ zIndex: '1003', display: 'block', position: 'absolute', top: '0', width: '100%' }}>\n            <div className=\"header-box card-panel light-blue lighten-1 white-text\" style={{ zIndex: '9' }}>\n              <div className=\"header-flex-row row mb-0\">\n                <div className=\"col s12 m7 xl8\">\n                  <div className=\"header-holder\">\n                    <div className=\"header-col\">\n                      <div className=\"icon-col\">\n                        <i className=\"icon-books-l\"></i>\n                        <span className=\"text-icon\">Lesson</span>\n                      </div>\n                    </div>\n                    <div className=\"header-col\">\n                      <div className=\"card-panel-text\">\n                        <div className=\"text-small\">{worksheet.unit}</div>\n                        <h1 className=\"text-large\">{worksheet.worksheetName}</h1>\n                        <div className=\"text-small\">p.{worksheet.passage}  ({worksheet.type})</div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"col s9 m4 xl3 position-mobile-left\">\n                  <div className=\"card-panel-text\">\n                    <h2 className=\"text-large\">{firstName} {lastName}</h2>\n                    <dl className=\"text-small dl-horizontal\">\n                      <dt>Assigned:</dt>\n                      <dd><time dateTime=\"2019-01-06T08:00\">{worksheet.assignDate} at {worksheet.assignTime}</time></dd>\n                    </dl>\n                    <dl className=\"text-small dl-horizontal\">\n                      <dt>Due:</dt>\n                      <dd><time dateTime=\"2019-01-06T16:00\">{worksheet.dueDate} at {worksheet.dueTime}</time></dd>\n                    </dl>\n                    <If condition={worksheet.completionDate}>\n                      <dl className=\"text-small dl-horizontal\">\n                        <dt>Completed:</dt>\n                        <dd><time dateTime=\"2019-09-01T06:59\">{worksheet.completionDate} at {worksheet.completionTime}</time></dd>\n                      </dl>\n                    </If>\n                  </div>\n                </div>\n                <div className=\"col s2 m1 right-align position-mobile-right\">\n                  <div className=\"dropdown-block\">\n                    <a\n                      href='#'\n                      data-target='dropdown_top'\n                      className='dropdown-trigger btn'\n                      onClick={this.handleDropdownClick}\n                    >\n                      <i className=\"material-icons dots-icon\">more_vert</i>\n                    </a>\n                    <If condition={dropdownIsOpen}>\n                      <ul id='dropdown_top' className='dropdown-content dropdown-exwide' style={{ display: 'block', opacity: '1', transform: 'scaleX(1) scaleY(1)' }}>\n                        <li><a href=\"#\" className=\"modal-trigger\" onClick={this.onToggleReassignModal}>Change Date</a></li>\n                        <li><a href=\"#\" className=\"modal-trigger\" onClick={this.onToggleReassignModal}>Change Due Date</a></li>\n                        <li><a href=\"#\" className=\"modal-trigger\" onClick={this.onToggleReassignModal}>Remove Due Date</a></li>\n                        <li><a href=\"#\">Excuse Latness</a></li>\n                        <li><a href=\"#\">Reset</a></li>\n                        <li><a href=\"#\" className=\"link-delete\">Delete</a></li>\n                      </ul>\n                    </If>\n                  </div>\n                  <div className=\"close-block\" onClick={onClose}>\n                    <a href=\"#\" className=\"modal-close close\"><i className=\"icon-close-thin\"></i></a>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"content-section content-section-85\">\n              <div className=\"container-sm\">\n                <If condition={worksheet.completionLevel !== 'Not Started'}>\n                  <CardSection\n                    flags={worksheet.flags}\n                    status={worksheet.status}\n                    problems={worksheet.problems}\n                    completedProblems={worksheet.completedProblems}\n                    completionLevel={worksheet.completionLevel}\n                    totalVideoMinutesWatched={worksheet.totalVideoMinutesWatched}\n                    totalVideoMinutesAllMissedProblems={worksheet.totalVideoMinutesAllMissedProblems}\n                  />\n                </If>\n                <div className=\"main-row row\">\n                  <ChallengeQuestions\n                    answerSheetComplete={answerSheetComplete}\n                    questionDropdownIndex={questionDropdownIndex}\n                    questionDropdownOpen={questionDropdownOpen}\n                    onOpenQuestionModal={this.onToggleQuestionModal}\n                    handleQuestionDropdownClick={this.handleQuestionDropdownClick}\n                    questions={questions.filter(question => question.questionType === 'Challenge')}\n                  />\n                  <PracticeQuestions\n                    answerSheetComplete={answerSheetComplete}\n                    questionDropdownIndex={questionDropdownIndex}\n                    questionDropdownOpen={questionDropdownOpen}\n                    onOpenQuestionModal={this.onToggleQuestionModal}\n                    handleQuestionDropdownClick={this.handleQuestionDropdownClick}\n                    questions={questions.filter(question => question.questionType === 'Practice')}\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </Portal>\n      </React.Fragment>\n    );\n  }\n}\n\nLessonWorksheetTestSection.propTypes = {\n  user: PropTypes.object.isRequired,\n  onClose: PropTypes.func.isRequired,\n  worksheet: PropTypes.object.isRequired,\n}\n\nexport default LessonWorksheetTestSection;\n"]},"metadata":{},"sourceType":"module"}