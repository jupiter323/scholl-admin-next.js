{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/wolf/Documents/clearchoice/admin/feature-view-updated-course/clear-choice-admin/components/Student/LessonDetailAnswerSheet/components/Bubble/index.js\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nconst styles = {\n  red: {\n    position: \"relative\",\n    color: \"#fff\",\n    border: \"1px solid #fff\",\n    backgroundColor: \"#db1d41\",\n    height: \"19px\",\n    width: \"19px\",\n    borderRadius: \"50%\"\n  },\n  greenFilled: {\n    position: \"relative\",\n    color: \"#fff\",\n    border: \"1px solid #32955c\",\n    backgroundColor: \"#32955c\",\n    height: \"19px\",\n    width: \"19px\",\n    borderRadius: \"50%\"\n  },\n  greenBorderOnly: {\n    position: \"relative\",\n    color: \"#32955c\",\n    border: \"1px solid #32955c\",\n    backgroundColor: \"#fff\",\n    height: \"19px\",\n    width: \"19px\",\n    borderRadius: \"50%\"\n  },\n  plain: {\n    position: \"relative\",\n    color: \"#a6a8ab\",\n    border: \"1px solid #a6a8ab\",\n    height: \"19px\",\n    width: \"19px\",\n    borderRadius: \"50%\"\n  }\n};\n\nclass BubbleGroup extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"mapEmptyBubbles\", id => {\n      const letters = [\"A\", \"B\", \"C\", \"D\"];\n      return letters.map((letter, index) => __jsx(\"li\", {\n        key: letter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, __jsx(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, __jsx(\"label\", {\n        htmlFor: `${id}${letter}`,\n        style: this.renderBubbleStyle(index),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, __jsx(\"span\", {\n        style: {\n          display: \"block\",\n          marginTop: \"2px\",\n          paddingLeft: \"4.5px\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, letter)))));\n    });\n\n    _defineProperty(this, \"getCorrectAnswerIndexMatchedId\", answer => answer === this.props.lesson.correct_answer_id);\n\n    _defineProperty(this, \"getStudentAnswerIndexMatchedId\", answer => answer === this.props.lesson.answer_id);\n\n    _defineProperty(this, \"getCorrectAnswerIndex\", answerIds => {\n      const correctAnswerIndex = answerIds.findIndex(this.getCorrectAnswerIndexMatchedId);\n      return correctAnswerIndex;\n    });\n\n    _defineProperty(this, \"getStudentAnswerIndex\", answerIds => {\n      const studentAnswerIndex = answerIds.findIndex(this.getStudentAnswerIndexMatchedId);\n      return studentAnswerIndex;\n    });\n\n    _defineProperty(this, \"renderBubbleStyle\", index => {\n      const {\n        lesson: {\n          is_correct\n        },\n        lesson\n      } = this.props;\n      const answerIds = this.props.lesson.problem.answers.map(answer => answer.id);\n      const correctAnswerIndex = this.getCorrectAnswerIndex(answerIds);\n      const studentAnswerIndex = this.getStudentAnswerIndex(answerIds);\n      const matchingAnswers = correctAnswerIndex === studentAnswerIndex;\n      const condition = correctAnswerIndex ? matchingAnswers : is_correct;\n\n      if (correctAnswerIndex === index && condition) {\n        return styles.greenFilled;\n      }\n\n      if (correctAnswerIndex === index && !condition) {\n        return styles.greenBorderOnly;\n      }\n\n      if (index === studentAnswerIndex && !condition) {\n        return styles.red;\n      }\n\n      if (index !== studentAnswerIndex && index !== correctAnswerIndex) {\n        return styles.plain;\n      }\n\n      return styles.plain;\n    });\n  }\n\n  render() {\n    const {\n      lesson: {\n        id\n      }\n    } = this.props;\n    return __jsx(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, this.mapEmptyBubbles(id));\n  }\n\n}\n\nBubbleGroup.propTypes = {\n  lesson: PropTypes.object.isRequired\n};\nexport default BubbleGroup;","map":{"version":3,"sources":["/Users/wolf/Documents/clearchoice/admin/feature-view-updated-course/clear-choice-admin/components/Student/LessonDetailAnswerSheet/components/Bubble/index.js"],"names":["React","PropTypes","styles","red","position","color","border","backgroundColor","height","width","borderRadius","greenFilled","greenBorderOnly","plain","BubbleGroup","Component","constructor","props","id","letters","map","letter","index","renderBubbleStyle","display","marginTop","paddingLeft","answer","lesson","correct_answer_id","answer_id","answerIds","correctAnswerIndex","findIndex","getCorrectAnswerIndexMatchedId","studentAnswerIndex","getStudentAnswerIndexMatchedId","is_correct","problem","answers","getCorrectAnswerIndex","getStudentAnswerIndex","matchingAnswers","condition","render","mapEmptyBubbles","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst styles = {\n  red: {\n    position: \"relative\",\n    color: \"#fff\",\n    border: \"1px solid #fff\",\n    backgroundColor: \"#db1d41\",\n    height: \"19px\",\n    width: \"19px\",\n    borderRadius: \"50%\",\n  },\n  greenFilled: {\n    position: \"relative\",\n    color: \"#fff\",\n    border: \"1px solid #32955c\",\n    backgroundColor: \"#32955c\",\n    height: \"19px\",\n    width: \"19px\",\n    borderRadius: \"50%\",\n  },\n  greenBorderOnly: {\n    position: \"relative\",\n    color: \"#32955c\",\n    border: \"1px solid #32955c\",\n    backgroundColor: \"#fff\",\n    height: \"19px\",\n    width: \"19px\",\n    borderRadius: \"50%\",\n  },\n  plain: {\n    position: \"relative\",\n    color: \"#a6a8ab\",\n    border: \"1px solid #a6a8ab\",\n    height: \"19px\",\n    width: \"19px\",\n    borderRadius: \"50%\",\n  },\n};\n\nclass BubbleGroup extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  mapEmptyBubbles = id => {\n    const letters = [\"A\", \"B\", \"C\", \"D\"];\n    return letters.map((letter, index) => (\n      <li key={letter}>\n        <form>\n          <label\n            htmlFor={`${id}${letter}`}\n            style={this.renderBubbleStyle(index)}\n          >\n            <span style={{ display: \"block\", marginTop: \"2px\", paddingLeft: \"4.5px\" }}>\n              {letter}\n            </span>\n          </label>\n        </form>\n      </li>\n    ));\n  };\n\n  getCorrectAnswerIndexMatchedId = (answer) => answer === this.props.lesson.correct_answer_id;\n  getStudentAnswerIndexMatchedId = (answer) => answer === this.props.lesson.answer_id;\n\n  getCorrectAnswerIndex = (answerIds) => {\n    const correctAnswerIndex = answerIds.findIndex(this.getCorrectAnswerIndexMatchedId);\n    return correctAnswerIndex;\n  }\n  getStudentAnswerIndex = (answerIds) => {\n    const studentAnswerIndex = answerIds.findIndex(this.getStudentAnswerIndexMatchedId);\n    return studentAnswerIndex;\n  }\n\n  renderBubbleStyle = index => {\n    const {\n      lesson: { is_correct },\n      lesson,\n    } = this.props;\n    const answerIds = this.props.lesson.problem.answers.map(answer => answer.id);\n    const correctAnswerIndex = this.getCorrectAnswerIndex(answerIds);\n    const studentAnswerIndex = this.getStudentAnswerIndex(answerIds);\n    const matchingAnswers = correctAnswerIndex === studentAnswerIndex;\n    const condition = correctAnswerIndex ? matchingAnswers : is_correct;\n    if (correctAnswerIndex === index && condition) {\n      return styles.greenFilled;\n    }\n    if (correctAnswerIndex === index && !condition) {\n      return styles.greenBorderOnly;\n    }\n    if (index === studentAnswerIndex && !condition) {\n      return styles.red;\n    }\n    if (index !== studentAnswerIndex && index !== correctAnswerIndex) {\n      return styles.plain;\n    }\n    return styles.plain;\n  };\n\n  render() {\n    const {\n      lesson: { id },\n    } = this.props;\n    return <React.Fragment>{this.mapEmptyBubbles(id)}</React.Fragment>;\n  }\n}\n\nBubbleGroup.propTypes = {\n  lesson: PropTypes.object.isRequired,\n};\n\nexport default BubbleGroup;\n"]},"metadata":{},"sourceType":"module"}