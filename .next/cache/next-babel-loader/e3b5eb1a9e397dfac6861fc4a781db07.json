{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport update from 'immutability-helper';\nimport Portal from \"../../Portal\";\nimport ClassInfo from '../SharedModalComponents/ClassInformation';\nimport AccountSetting from '../SharedModalComponents/AccountSettings';\nimport Locations from '../SharedModalComponents/Locations';\nimport Instructors from '../SharedModalComponents/Instructors';\nimport LocationModal from '../../Location/components/LocationModal';\nimport InstructorModal from '../InstructorModal';\n\nvar ClassModal =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ClassModal, _React$Component);\n\n  function ClassModal(props) {\n    var _this;\n\n    _classCallCheck(this, ClassModal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ClassModal).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"onOpenLocationModal\", function (event) {\n      event.preventDefault();\n\n      _this.setState({\n        locationModalOpen: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onOpenInstructorModal\", function (event) {\n      event.preventDefault();\n\n      _this.setState({\n        instructorModalOpen: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onCloseLocationModal\", function () {\n      return _this.setState({\n        locationModalOpen: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onCloseInstructorModal\", function () {\n      return _this.setState({\n        instructorModalOpen: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"arrayItemRemover\", function (array, value) {\n      return array.filter(function (item) {\n        return item !== value;\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRemoveLocation\", function (index) {\n      var locations = _this.state.classroom.location.locations;\n\n      var newLocationsArray = _this.arrayItemRemover(locations, locations[index]);\n\n      var updatedClassRoom = update(_this.state.classroom, {\n        location: {\n          $set: {\n            locations: newLocationsArray\n          }\n        }\n      });\n\n      _this.setState({\n        classroom: updatedClassRoom\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onRemoveInstructor\", function (index) {\n      var instructors = _this.state.classroom.instructor.instructors;\n\n      var newInstructorsArray = _this.arrayItemRemover(instructors, instructors[index]);\n\n      var updatedClassRoom = update(_this.state.classroom, {\n        instructor: {\n          $set: {\n            instructors: newInstructorsArray\n          }\n        }\n      });\n\n      _this.setState({\n        classroom: updatedClassRoom\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onCloseModal\", function () {\n      var onClose = _this.props.onClose;\n      onClose();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSave\", function () {\n      var _this$props = _this.props,\n          onClose = _this$props.onClose,\n          onSave = _this$props.onSave;\n      onClose();\n      var classroom = _this.state.classroom;\n      onSave(classroom);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDetailsChange\", function (event, name, section) {\n      var checkBox = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      if (checkBox) {\n        var updatedClassRoom = update(_this.state.classroom, _defineProperty({}, section, {\n          $merge: _defineProperty({}, name, !_this.state.classroom[section][name])\n        }));\n\n        _this.setState({\n          classroom: updatedClassRoom\n        });\n      } else {\n        var value = event.target ? event.target.value : event;\n\n        var _updatedClassRoom = update(_this.state.classroom, _defineProperty({}, section, {\n          $merge: _defineProperty({}, name, value)\n        }));\n\n        _this.setState({\n          classroom: _updatedClassRoom\n        });\n      }\n    });\n\n    _this.state = {\n      classroom: {\n        classInfo: {\n          className: \"\"\n        },\n        accountInfo: {\n          start_date: \"\",\n          end_date: \"\",\n          active: false,\n          isExclude: false\n        },\n        location: {\n          locations: []\n        },\n        instructor: {\n          instructors: []\n        }\n      },\n      locationModalOpen: false,\n      instructorModalOpen: false,\n      pendingLocationDelete: {}\n    };\n    return _this;\n  }\n\n  _createClass(ClassModal, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          open = _this$props2.open,\n          onClose = _this$props2.onClose;\n      var _this$state = this.state,\n          locationModalOpen = _this$state.locationModalOpen,\n          instructorModalOpen = _this$state.instructorModalOpen,\n          _this$state$classroom = _this$state.classroom,\n          classInfo = _this$state$classroom.classInfo,\n          accountInfo = _this$state$classroom.accountInfo,\n          location = _this$state$classroom.location,\n          instructor = _this$state$classroom.instructor;\n      return __jsx(Portal, {\n        selector: \"#modal\"\n      }, open && __jsx(React.Fragment, null, __jsx(\"div\", {\n        className: \"jsx-1541319608\" + \" \" + \"overlay\"\n      }, __jsx(\"div\", {\n        id: \"modal_add_new_class\",\n        className: \"jsx-1541319608\" + \" \" + \"modal modal-custom modal-460\"\n      }, __jsx(\"form\", {\n        action: \"#\",\n        className: \"jsx-1541319608\" + \" \" + \"custom-form\"\n      }, __jsx(\"fieldset\", {\n        className: \"jsx-1541319608\"\n      }, __jsx(\"div\", {\n        className: \"jsx-1541319608\" + \" \" + \"card-modal card-main card\"\n      }, __jsx(\"div\", {\n        style: {\n          backgroundColor: \"#408e49\",\n          color: \"#fff\"\n        },\n        className: \"jsx-1541319608\" + \" \" + \"card-panel card-panel-title\"\n      }, __jsx(\"div\", {\n        className: \"jsx-1541319608\" + \" \" + \"card-panel-row row\"\n      }, __jsx(\"div\", {\n        className: \"jsx-1541319608\" + \" \" + \"col\"\n      }, __jsx(\"h2\", {\n        className: \"jsx-1541319608\"\n      }, __jsx(\"span\", {\n        className: \"jsx-1541319608\" + \" \" + \"heading-holder\"\n      }, __jsx(\"i\", {\n        className: \"jsx-1541319608\" + \" \" + \"icon-members\"\n      }), __jsx(\"span\", {\n        className: \"jsx-1541319608\" + \" \" + \"heading-block\"\n      }, \" New Class \")))), __jsx(\"div\", {\n        className: \"jsx-1541319608\" + \" \" + \"col right-align\"\n      }, __jsx(\"a\", {\n        href: \"#!\",\n        onClick: onClose,\n        className: \"jsx-1541319608\" + \" \" + \"panel-link close modal-close\"\n      }, __jsx(\"i\", {\n        className: \"jsx-1541319608\" + \" \" + \"icon-close-thin\"\n      }))))), __jsx(\"div\", {\n        className: \"jsx-1541319608\" + \" \" + \"card-content\"\n      }, __jsx(\"div\", {\n        className: \"jsx-1541319608\" + \" \" + \"card-body\"\n      }, __jsx(ClassInfo, {\n        state: classInfo,\n        handleDetailsChange: this.handleDetailsChange\n      }), __jsx(AccountSetting, {\n        state: accountInfo,\n        handleDetailsChange: this.handleDetailsChange\n      }), __jsx(Locations, {\n        locations: location.locations,\n        onOpenLocationModal: this.onOpenLocationModal,\n        onRemoveLocation: this.onRemoveLocation,\n        handleDetailsChange: this.handleDetailsChange\n      }), __jsx(Instructors, {\n        instructors: instructor.instructors,\n        onOpenInstructorModal: this.onOpenInstructorModal,\n        onRemoveInstructor: this.onRemoveInstructor\n      })), __jsx(\"div\", {\n        className: \"jsx-1541319608\" + \" \" + \"modal-footer\"\n      }, __jsx(\"a\", {\n        href: \"#!\",\n        onClick: onClose,\n        className: \"jsx-1541319608\" + \" \" + \"modal-close waves-effect waves-teal btn-flat pink-text text-darken-1\"\n      }, \"Cancel\"), __jsx(\"a\", {\n        href: \"#\",\n        onClick: this.onSave,\n        className: \"jsx-1541319608\" + \" \" + \"btn\"\n      }, \"Create Class\")))))))), __jsx(LocationModal, {\n        open: locationModalOpen,\n        onClose: this.onCloseLocationModal,\n        handleLocationsChange: function handleLocationsChange(selectedLocations) {\n          return _this2.handleDetailsChange(selectedLocations, 'locations', 'location');\n        }\n      }), __jsx(InstructorModal, {\n        open: instructorModalOpen,\n        onClose: this.onCloseInstructorModal,\n        handleInstructorsChange: function handleInstructorsChange(selectedInstructors) {\n          return _this2.handleDetailsChange(selectedInstructors, 'instructors', 'instructor');\n        }\n      })), __jsx(_JSXStyle, {\n        id: \"1541319608\"\n      }, [\".overlay.jsx-1541319608{position:fixed;background-color:rgba(0,0,0,0.7);top:0;right:0;bottom:0;left:0;z-index:1999;}\", \".card-modal.jsx-1541319608{margin:0;border-radius:6px;}\", \"#modal_Location1.jsx-1541319608{border-radius:6px;}\", \".modal.jsx-1541319608{display:block;background-color:white;position:absolute;top:10%;right:10%;left:10%;box-shadow:0 24px 38px 3px rgba(0,0,0,0.14), 0 9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.2);}\", \".modal-custom.jsx-1541319608{opacity:1;visibility:visible;}\", \".modal-footer.jsx-1541319608{background-color:white;}\"]));\n    }\n  }]);\n\n  return ClassModal;\n}(React.Component);\n\nexport default ClassModal;","map":null,"metadata":{},"sourceType":"module"}