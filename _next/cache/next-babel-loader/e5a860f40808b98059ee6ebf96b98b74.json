{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/wolf/Documents/clearchoice/admin/feature-view-updated-course/clear-choice-admin/components/Student/DropDownMenu/index.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from \"react\";\nimport { compose, bindActionCreators } from \"redux\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport moment from 'moment';\nimport ClickOffComponentWrapper from \"../../ClickOffComponentWrapper\";\nimport { renderDropdownOptions } from \"../DetailLessonList/components/FullView/components/LessonCard/utils/\";\nimport RescheduleModal from \"../DetailLessonList/components/RescheduleModal\";\nimport { setIsVisibleTopBar, setActiveLesson, setOpenActivePage, rescheduleStudentLessons, unAssignLessonToStudent, resetStudentLessons } from \"../index/actions\";\n\nclass DropDownMenu extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      openRescheduleModal: false\n    });\n\n    _defineProperty(this, \"leaveDetailView\", () => {\n      const {\n        onSetIsVisibleTopbar,\n        onSetActiveLesson,\n        onSetOpenActivePage,\n        onCloseDetailModal\n      } = this.props;\n      onSetIsVisibleTopbar(true);\n      onSetActiveLesson({});\n      onSetOpenActivePage(\"\");\n      onCloseDetailModal();\n    });\n\n    _defineProperty(this, \"onToggleRescheduleModal\", () => this.setState({\n      openRescheduleModal: !this.state.openRescheduleModal\n    }));\n\n    _defineProperty(this, \"handleAssignLesson\", () => {\n      const {\n        onOpenModal,\n        onAddCheckedLesson,\n        lesson\n      } = this.props;\n      onOpenModal();\n      onAddCheckedLesson(lesson.lesson_id);\n      this.leaveDetailView();\n    });\n\n    _defineProperty(this, \"handleRescheduleModalOpen\", () => {\n      const {\n        onCloseDropdown\n      } = this.props;\n      onCloseDropdown();\n      this.onToggleRescheduleModal();\n    });\n\n    _defineProperty(this, \"onSaveScheduleChanges\", modalState => {\n      const {\n        onRescheduleStudentLessons,\n        lesson,\n        resetLessonSelections,\n        onSetActiveLesson\n      } = this.props;\n      const payload = {\n        student_lesson_ids: [lesson.id],\n        assignment_date: moment(modalState.assignDate).format('YYYY-MM-DD'),\n        due_date: !modalState.isTimed ? moment(modalState.dueDate).format('YYYY-MM-DD') : null\n      };\n\n      if (_Object$keys(payload).length > 0 && typeof payload === 'object') {\n        onRescheduleStudentLessons(payload);\n        this.onToggleRescheduleModal();\n        resetLessonSelections();\n        onSetActiveLesson(_objectSpread({}, lesson, {\n          assignment_date: moment(modalState.assignDate).format('YYYY-MM-DD'),\n          due_date: !modalState.isTimed ? moment(modalState.dueDate).format('YYYY-MM-DD') : null\n        }));\n      }\n    });\n\n    _defineProperty(this, \"handleUnassignLesson\", lessonIds => {\n      const {\n        onUnAssignLessonToStudent,\n        onCloseDropdown,\n        resetLessonSelections\n      } = this.props;\n\n      if (lessonIds && typeof lessonIds === 'object' && lessonIds.length > 0) {\n        onUnAssignLessonToStudent(lessonIds);\n        onCloseDropdown();\n        this.leaveDetailView();\n        resetLessonSelections();\n      }\n    });\n\n    _defineProperty(this, \"handleResetLesson\", lessonIds => {\n      const {\n        onResetStudentLessons,\n        onCloseDropdown,\n        resetLessonSelections\n      } = this.props;\n\n      if (lessonIds && typeof lessonIds === 'object' && lessonIds.length > 0) {\n        onResetStudentLessons(lessonIds);\n        onCloseDropdown();\n        this.leaveDetailView();\n        resetLessonSelections();\n      }\n    });\n\n    _defineProperty(this, \"startMarkFlagsReviewed\", lessonIds => {\n      const {\n        problems,\n        updateProblemList\n      } = this.props;\n      this.props.handleMarkAllFlagsReviewed(lessonIds);\n      problems.map(problemList => {\n        problemList.problems.map(problem => {\n          if (problem.flag_status === 'FLAGGED') {\n            updateProblemList(problemList.type, _objectSpread({}, problem, {\n              flag_status: 'REVIEWED'\n            }));\n          }\n        });\n      });\n    });\n  }\n\n  render() {\n    const {\n      lesson\n    } = this.props;\n    return __jsx(React.Fragment, null, __jsx(RescheduleModal, {\n      open: this.state.openRescheduleModal,\n      lesson: lesson,\n      onClose: this.handleRescheduleModalOpen,\n      onSave: this.onSaveScheduleChanges,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), this.props.dropdownIsOpen ? __jsx(ClickOffComponentWrapper, {\n      onOuterClick: () => this.props.onSetDropdown(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, __jsx(\"ul\", {\n      id: \"dropdown01\",\n      className: \"dropdown-content dropdown-wide\",\n      style: {\n        display: \"block\",\n        opacity: \"1\",\n        transform: \"scaleX(1) scaleY(1)\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, renderDropdownOptions(lesson.status, this.handleAssignLesson, this.handleRescheduleModalOpen, this.props.handleExcuseLessonLateness, this.handleResetLesson, this.startMarkFlagsReviewed, this.handleUnassignLesson, [lesson.id]))) : null);\n  }\n\n}\n\nDropDownMenu.propTypes = {\n  onCloseDetailModal: PropTypes.func.isRequired,\n  user: PropTypes.object.isRequired,\n  lesson: PropTypes.object.isRequired,\n  onOpenModal: PropTypes.func.isRequired,\n  onAddCheckedLesson: PropTypes.func.isRequired,\n  onCloseDropdown: PropTypes.func.isRequired,\n  resetLessonSelections: PropTypes.func.isRequired\n};\n\nconst mapDispatchToProps = dispatch => ({\n  onSetIsVisibleTopbar: bindActionCreators(setIsVisibleTopBar, dispatch),\n  onSetActiveLesson: bindActionCreators(setActiveLesson, dispatch),\n  onSetOpenActivePage: bindActionCreators(setOpenActivePage, dispatch),\n  onRescheduleStudentLessons: bindActionCreators(rescheduleStudentLessons, dispatch),\n  onUnAssignLessonToStudent: bindActionCreators(unAssignLessonToStudent, dispatch),\n  onResetStudentLessons: bindActionCreators(resetStudentLessons, dispatch),\n  onSetActiveLesson: bindActionCreators(setActiveLesson, dispatch)\n});\n\nconst withConnect = connect(null, mapDispatchToProps);\nexport default compose(withConnect)(DropDownMenu);","map":{"version":3,"sources":["/Users/wolf/Documents/clearchoice/admin/feature-view-updated-course/clear-choice-admin/components/Student/DropDownMenu/index.js"],"names":["React","compose","bindActionCreators","connect","PropTypes","moment","ClickOffComponentWrapper","renderDropdownOptions","RescheduleModal","setIsVisibleTopBar","setActiveLesson","setOpenActivePage","rescheduleStudentLessons","unAssignLessonToStudent","resetStudentLessons","DropDownMenu","Component","openRescheduleModal","onSetIsVisibleTopbar","onSetActiveLesson","onSetOpenActivePage","onCloseDetailModal","props","setState","state","onOpenModal","onAddCheckedLesson","lesson","lesson_id","leaveDetailView","onCloseDropdown","onToggleRescheduleModal","modalState","onRescheduleStudentLessons","resetLessonSelections","payload","student_lesson_ids","id","assignment_date","assignDate","format","due_date","isTimed","dueDate","length","lessonIds","onUnAssignLessonToStudent","onResetStudentLessons","problems","updateProblemList","handleMarkAllFlagsReviewed","map","problemList","problem","flag_status","type","render","handleRescheduleModalOpen","onSaveScheduleChanges","dropdownIsOpen","onSetDropdown","display","opacity","transform","status","handleAssignLesson","handleExcuseLessonLateness","handleResetLesson","startMarkFlagsReviewed","handleUnassignLesson","propTypes","func","isRequired","user","object","mapDispatchToProps","dispatch","withConnect"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { compose, bindActionCreators } from \"redux\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport moment from 'moment';\nimport ClickOffComponentWrapper from \"../../ClickOffComponentWrapper\";\nimport { renderDropdownOptions } from \"../DetailLessonList/components/FullView/components/LessonCard/utils/\";\nimport RescheduleModal from \"../DetailLessonList/components/RescheduleModal\";\n\nimport {\n  setIsVisibleTopBar,\n  setActiveLesson,\n  setOpenActivePage,\n  rescheduleStudentLessons,\n  unAssignLessonToStudent,\n  resetStudentLessons,\n} from \"../index/actions\";\n\nclass DropDownMenu extends React.Component {\n  state = {\n    openRescheduleModal: false,\n  }\n\n  leaveDetailView = () => {\n    const {\n      onSetIsVisibleTopbar,\n      onSetActiveLesson,\n      onSetOpenActivePage,\n      onCloseDetailModal,\n    } = this.props;\n    onSetIsVisibleTopbar(true);\n    onSetActiveLesson({});\n    onSetOpenActivePage(\"\");\n    onCloseDetailModal();\n  }\n\n  onToggleRescheduleModal = () => this.setState({ openRescheduleModal: !this.state.openRescheduleModal })\n\n  handleAssignLesson = () => {\n    const {\n      onOpenModal,\n      onAddCheckedLesson,\n      lesson,\n    } = this.props;\n    onOpenModal();\n    onAddCheckedLesson(lesson.lesson_id);\n    this.leaveDetailView();\n  };\n\n  handleRescheduleModalOpen = () => {\n    const { onCloseDropdown } = this.props;\n    onCloseDropdown();\n    this.onToggleRescheduleModal();\n  };\n\n  onSaveScheduleChanges = (modalState) => {\n    const { onRescheduleStudentLessons, lesson, resetLessonSelections, onSetActiveLesson } = this.props;\n    const payload = {\n      student_lesson_ids: [lesson.id],\n      assignment_date: moment(modalState.assignDate).format('YYYY-MM-DD'),\n      due_date: !modalState.isTimed ? moment(modalState.dueDate).format('YYYY-MM-DD') : null,\n    };\n    if (Object.keys(payload).length > 0 && typeof payload === 'object') {\n      onRescheduleStudentLessons(payload);\n      this.onToggleRescheduleModal();\n      resetLessonSelections();\n      onSetActiveLesson({ ...lesson, assignment_date: moment(modalState.assignDate).format('YYYY-MM-DD'), due_date: !modalState.isTimed ? moment(modalState.dueDate).format('YYYY-MM-DD') : null });\n    }\n  };\n\n  handleUnassignLesson = lessonIds => {\n    const { onUnAssignLessonToStudent, onCloseDropdown, resetLessonSelections } = this.props;\n    if (lessonIds && typeof lessonIds === 'object' && lessonIds.length > 0) {\n      onUnAssignLessonToStudent(lessonIds);\n      onCloseDropdown();\n      this.leaveDetailView();\n      resetLessonSelections();\n    }\n  };\n\n  handleResetLesson = lessonIds => {\n    const { onResetStudentLessons, onCloseDropdown, resetLessonSelections } = this.props;\n    if (lessonIds && typeof lessonIds === 'object' && lessonIds.length > 0) {\n      onResetStudentLessons(lessonIds);\n      onCloseDropdown();\n      this.leaveDetailView();\n      resetLessonSelections();\n    }\n  };\n\n  startMarkFlagsReviewed = (lessonIds) => {\n    const { problems, updateProblemList } = this.props;\n    this.props.handleMarkAllFlagsReviewed(lessonIds);\n    problems.map(problemList => {\n      problemList.problems.map(problem => {\n        if (problem.flag_status === 'FLAGGED') {\n          updateProblemList(problemList.type, { ...problem, flag_status: 'REVIEWED' });\n        }\n      });\n    });\n  }\n\n  render() {\n    const { lesson } = this.props;\n    return (\n      <>\n        <RescheduleModal\n          open={this.state.openRescheduleModal}\n          lesson={lesson}\n          onClose={this.handleRescheduleModalOpen}\n          onSave={this.onSaveScheduleChanges}\n        />\n        <If condition={this.props.dropdownIsOpen}>\n          <ClickOffComponentWrapper onOuterClick={() => this.props.onSetDropdown()}>\n            <ul\n              id=\"dropdown01\"\n              className=\"dropdown-content dropdown-wide\"\n              style={{\n                display: \"block\",\n                opacity: \"1\",\n                transform: \"scaleX(1) scaleY(1)\",\n              }}\n            >\n              {renderDropdownOptions(\n                lesson.status,\n                this.handleAssignLesson,\n                this.handleRescheduleModalOpen,\n                this.props.handleExcuseLessonLateness,\n                this.handleResetLesson,\n                this.startMarkFlagsReviewed,\n                this.handleUnassignLesson,\n                [lesson.id],\n              )}\n            </ul>\n          </ClickOffComponentWrapper>\n        </If>\n      </>\n    );\n  }\n}\n\nDropDownMenu.propTypes = {\n  onCloseDetailModal: PropTypes.func.isRequired,\n  user: PropTypes.object.isRequired,\n  lesson: PropTypes.object.isRequired,\n  onOpenModal: PropTypes.func.isRequired,\n  onAddCheckedLesson: PropTypes.func.isRequired,\n  onCloseDropdown: PropTypes.func.isRequired,\n  resetLessonSelections: PropTypes.func.isRequired,\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  onSetIsVisibleTopbar: bindActionCreators(setIsVisibleTopBar, dispatch),\n  onSetActiveLesson: bindActionCreators(setActiveLesson, dispatch),\n  onSetOpenActivePage: bindActionCreators(setOpenActivePage, dispatch),\n  onRescheduleStudentLessons: bindActionCreators(rescheduleStudentLessons, dispatch),\n  onUnAssignLessonToStudent: bindActionCreators(unAssignLessonToStudent, dispatch),\n  onResetStudentLessons: bindActionCreators(resetStudentLessons, dispatch),\n  onSetActiveLesson: bindActionCreators(setActiveLesson, dispatch),\n});\n\nconst withConnect = connect(null, mapDispatchToProps);\n\nexport default compose(withConnect)(DropDownMenu);\n"]},"metadata":{},"sourceType":"module"}