{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport Select from 'react-select';\nimport update from 'immutability-helper';\nimport categoryStyles from '../../../../FormComponents/Dropdown/styles/dropdownStyles';\nimport ControlComponent from '../../../../FormComponents/Dropdown/styles/ControlComponent';\nimport MultiValueLabel from '../../../../FormComponents/Dropdown/styles/MultiValueLabel';\nimport { subjectOptions, difficultyOptions, typeOptions } from '../../../utils/worksheetDetailsOptions';\nimport Dropdown from '../../../../FormComponents/Dropdown';\nimport getValueFromState from '../../../../utils/getValueFromState';\n\nvar WorksheetDetails =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(WorksheetDetails, _React$Component);\n\n  function WorksheetDetails(props) {\n    var _this;\n\n    _classCallCheck(this, WorksheetDetails);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(WorksheetDetails).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"getSectionDropdownOptions\", function () {\n      var categoryOptions = _this.state.categoryOptions;\n      var _this$props$worksheet = _this.props.worksheet;\n      _this$props$worksheet = _this$props$worksheet === void 0 ? {} : _this$props$worksheet;\n      var subject = _this$props$worksheet.subject;\n\n      if (!subject) {\n        return categoryOptions;\n      }\n\n      var categoryLabels = categoryOptions.map(function (categoryOption) {\n        return categoryOption.label;\n      });\n      var subjectIndex = categoryLabels.indexOf(subject.charAt(0).toUpperCase() + subject.slice(1));\n      return [categoryOptions[subjectIndex]];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"updateCategoryState\", function (categories) {\n      var updatedWorksheet = update(_this.state.updatedWorksheet, {\n        $merge: {\n          categories: categories\n        }\n      });\n\n      _this.setState({\n        updatedWorksheet: updatedWorksheet\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleCategoryChange\", function (categories) {\n      var updatedCategories = categories.reduce(function (finalArr, category) {\n        finalArr.push(category.value);\n        return finalArr;\n      }, []);\n\n      _this.updateCategoryState(updatedCategories);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleDetailsChange\", function (event, name) {\n      var previousWorksheetState = _this.state.updatedWorksheet;\n      var value = event.target ? event.target.value : event;\n      var updatedWorksheet = update(previousWorksheetState, {\n        $merge: _defineProperty({}, name, value)\n      });\n\n      _this.setState({\n        updatedWorksheet: updatedWorksheet\n      });\n    });\n\n    _this.state = {\n      originalWorksheet: {\n        worksheetName: '',\n        subject: {},\n        type: '',\n        difficulty: '',\n        estimatedTime: '',\n        categories: [],\n        description: ''\n      },\n      updatedWorksheet: {\n        worksheetName: '',\n        subject: {},\n        type: '',\n        difficulty: '',\n        estimatedTime: '',\n        categories: [],\n        description: ''\n      },\n      validation: {\n        worksheetName: true,\n        subject: true,\n        type: true,\n        difficulty: true,\n        estimatedTime: true,\n        categories: true\n      },\n      categoryOptions: [{\n        label: 'Math',\n        options: [{\n          value: 'special-right-triangles',\n          label: 'Special Right Triangles'\n        }, {\n          value: 'volumes',\n          label: 'Volumes'\n        }, {\n          value: 'trig-functions',\n          label: 'Trig Functions'\n        }]\n      }, {\n        label: 'Science',\n        options: [{\n          value: 'astrology',\n          label: 'Astrology'\n        }, {\n          value: 'algebra',\n          label: 'Algebra'\n        }]\n      }, {\n        label: 'English',\n        options: [{\n          value: 'geometry',\n          label: 'Geometry'\n        }, {\n          value: 'pythagorean-theorem',\n          label: 'Pythagorean Theorem'\n        }]\n      }]\n    };\n    return _this;\n  }\n\n  _createClass(WorksheetDetails, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          categoriesValid = _this$state.validation.categories,\n          _this$state$updatedWo = _this$state.updatedWorksheet,\n          worksheetName = _this$state$updatedWo.worksheetName,\n          estimatedTime = _this$state$updatedWo.estimatedTime,\n          subject = _this$state$updatedWo.subject,\n          type = _this$state$updatedWo.type,\n          difficulty = _this$state$updatedWo.difficulty,\n          description = _this$state$updatedWo.description,\n          categories = _this$state$updatedWo.categories;\n      return React.createElement(\"div\", {\n        className: \"col s12 l6\"\n      }, React.createElement(\"div\", {\n        className: \"card-block\"\n      }, React.createElement(\"h2\", null, \"Details\"), React.createElement(\"div\", {\n        className: \"card\"\n      }, React.createElement(\"div\", {\n        className: \"card-content\"\n      }, React.createElement(\"div\", {\n        className: \"card-body\"\n      }, React.createElement(\"div\", {\n        className: \"row mb-0\"\n      }, React.createElement(\"div\", {\n        className: \"col s12\"\n      }, React.createElement(\"div\", {\n        className: \"input-field\"\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        id: \"details_name\",\n        value: worksheetName,\n        onChange: function onChange(event) {\n          return _this2.handleDetailsChange(event, 'worksheetName');\n        }\n      }), React.createElement(\"label\", {\n        className: worksheetName.length ? 'label active' : 'label',\n        htmlFor: \"details_name\"\n      }, \"Name\")))), React.createElement(\"div\", {\n        className: \"row mb-0\"\n      }, React.createElement(\"div\", {\n        className: \"col s6\"\n      }, React.createElement(\"div\", {\n        className: \"input-field\"\n      }, React.createElement(Dropdown, {\n        value: getValueFromState(subject, subjectOptions),\n        onChange: function onChange(event) {\n          return _this2.handleDetailsChange(event, 'subject');\n        },\n        options: subjectOptions,\n        label: \"Subject\",\n        stateKey: \"subject\",\n        dropdownKey: \"subject\"\n      }))), React.createElement(\"div\", {\n        className: \"col s6\"\n      }, React.createElement(\"div\", {\n        className: \"input-field\"\n      }, React.createElement(Dropdown, {\n        value: getValueFromState(type, typeOptions),\n        onChange: function onChange(event) {\n          return _this2.handleDetailsChange(event, 'type');\n        },\n        options: typeOptions,\n        label: \"Type\",\n        stateKey: \"type\",\n        dropdownKey: \"type\"\n      })))), React.createElement(\"div\", {\n        className: \"row mb-0\"\n      }, React.createElement(\"div\", {\n        className: \"col s6\"\n      }, React.createElement(\"div\", {\n        className: \"input-field\"\n      }, React.createElement(Dropdown, {\n        value: getValueFromState(difficulty, difficultyOptions),\n        onChange: function onChange(event) {\n          return _this2.handleDetailsChange(event, 'difficulty');\n        },\n        options: difficultyOptions,\n        label: \"Difficulty\",\n        stateKey: \"difficulty\",\n        dropdownKey: \"difficulty\"\n      }))), React.createElement(\"div\", {\n        className: \"col s6\"\n      }, React.createElement(\"div\", {\n        className: \"datepicker-field input-field\"\n      }, React.createElement(\"i\", {\n        className: \"icon-clock2\"\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"timepicker\",\n        id: \"detail_estimated_time\",\n        value: estimatedTime,\n        onChange: function onChange(event) {\n          return _this2.handleDetailsChange(event, 'estimatedTime');\n        }\n      }), React.createElement(\"label\", {\n        className: \"label\",\n        htmlFor: \"detail_estimated_time\"\n      }, \"Estimated Time\")))), React.createElement(\"div\", {\n        className: \"row mb-0\"\n      }, React.createElement(\"div\", {\n        className: \"col s12\"\n      }, React.createElement(Select, {\n        options: this.getSectionDropdownOptions(),\n        isMulti: true,\n        instanceId: \"categories-select\",\n        onChange: this.handleCategoryChange,\n        components: {\n          Control: ControlComponent,\n          MultiValueLabel: MultiValueLabel\n        },\n        name: \"categoryOptions\",\n        className: categoriesValid || !categoriesValid && categories.length ? '' : 'invalid',\n        classNamePrefix: \"multi-select\",\n        placeholder: 'Select one or more categories',\n        styles: categoryStyles,\n        isClearable: false,\n        label: \"Categories\"\n      }))), React.createElement(\"div\", {\n        className: \"row mb-0\"\n      }, React.createElement(\"div\", {\n        className: \"col s12\"\n      }, React.createElement(\"div\", {\n        className: \"input-field\"\n      }, React.createElement(\"textarea\", {\n        id: \"detail_description\",\n        className: \"materialize-textarea\",\n        style: {\n          height: '70px'\n        },\n        value: description,\n        onChange: function onChange(event) {\n          return _this2.handleDetailsChange(event, 'description');\n        }\n      }), React.createElement(\"label\", {\n        className: \"label\",\n        htmlFor: \"detail_description\"\n      }, \"Description (optional)\")))))))));\n    }\n  }]);\n\n  return WorksheetDetails;\n}(React.Component);\n\nWorksheetDetails.propTypes = {\n  worksheet: PropTypes.object\n};\nexport default WorksheetDetails;","map":{"version":3,"sources":["/Volumes/HDD/Sites/clearchoicetestprep/clear-choice-admin/components/Worksheet/DetailPage/components/WorksheetDetails/index.js"],"names":["React","PropTypes","Select","update","categoryStyles","ControlComponent","MultiValueLabel","subjectOptions","difficultyOptions","typeOptions","Dropdown","getValueFromState","WorksheetDetails","props","categoryOptions","state","worksheet","subject","categoryLabels","map","categoryOption","label","subjectIndex","indexOf","charAt","toUpperCase","slice","categories","updatedWorksheet","$merge","setState","updatedCategories","reduce","finalArr","category","push","value","updateCategoryState","event","name","previousWorksheetState","target","originalWorksheet","worksheetName","type","difficulty","estimatedTime","description","validation","options","categoriesValid","handleDetailsChange","length","getSectionDropdownOptions","handleCategoryChange","Control","height","Component","propTypes","object"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport Select from 'react-select';\nimport update from 'immutability-helper';\n\nimport categoryStyles from '../../../../FormComponents/Dropdown/styles/dropdownStyles';\nimport ControlComponent from '../../../../FormComponents/Dropdown/styles/ControlComponent';\nimport MultiValueLabel from '../../../../FormComponents/Dropdown/styles/MultiValueLabel';\nimport { subjectOptions, difficultyOptions, typeOptions } from '../../../utils/worksheetDetailsOptions';\n\nimport Dropdown from '../../../../FormComponents/Dropdown';\nimport getValueFromState from '../../../../utils/getValueFromState';\n\nclass WorksheetDetails extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      originalWorksheet: {\n        worksheetName: '',\n        subject: {},\n        type: '',\n        difficulty: '',\n        estimatedTime: '',\n        categories: [],\n        description: '',\n      },\n      updatedWorksheet: {\n        worksheetName: '',\n        subject: {},\n        type: '',\n        difficulty: '',\n        estimatedTime: '',\n        categories: [],\n        description: '',\n      },\n      validation: {\n        worksheetName: true,\n        subject: true,\n        type: true,\n        difficulty: true,\n        estimatedTime: true,\n        categories: true,\n      },\n      categoryOptions: [\n        {\n          label: 'Math',\n          options: [\n            { value: 'special-right-triangles', label: 'Special Right Triangles' },\n            { value: 'volumes', label: 'Volumes' },\n            { value: 'trig-functions', label: 'Trig Functions' },\n          ],\n        },\n        {\n          label: 'Science',\n          options: [\n            { value: 'astrology', label: 'Astrology' },\n            { value: 'algebra', label: 'Algebra' },\n          ],\n        },\n        {\n          label: 'English',\n          options: [\n            { value: 'geometry', label: 'Geometry' },\n            { value: 'pythagorean-theorem', label: 'Pythagorean Theorem' },\n          ],\n        },\n      ],\n    };\n  }\n\n  getSectionDropdownOptions = () => {\n    const { categoryOptions } = this.state;\n    const { worksheet: { subject } = {} } = this.props;\n    if (!subject) {\n      return categoryOptions;\n    }\n    const categoryLabels = categoryOptions.map(categoryOption => categoryOption.label);\n    const subjectIndex = categoryLabels.indexOf(subject.charAt(0).toUpperCase() + subject.slice(1));\n    return [categoryOptions[subjectIndex]];\n  }\n\n  updateCategoryState = (categories) => {\n    const updatedWorksheet = update(this.state.updatedWorksheet, {\n      $merge: { categories },\n    });\n    this.setState({ updatedWorksheet });\n  }\n\n  handleCategoryChange = (categories) => {\n    const updatedCategories = categories.reduce((finalArr, category) => {\n      finalArr.push(category.value);\n      return finalArr;\n    }, []);\n    this.updateCategoryState(updatedCategories);\n  };\n\n  handleDetailsChange = (event, name) => {\n    const { updatedWorksheet: previousWorksheetState } = this.state;\n    const value = event.target ? event.target.value : event;\n    const updatedWorksheet = update(previousWorksheetState, {\n      $merge: { [name]: value },\n    });\n    this.setState({ updatedWorksheet });\n  }\n\n  render() {\n    const { validation: { categories: categoriesValid }, updatedWorksheet: { worksheetName, estimatedTime, subject, type, difficulty, description, categories } } = this.state;\n    return (\n      <div className=\"col s12 l6\">\n        <div className=\"card-block\">\n          <h2>Details</h2>\n          <div className=\"card\">\n            <div className=\"card-content\">\n              <div className=\"card-body\">\n                <div className=\"row mb-0\">\n                  <div className=\"col s12\">\n                    <div className=\"input-field\">\n                      <input\n                        type=\"text\"\n                        id=\"details_name\"\n                        value={worksheetName}\n                        onChange={(event) => this.handleDetailsChange(event, 'worksheetName')}\n                      />\n                      <label className={worksheetName.length ? 'label active' : 'label'} htmlFor=\"details_name\">Name</label>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row mb-0\">\n                  <div className=\"col s6\">\n                    <div className=\"input-field\">\n                      <Dropdown\n                        value={getValueFromState(subject, subjectOptions)}\n                        onChange={(event) => this.handleDetailsChange(event, 'subject')}\n                        options={subjectOptions}\n                        label=\"Subject\"\n                        stateKey=\"subject\"\n                        dropdownKey=\"subject\"\n                      />\n                    </div>\n                  </div>\n                  <div className=\"col s6\">\n                    <div className=\"input-field\">\n                      <Dropdown\n                        value={getValueFromState(type, typeOptions)}\n                        onChange={(event) => this.handleDetailsChange(event, 'type')}\n                        options={typeOptions}\n                        label=\"Type\"\n                        stateKey=\"type\"\n                        dropdownKey=\"type\"\n                      />\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row mb-0\">\n                  <div className=\"col s6\">\n                    <div className=\"input-field\">\n                      <Dropdown\n                        value={getValueFromState(difficulty, difficultyOptions)}\n                        onChange={(event) => this.handleDetailsChange(event, 'difficulty')}\n                        options={difficultyOptions}\n                        label=\"Difficulty\"\n                        stateKey=\"difficulty\"\n                        dropdownKey=\"difficulty\"\n                      />\n                    </div>\n                  </div>\n                  <div className=\"col s6\">\n                    <div className=\"datepicker-field input-field\">\n                      <i className=\"icon-clock2\"></i>\n                      <input\n                        type=\"text\"\n                        className=\"timepicker\"\n                        id=\"detail_estimated_time\"\n                        value={estimatedTime}\n                        onChange={(event) => this.handleDetailsChange(event, 'estimatedTime')}\n                      />\n                      <label className=\"label\" htmlFor=\"detail_estimated_time\">Estimated Time</label>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"row mb-0\">\n                  <div className=\"col s12\">\n                    <Select\n                      options={this.getSectionDropdownOptions()}\n                      isMulti\n                      instanceId=\"categories-select\"\n                      onChange={this.handleCategoryChange}\n                      components={{ Control: ControlComponent, MultiValueLabel }}\n                      name=\"categoryOptions\"\n                      className={(categoriesValid) || (!categoriesValid && categories.length) ? '' : 'invalid'}\n                      classNamePrefix=\"multi-select\"\n                      placeholder={'Select one or more categories'}\n                      styles={categoryStyles}\n                      isClearable={false}\n                      label=\"Categories\"\n                    />\n                  </div>\n                </div>\n                <div className=\"row mb-0\">\n                  <div className=\"col s12\">\n                    <div className=\"input-field\">\n                      <textarea\n                        id=\"detail_description\"\n                        className=\"materialize-textarea\"\n                        style={{ height: '70px' }}\n                        value={description}\n                        onChange={(event) => this.handleDetailsChange(event, 'description')}\n                      />\n                      <label className=\"label\" htmlFor=\"detail_description\">Description (optional)</label>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nWorksheetDetails.propTypes = {\n  worksheet: PropTypes.object,\n};\n\nexport default WorksheetDetails;\n"]},"metadata":{},"sourceType":"module"}