{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\n\n/* eslint-disable react/no-did-mount-set-state */\n\n/* eslint-disable react/no-did-update-set-state */\n\n/* eslint-disable react/no-array-index-key */\nimport React from 'react';\nimport LessonWorksheetTestSection from '../LessonWorksheetTestSection';\nimport LessonCard from './components/LessonCard';\nimport FilterSection from './components/FilterSection';\n\nclass DetailLessonList extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onToggleDetailModalOpen\", worksheetIndex => this.setState(({\n      detailModalOpen,\n      lessons\n    }) => ({\n      detailModalOpen: !detailModalOpen,\n      activeLesson: lessons[worksheetIndex],\n      dropdownIsOpen: false,\n      dropdownIndex: null\n    })));\n\n    _defineProperty(this, \"onSetDropdown\", dropdownIndex => this.setState({\n      dropdownIndex,\n      dropdownIsOpen: true\n    }));\n\n    _defineProperty(this, \"onCloseDropdown\", () => this.setState({\n      dropdownIsOpen: false\n    }));\n\n    _defineProperty(this, \"mapLessons\", () => this.state.lessons.map((lesson, index) => React.createElement(LessonCard, {\n      key: index,\n      index: index,\n      lesson: lesson,\n      onSetDropdown: this.onSetDropdown,\n      onCloseDropdown: this.onCloseDropdown,\n      dropdownIndex: this.state.dropdownIndex,\n      dropdownIsOpen: this.state.dropdownIsOpen,\n      onToggleDetailModalOpen: this.onToggleDetailModalOpen\n    })));\n\n    this.state = {\n      dropdownIsOpen: false,\n      dropdownIndex: null,\n      detailModalOpen: false,\n      lessons: [],\n      activeLesson: null\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      lessons: this.props.user.lessons\n    });\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      user\n    } = this.props;\n\n    if (prevProps.user.id !== user.id) {\n      this.setState({\n        lessons: this.props.user.lessons\n      });\n    }\n  }\n\n  render() {\n    const {\n      user\n    } = this.props;\n    const {\n      detailModalOpen,\n      activeLesson\n    } = this.state;\n    return React.createElement(React.Fragment, null, detailModalOpen ? React.createElement(LessonWorksheetTestSection, {\n      onClose: this.onToggleDetailModalOpen,\n      worksheet: activeLesson,\n      user: user\n    }) : [React.createElement(FilterSection, {\n      key: \"0\"\n    }), React.createElement(\"div\", {\n      className: \"content-section\",\n      key: \"1\"\n    }, React.createElement(\"div\", {\n      className: \"row d-flex-content card-width-272\"\n    }, this.mapLessons())), React.createElement(\"a\", {\n      href: \"#\",\n      className: \"waves-effect waves-teal btn add-btn\",\n      key: \"2\"\n    }, React.createElement(\"i\", {\n      className: \"material-icons\"\n    }, \"add\"), \"New Lesson\")]);\n  }\n\n}\n\nexport default DetailLessonList;","map":null,"metadata":{},"sourceType":"module"}