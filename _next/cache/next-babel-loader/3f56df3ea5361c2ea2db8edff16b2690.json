{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/wolf/Documents/clearchoice/admin/feature-view-updated-course/clear-choice-admin/components/Dashboard/components/Modals/AssignWorksheetModal/index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport update from 'immutability-helper';\nimport moment from 'moment';\nimport Portal from '../../../../Portal';\nimport FilterSection from './components/FilterSection';\nimport WorksheetCard from './components/WorksheetCard';\nimport { difficultySort, problemSort, timeEstimateSort, subjectSort } from '../../../utils/sortOptions';\nimport sampleWorksheets from '../../../utils/sampleWorksheets';\nimport { worksheetTypeMap, worksheetSourceMap, worksheetDifficultyMap, worksheetSubjectMap } from '../../../utils/worksheetModalMaps';\n\nvar AssignWorksheetModal =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AssignWorksheetModal, _React$Component);\n\n  function AssignWorksheetModal(props) {\n    var _this;\n\n    _classCallCheck(this, AssignWorksheetModal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AssignWorksheetModal).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"onToggleAssignSelectedDropdown\", function () {\n      return _this.setState(function (_ref) {\n        var assignSelectedDropdownOpen = _ref.assignSelectedDropdownOpen;\n        return {\n          assignSelectedDropdownOpen: !assignSelectedDropdownOpen\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSetDropdown\", function (dropdownIndex) {\n      return _this.setState({\n        dropdownIndex: dropdownIndex,\n        dropdownIsOpen: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onCloseDropdown\", function () {\n      return _this.setState({\n        dropdownIsOpen: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onResetModal\", function () {\n      return _this.setState({\n        sourceFilters: [],\n        difficultyFilters: [],\n        subjectFilters: [],\n        typeFilters: [],\n        sort: ''\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSetSort\", function (sort) {\n      return _this.setState({\n        sort: sort\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSetFilteredState\", function (titleFilter, value) {\n      return _this.setState(_defineProperty({}, titleFilter, value));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onUnsetFilteredState\", function (titleFilter) {\n      return _this.setState(_defineProperty({}, titleFilter, ''));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onCloseModal\", function () {\n      var onClose = _this.props.onClose;\n      onClose();\n\n      _this.onResetModal();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSortWorksheets\", function (worksheets) {\n      var sort = _this.state.sort;\n\n      switch (sort) {\n        case 'difficulty':\n          return worksheets.sort(difficultySort);\n\n        case 'problems':\n          return worksheets.sort(problemSort);\n\n        case 'timeEstimate':\n          return worksheets.sort(timeEstimateSort);\n\n        case 'subject':\n          return worksheets.sort(subjectSort);\n\n        default:\n          break;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFilterByTitle\", function () {\n      var _this$state = _this.state,\n          worksheets = _this$state.worksheets,\n          titleFilter = _this$state.titleFilter;\n      return worksheets.reduce(function (finalArr, currentWorksheet) {\n        var title = currentWorksheet.title;\n        var worksheetString = title.replace(/\\s/g, \"\").toLowerCase();\n\n        if (worksheetString.indexOf(titleFilter) !== -1 && finalArr.indexOf(currentWorksheet) === -1) {\n          finalArr.push(currentWorksheet);\n        }\n\n        return finalArr;\n      }, []);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFilterByUnit\", function () {\n      var _this$state2 = _this.state,\n          worksheets = _this$state2.worksheets,\n          unitFilter = _this$state2.unitFilter;\n      return worksheets.reduce(function (finalArr, currentWorksheet) {\n        var unit = currentWorksheet.unit;\n        var worksheetString = unit.replace(/\\s/g, \"\").toLowerCase();\n\n        if (worksheetString.indexOf(unitFilter) !== -1 && finalArr.indexOf(currentWorksheet) === -1) {\n          finalArr.push(currentWorksheet);\n        }\n\n        return finalArr;\n      }, []);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFilterWorksheets\", function () {\n      var _this$state3 = _this.state,\n          subjectFilters = _this$state3.subjectFilters,\n          typeFilters = _this$state3.typeFilters,\n          sourceFilters = _this$state3.sourceFilters,\n          difficultyFilters = _this$state3.difficultyFilters,\n          allWorksheets = _this$state3.worksheets;\n      var worksheets = allWorksheets;\n\n      if (subjectFilters.length) {\n        worksheets = worksheets.filter(function (worksheet) {\n          return subjectFilters.indexOf(worksheetSubjectMap[worksheet.subject]) !== -1;\n        });\n      }\n\n      if (typeFilters.length) {\n        worksheets = worksheets.filter(function (worksheet) {\n          return typeFilters.indexOf(worksheetTypeMap[worksheet.type]) !== -1;\n        });\n      }\n\n      if (sourceFilters.length) {\n        worksheets = worksheets.filter(function (worksheet) {\n          return sourceFilters.indexOf(worksheetSourceMap[worksheet.source]) !== -1;\n        });\n      }\n\n      if (difficultyFilters.length) {\n        worksheets = worksheets.filter(function (worksheet) {\n          return difficultyFilters.indexOf(worksheetDifficultyMap[worksheet.difficulty]) !== -1;\n        });\n      }\n\n      return worksheets;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getMappableWorksheets\", function () {\n      var _this$state4 = _this.state,\n          subjectFilters = _this$state4.subjectFilters,\n          typeFilters = _this$state4.typeFilters,\n          difficultyFilters = _this$state4.difficultyFilters,\n          sourceFilters = _this$state4.sourceFilters,\n          sort = _this$state4.sort,\n          unitFilter = _this$state4.unitFilter,\n          titleFilter = _this$state4.titleFilter,\n          worksheets = _this$state4.worksheets;\n      var mappableWorksheets = worksheets;\n\n      if (titleFilter.length) {\n        mappableWorksheets = _this.onFilterByTitle();\n      }\n\n      if (unitFilter.length) {\n        mappableWorksheets = _this.onFilterByUnit();\n      }\n\n      if (subjectFilters.length || typeFilters.length || difficultyFilters.length || sourceFilters.length) {\n        mappableWorksheets = _this.onFilterWorksheets();\n      }\n\n      if (sort) {\n        return _this.onSortWorksheets(mappableWorksheets);\n      }\n\n      return mappableWorksheets;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleFilterClick\", function (filterType, filter) {\n      var _this$state5 = _this.state,\n          currentSourceFilters = _this$state5.sourceFilters,\n          currentDifficultyFilters = _this$state5.difficultyFilters,\n          currentSubjectFilters = _this$state5.subjectFilters,\n          currentTypeFilters = _this$state5.typeFilters;\n      var modifiedFilterCurrentState;\n      var modifiedFilterName;\n      var modifiedFilterUpdatedState;\n\n      switch (filterType) {\n        case 'subject':\n          modifiedFilterCurrentState = currentSubjectFilters;\n          modifiedFilterName = 'subjectFilters';\n          break;\n\n        case 'type':\n          modifiedFilterCurrentState = currentTypeFilters;\n          modifiedFilterName = 'typeFilters';\n          break;\n\n        case 'source':\n          modifiedFilterCurrentState = currentSourceFilters;\n          modifiedFilterName = 'sourceFilters';\n          break;\n\n        case 'difficulty':\n          modifiedFilterCurrentState = currentDifficultyFilters;\n          modifiedFilterName = 'difficultyFilters';\n          break;\n\n        default:\n          break;\n      }\n\n      if (modifiedFilterCurrentState.indexOf(filter) === -1) {\n        modifiedFilterUpdatedState = update(modifiedFilterCurrentState, {\n          $push: [filter]\n        });\n      } else {\n        var filterIndex = modifiedFilterCurrentState.indexOf(filter);\n        modifiedFilterUpdatedState = update(modifiedFilterCurrentState, {\n          $splice: [[filterIndex, 1]]\n        });\n      }\n\n      _this.setState(_defineProperty({}, modifiedFilterName, modifiedFilterUpdatedState));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleWorksheetClick\", function (worksheet) {\n      var selectedWorksheets = _this.state.selectedWorksheets;\n      var modifiedWorksheets;\n\n      if (selectedWorksheets.indexOf(worksheet) === -1) {\n        modifiedWorksheets = update(selectedWorksheets, {\n          $push: [worksheet]\n        });\n      } else {\n        var worksheetIndex = selectedWorksheets.indexOf(worksheet);\n        modifiedWorksheets = update(selectedWorksheets, {\n          $splice: [[worksheetIndex, 1]]\n        });\n      }\n\n      _this.setState({\n        selectedWorksheets: modifiedWorksheets\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"assignWorksheets\", function (date) {\n      var onAssignWorksheets = _this.props.onAssignWorksheets;\n      var selectedWorksheets = _this.state.selectedWorksheets;\n      var assignDate;\n\n      switch (date) {\n        case 'today':\n          assignDate = moment().format('MM/DD/YY');\n          break;\n\n        case 'tomorrow':\n          assignDate = moment().add(1, 'days').format('MM/DD/YY');\n          break;\n\n        case 'nextSession':\n          break;\n\n        case 'customDate':\n          assignDate = '01/05/19';\n          break;\n\n        default:\n          break;\n      }\n\n      _this.onToggleAssignSelectedDropdown();\n\n      onAssignWorksheets(selectedWorksheets, assignDate);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mapWorksheets\", function () {\n      return _this.getMappableWorksheets().map(function (worksheet, index) {\n        return __jsx(WorksheetCard, {\n          worksheet: worksheet,\n          index: index,\n          key: worksheet.id,\n          onSetDropdown: _this.onSetDropdown,\n          onCloseDropdown: _this.onCloseDropdown,\n          dropdownIndex: _this.state.dropdownIndex,\n          dropdownIsOpen: _this.state.dropdownIsOpen,\n          handleWorksheetClick: _this.handleWorksheetClick,\n          selectedWorksheets: _this.state.selectedWorksheets,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 206\n          },\n          __self: this\n        });\n      });\n    });\n\n    _this.state = {\n      sort: '',\n      unitFilter: '',\n      titleFilter: '',\n      typeFilters: [],\n      sourceFilters: [],\n      subjectFilters: [],\n      selectedWorksheets: [],\n      difficultyFilters: [],\n      worksheets: sampleWorksheets,\n      dropdownIndex: null,\n      dropdownIsOpen: false,\n      assignSelectedDropdownOpen: false\n    };\n    return _this;\n  }\n\n  _createClass(AssignWorksheetModal, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var open = this.props.open;\n      var _this$state6 = this.state,\n          assignSelectedDropdownOpen = _this$state6.assignSelectedDropdownOpen,\n          typeFilters = _this$state6.typeFilters,\n          sourceFilters = _this$state6.sourceFilters,\n          subjectFilters = _this$state6.subjectFilters,\n          difficultyFilters = _this$state6.difficultyFilters,\n          sort = _this$state6.sort;\n      return __jsx(\"div\", {\n        className: \"jsx-2666520574\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      }, open && __jsx(\"div\", {\n        className: \"jsx-2666520574\" + \" \" + \"wrapper\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        style: {\n          minWidth: \"100%\"\n        },\n        className: \"jsx-2666520574\" + \" \" + \"card-modal card-main card switcher-section grey lighten-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-2666520574\" + \" \" + \"header-row card-panel light-blue lighten-1 white-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-2666520574\" + \" \" + \"card-panel-row row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-2666520574\" + \" \" + \"col s11\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-2666520574\" + \" \" + \"d-flex\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 230\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-2666520574\" + \" \" + \"icon-col\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, __jsx(\"i\", {\n        className: \"jsx-2666520574\" + \" \" + \"icon-sheets-w\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 232\n        },\n        __self: this\n      })), __jsx(\"div\", {\n        className: \"jsx-2666520574\" + \" \" + \"card-panel-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-2666520574\" + \" \" + \"text-large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }, \"Assign Worksheets\")))), __jsx(\"div\", {\n        className: \"jsx-2666520574\" + \" \" + \"col s1 right-align\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-2666520574\" + \" \" + \"row icons-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        href: \"#\",\n        onClick: this.onCloseModal,\n        className: \"jsx-2666520574\" + \" \" + \"modal-close close\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      }, __jsx(\"i\", {\n        className: \"jsx-2666520574\" + \" \" + \"icon-close-thin\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 240\n        },\n        __self: this\n      })))))), __jsx(FilterSection, {\n        sort: sort,\n        typeFilters: typeFilters,\n        sourceFilters: sourceFilters,\n        subjectFilters: subjectFilters,\n        difficultyFilters: difficultyFilters,\n        onSetSort: this.onSetSort,\n        onClearFilters: this.onResetModal,\n        handleFilterClick: this.handleFilterClick,\n        onSetFilteredState: this.onSetFilteredState,\n        onUnsetFilteredState: this.onUnsetFilteredState,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244\n        },\n        __self: this\n      }), __jsx(\"div\", {\n        className: \"jsx-2666520574\" + \" \" + \"card-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-2666520574\" + \" \" + \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-2666520574\" + \" \" + \"result-row center-align\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, __jsx(\"b\", {\n        className: \"jsx-2666520574\" + \" \" + \"result\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, \" - \", this.getMappableWorksheets().length, \" results -\")), __jsx(\"div\", {\n        className: \"jsx-2666520574\" + \" \" + \"checkboxes-section row d-flex-content card-width-322\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, this.mapWorksheets())))), __jsx(\"div\", {\n        className: \"jsx-2666520574\" + \" \" + \"add-btn-block\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        href: \"#\",\n        \"data-target\": \"dropdown_assign_selected\",\n        onClick: this.onToggleAssignSelectedDropdown,\n        className: \"jsx-2666520574\" + \" \" + \"dropdown-trigger waves-effect waves-teal btn add-btn\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, __jsx(\"i\", {\n        className: \"jsx-2666520574\" + \" \" + \"material-icons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, \"add\"), \" Assign Selected\"), __jsx(\"ul\", {\n        id: \"dropdown_assign_selected\",\n        style: {\n          display: assignSelectedDropdownOpen ? 'block' : '0',\n          opacity: assignSelectedDropdownOpen ? '1' : '0'\n        },\n        className: \"jsx-2666520574\" + \" \" + 'dropdown-content',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, __jsx(\"li\", {\n        className: \"jsx-2666520574\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        href: \"#\",\n        onClick: function onClick() {\n          return _this2.assignWorksheets('today');\n        },\n        className: \"jsx-2666520574\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281\n        },\n        __self: this\n      }, \"For Today\")), __jsx(\"li\", {\n        className: \"jsx-2666520574\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        href: \"#\",\n        onClick: function onClick() {\n          return _this2.assignWorksheets('tomorrow');\n        },\n        className: \"jsx-2666520574\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }, \"For Tomorrow\")), __jsx(\"li\", {\n        className: \"jsx-2666520574\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        href: \"#\",\n        onClick: function onClick() {\n          return _this2.assignWorksheets('nextSession');\n        },\n        className: \"jsx-2666520574\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }, \"For Next Session\")), __jsx(\"li\", {\n        className: \"jsx-2666520574\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        href: \"#\",\n        onClick: function onClick() {\n          return _this2.assignWorksheets('customDate');\n        },\n        className: \"jsx-2666520574\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }, \"For Date...\"))))), __jsx(_JSXStyle, {\n        id: \"2666520574\",\n        __self: this\n      }, \".card-modal.jsx-2666520574{margin:0;border-radius:6px;}.wrapper.jsx-2666520574{min-height:0px;}.modal-custom.jsx-2666520574{opacity:1;visibility:visible;}.modal-footer.jsx-2666520574{background-color:white;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy93b2xmL0RvY3VtZW50cy9jbGVhcmNob2ljZS9hZG1pbi9mZWF0dXJlLXZpZXctdXBkYXRlZC1jb3Vyc2UvY2xlYXItY2hvaWNlLWFkbWluL2NvbXBvbmVudHMvRGFzaGJvYXJkL2NvbXBvbmVudHMvTW9kYWxzL0Fzc2lnbldvcmtzaGVldE1vZGFsL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWlTVyxBQUd3QixBQUlNLEFBR0wsQUFJYSxTQVZMLENBT0MsS0FIckIsUUFPQSxJQVZBLEVBT0EiLCJmaWxlIjoiL1VzZXJzL3dvbGYvRG9jdW1lbnRzL2NsZWFyY2hvaWNlL2FkbWluL2ZlYXR1cmUtdmlldy11cGRhdGVkLWNvdXJzZS9jbGVhci1jaG9pY2UtYWRtaW4vY29tcG9uZW50cy9EYXNoYm9hcmQvY29tcG9uZW50cy9Nb2RhbHMvQXNzaWduV29ya3NoZWV0TW9kYWwvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB1cGRhdGUgZnJvbSAnaW1tdXRhYmlsaXR5LWhlbHBlcic7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5cbmltcG9ydCBQb3J0YWwgZnJvbSAnLi4vLi4vLi4vLi4vUG9ydGFsJztcblxuaW1wb3J0IEZpbHRlclNlY3Rpb24gZnJvbSAnLi9jb21wb25lbnRzL0ZpbHRlclNlY3Rpb24nO1xuaW1wb3J0IFdvcmtzaGVldENhcmQgZnJvbSAnLi9jb21wb25lbnRzL1dvcmtzaGVldENhcmQnO1xuaW1wb3J0IHsgZGlmZmljdWx0eVNvcnQsIHByb2JsZW1Tb3J0LCB0aW1lRXN0aW1hdGVTb3J0LCBzdWJqZWN0U29ydCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3NvcnRPcHRpb25zJztcbmltcG9ydCBzYW1wbGVXb3Jrc2hlZXRzIGZyb20gJy4uLy4uLy4uL3V0aWxzL3NhbXBsZVdvcmtzaGVldHMnO1xuaW1wb3J0IHsgd29ya3NoZWV0VHlwZU1hcCwgd29ya3NoZWV0U291cmNlTWFwLCB3b3Jrc2hlZXREaWZmaWN1bHR5TWFwLCB3b3Jrc2hlZXRTdWJqZWN0TWFwIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvd29ya3NoZWV0TW9kYWxNYXBzJztcblxuY2xhc3MgQXNzaWduV29ya3NoZWV0TW9kYWwgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgc29ydDogJycsXG4gICAgICB1bml0RmlsdGVyOiAnJyxcbiAgICAgIHRpdGxlRmlsdGVyOiAnJyxcbiAgICAgIHR5cGVGaWx0ZXJzOiBbXSxcbiAgICAgIHNvdXJjZUZpbHRlcnM6IFtdLFxuICAgICAgc3ViamVjdEZpbHRlcnM6IFtdLFxuICAgICAgc2VsZWN0ZWRXb3Jrc2hlZXRzOiBbXSxcbiAgICAgIGRpZmZpY3VsdHlGaWx0ZXJzOiBbXSxcbiAgICAgIHdvcmtzaGVldHM6IHNhbXBsZVdvcmtzaGVldHMsXG4gICAgICBkcm9wZG93bkluZGV4OiBudWxsLFxuICAgICAgZHJvcGRvd25Jc09wZW46IGZhbHNlLFxuICAgICAgYXNzaWduU2VsZWN0ZWREcm9wZG93bk9wZW46IGZhbHNlLFxuICAgIH07XG4gIH1cblxuICBvblRvZ2dsZUFzc2lnblNlbGVjdGVkRHJvcGRvd24gPSAoKSA9PiB0aGlzLnNldFN0YXRlKCh7IGFzc2lnblNlbGVjdGVkRHJvcGRvd25PcGVuIH0pID0+ICh7IGFzc2lnblNlbGVjdGVkRHJvcGRvd25PcGVuOiAhYXNzaWduU2VsZWN0ZWREcm9wZG93bk9wZW4gfSkpXG5cbiAgb25TZXREcm9wZG93biA9IChkcm9wZG93bkluZGV4KSA9PiB0aGlzLnNldFN0YXRlKHsgZHJvcGRvd25JbmRleCwgZHJvcGRvd25Jc09wZW46IHRydWUgfSk7XG4gIG9uQ2xvc2VEcm9wZG93biA9ICgpID0+IHRoaXMuc2V0U3RhdGUoeyBkcm9wZG93bklzT3BlbjogZmFsc2UgfSk7XG5cbiAgb25SZXNldE1vZGFsID0gKCkgPT4gdGhpcy5zZXRTdGF0ZSh7IHNvdXJjZUZpbHRlcnM6IFtdLCBkaWZmaWN1bHR5RmlsdGVyczogW10sIHN1YmplY3RGaWx0ZXJzOiBbXSwgdHlwZUZpbHRlcnM6IFtdLCBzb3J0OiAnJyB9KVxuICBvblNldFNvcnQgPSAoc29ydCkgPT4gdGhpcy5zZXRTdGF0ZSh7IHNvcnQgfSlcblxuICBvblNldEZpbHRlcmVkU3RhdGUgPSAodGl0bGVGaWx0ZXIsIHZhbHVlKSA9PiB0aGlzLnNldFN0YXRlKHsgW3RpdGxlRmlsdGVyXTogdmFsdWUgfSlcbiAgb25VbnNldEZpbHRlcmVkU3RhdGUgPSAodGl0bGVGaWx0ZXIpID0+IHRoaXMuc2V0U3RhdGUoeyBbdGl0bGVGaWx0ZXJdOiAnJyB9KVxuXG4gIG9uQ2xvc2VNb2RhbCA9ICgpID0+IHtcbiAgICBjb25zdCB7IG9uQ2xvc2UgfSA9IHRoaXMucHJvcHM7XG4gICAgb25DbG9zZSgpO1xuICAgIHRoaXMub25SZXNldE1vZGFsKCk7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgb25Tb3J0V29ya3NoZWV0cyA9ICh3b3Jrc2hlZXRzKSA9PiB7XG4gICAgY29uc3QgeyBzb3J0IH0gPSB0aGlzLnN0YXRlO1xuICAgIHN3aXRjaCAoc29ydCkge1xuICAgICAgY2FzZSAnZGlmZmljdWx0eSc6XG4gICAgICAgIHJldHVybiB3b3Jrc2hlZXRzLnNvcnQoZGlmZmljdWx0eVNvcnQpO1xuICAgICAgY2FzZSAncHJvYmxlbXMnOlxuICAgICAgICByZXR1cm4gd29ya3NoZWV0cy5zb3J0KHByb2JsZW1Tb3J0KTtcbiAgICAgIGNhc2UgJ3RpbWVFc3RpbWF0ZSc6XG4gICAgICAgIHJldHVybiB3b3Jrc2hlZXRzLnNvcnQodGltZUVzdGltYXRlU29ydCk7XG4gICAgICBjYXNlICdzdWJqZWN0JzpcbiAgICAgICAgcmV0dXJuIHdvcmtzaGVldHMuc29ydChzdWJqZWN0U29ydCk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBvbkZpbHRlckJ5VGl0bGUgPSAoKSA9PiB7XG4gICAgY29uc3QgeyB3b3Jrc2hlZXRzLCB0aXRsZUZpbHRlciB9ID0gdGhpcy5zdGF0ZTtcbiAgICByZXR1cm4gd29ya3NoZWV0cy5yZWR1Y2UoKGZpbmFsQXJyLCBjdXJyZW50V29ya3NoZWV0KSA9PiB7XG4gICAgICBjb25zdCB7IHRpdGxlIH0gPSBjdXJyZW50V29ya3NoZWV0O1xuICAgICAgY29uc3Qgd29ya3NoZWV0U3RyaW5nID0gdGl0bGUucmVwbGFjZSgvXFxzL2csIFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAod29ya3NoZWV0U3RyaW5nLmluZGV4T2YodGl0bGVGaWx0ZXIpICE9PSAtMSAmJiBmaW5hbEFyci5pbmRleE9mKGN1cnJlbnRXb3Jrc2hlZXQpID09PSAtMSkge1xuICAgICAgICBmaW5hbEFyci5wdXNoKGN1cnJlbnRXb3Jrc2hlZXQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZpbmFsQXJyO1xuICAgIH0sIFtdKTtcbiAgfVxuXG4gIG9uRmlsdGVyQnlVbml0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgd29ya3NoZWV0cywgdW5pdEZpbHRlciB9ID0gdGhpcy5zdGF0ZTtcbiAgICByZXR1cm4gd29ya3NoZWV0cy5yZWR1Y2UoKGZpbmFsQXJyLCBjdXJyZW50V29ya3NoZWV0KSA9PiB7XG4gICAgICBjb25zdCB7IHVuaXQgfSA9IGN1cnJlbnRXb3Jrc2hlZXQ7XG4gICAgICBjb25zdCB3b3Jrc2hlZXRTdHJpbmcgPSB1bml0LnJlcGxhY2UoL1xccy9nLCBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHdvcmtzaGVldFN0cmluZy5pbmRleE9mKHVuaXRGaWx0ZXIpICE9PSAtMSAmJiBmaW5hbEFyci5pbmRleE9mKGN1cnJlbnRXb3Jrc2hlZXQpID09PSAtMSkge1xuICAgICAgICBmaW5hbEFyci5wdXNoKGN1cnJlbnRXb3Jrc2hlZXQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZpbmFsQXJyO1xuICAgIH0sIFtdKTtcbiAgfVxuXG4gIG9uRmlsdGVyV29ya3NoZWV0cyA9ICgpID0+IHtcbiAgICBjb25zdCB7IHN1YmplY3RGaWx0ZXJzLCB0eXBlRmlsdGVycywgc291cmNlRmlsdGVycywgZGlmZmljdWx0eUZpbHRlcnMsIHdvcmtzaGVldHM6IGFsbFdvcmtzaGVldHMgfSA9IHRoaXMuc3RhdGU7XG4gICAgbGV0IHdvcmtzaGVldHMgPSBhbGxXb3Jrc2hlZXRzO1xuICAgIGlmIChzdWJqZWN0RmlsdGVycy5sZW5ndGgpIHtcbiAgICAgIHdvcmtzaGVldHMgPSB3b3Jrc2hlZXRzLmZpbHRlcih3b3Jrc2hlZXQgPT4gc3ViamVjdEZpbHRlcnMuaW5kZXhPZih3b3Jrc2hlZXRTdWJqZWN0TWFwW3dvcmtzaGVldC5zdWJqZWN0XSkgIT09IC0xKTtcbiAgICB9XG4gICAgaWYgKHR5cGVGaWx0ZXJzLmxlbmd0aCkge1xuICAgICAgd29ya3NoZWV0cyA9IHdvcmtzaGVldHMuZmlsdGVyKHdvcmtzaGVldCA9PiB0eXBlRmlsdGVycy5pbmRleE9mKHdvcmtzaGVldFR5cGVNYXBbd29ya3NoZWV0LnR5cGVdKSAhPT0gLTEpO1xuICAgIH1cbiAgICBpZiAoc291cmNlRmlsdGVycy5sZW5ndGgpIHtcbiAgICAgIHdvcmtzaGVldHMgPSB3b3Jrc2hlZXRzLmZpbHRlcih3b3Jrc2hlZXQgPT4gc291cmNlRmlsdGVycy5pbmRleE9mKHdvcmtzaGVldFNvdXJjZU1hcFt3b3Jrc2hlZXQuc291cmNlXSkgIT09IC0xKTtcbiAgICB9XG4gICAgaWYgKGRpZmZpY3VsdHlGaWx0ZXJzLmxlbmd0aCkge1xuICAgICAgd29ya3NoZWV0cyA9IHdvcmtzaGVldHMuZmlsdGVyKHdvcmtzaGVldCA9PiBkaWZmaWN1bHR5RmlsdGVycy5pbmRleE9mKHdvcmtzaGVldERpZmZpY3VsdHlNYXBbd29ya3NoZWV0LmRpZmZpY3VsdHldKSAhPT0gLTEpO1xuICAgIH1cbiAgICByZXR1cm4gd29ya3NoZWV0cztcbiAgfVxuXG4gIGdldE1hcHBhYmxlV29ya3NoZWV0cyA9ICgpID0+IHtcbiAgICBjb25zdCB7IHN1YmplY3RGaWx0ZXJzLCB0eXBlRmlsdGVycywgZGlmZmljdWx0eUZpbHRlcnMsIHNvdXJjZUZpbHRlcnMsIHNvcnQsIHVuaXRGaWx0ZXIsIHRpdGxlRmlsdGVyLCB3b3Jrc2hlZXRzIH0gPSB0aGlzLnN0YXRlO1xuICAgIGxldCBtYXBwYWJsZVdvcmtzaGVldHMgPSB3b3Jrc2hlZXRzO1xuICAgIGlmICh0aXRsZUZpbHRlci5sZW5ndGgpIHtcbiAgICAgIG1hcHBhYmxlV29ya3NoZWV0cyA9IHRoaXMub25GaWx0ZXJCeVRpdGxlKCk7XG4gICAgfVxuICAgIGlmICh1bml0RmlsdGVyLmxlbmd0aCkge1xuICAgICAgbWFwcGFibGVXb3Jrc2hlZXRzID0gdGhpcy5vbkZpbHRlckJ5VW5pdCgpO1xuICAgIH1cbiAgICBpZiAoc3ViamVjdEZpbHRlcnMubGVuZ3RoIHx8IHR5cGVGaWx0ZXJzLmxlbmd0aCB8fCBkaWZmaWN1bHR5RmlsdGVycy5sZW5ndGggfHwgc291cmNlRmlsdGVycy5sZW5ndGgpIHtcbiAgICAgIG1hcHBhYmxlV29ya3NoZWV0cyA9IHRoaXMub25GaWx0ZXJXb3Jrc2hlZXRzKCk7XG4gICAgfVxuICAgIGlmIChzb3J0KSB7XG4gICAgICByZXR1cm4gdGhpcy5vblNvcnRXb3Jrc2hlZXRzKG1hcHBhYmxlV29ya3NoZWV0cyk7XG4gICAgfVxuICAgIHJldHVybiBtYXBwYWJsZVdvcmtzaGVldHM7XG4gIH1cblxuICBoYW5kbGVGaWx0ZXJDbGljayA9IChmaWx0ZXJUeXBlLCBmaWx0ZXIpID0+IHtcbiAgICBjb25zdCB7IHNvdXJjZUZpbHRlcnM6IGN1cnJlbnRTb3VyY2VGaWx0ZXJzLCBkaWZmaWN1bHR5RmlsdGVyczogY3VycmVudERpZmZpY3VsdHlGaWx0ZXJzLFxuICAgICAgc3ViamVjdEZpbHRlcnM6IGN1cnJlbnRTdWJqZWN0RmlsdGVycywgdHlwZUZpbHRlcnM6IGN1cnJlbnRUeXBlRmlsdGVycyB9ID0gdGhpcy5zdGF0ZTtcbiAgICBsZXQgbW9kaWZpZWRGaWx0ZXJDdXJyZW50U3RhdGU7XG4gICAgbGV0IG1vZGlmaWVkRmlsdGVyTmFtZTtcbiAgICBsZXQgbW9kaWZpZWRGaWx0ZXJVcGRhdGVkU3RhdGU7XG4gICAgc3dpdGNoIChmaWx0ZXJUeXBlKSB7XG4gICAgICBjYXNlICdzdWJqZWN0JzpcbiAgICAgICAgbW9kaWZpZWRGaWx0ZXJDdXJyZW50U3RhdGUgPSBjdXJyZW50U3ViamVjdEZpbHRlcnM7XG4gICAgICAgIG1vZGlmaWVkRmlsdGVyTmFtZSA9ICdzdWJqZWN0RmlsdGVycyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndHlwZSc6XG4gICAgICAgIG1vZGlmaWVkRmlsdGVyQ3VycmVudFN0YXRlID0gY3VycmVudFR5cGVGaWx0ZXJzO1xuICAgICAgICBtb2RpZmllZEZpbHRlck5hbWUgPSAndHlwZUZpbHRlcnMnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3NvdXJjZSc6XG4gICAgICAgIG1vZGlmaWVkRmlsdGVyQ3VycmVudFN0YXRlID0gY3VycmVudFNvdXJjZUZpbHRlcnM7XG4gICAgICAgIG1vZGlmaWVkRmlsdGVyTmFtZSA9ICdzb3VyY2VGaWx0ZXJzJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdkaWZmaWN1bHR5JzpcbiAgICAgICAgbW9kaWZpZWRGaWx0ZXJDdXJyZW50U3RhdGUgPSBjdXJyZW50RGlmZmljdWx0eUZpbHRlcnM7XG4gICAgICAgIG1vZGlmaWVkRmlsdGVyTmFtZSA9ICdkaWZmaWN1bHR5RmlsdGVycyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGlmIChtb2RpZmllZEZpbHRlckN1cnJlbnRTdGF0ZS5pbmRleE9mKGZpbHRlcikgPT09IC0xKSB7XG4gICAgICBtb2RpZmllZEZpbHRlclVwZGF0ZWRTdGF0ZSA9IHVwZGF0ZShtb2RpZmllZEZpbHRlckN1cnJlbnRTdGF0ZSwge1xuICAgICAgICAkcHVzaDogW2ZpbHRlcl0sXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZmlsdGVySW5kZXggPSBtb2RpZmllZEZpbHRlckN1cnJlbnRTdGF0ZS5pbmRleE9mKGZpbHRlcik7XG4gICAgICBtb2RpZmllZEZpbHRlclVwZGF0ZWRTdGF0ZSA9IHVwZGF0ZShtb2RpZmllZEZpbHRlckN1cnJlbnRTdGF0ZSwge1xuICAgICAgICAkc3BsaWNlOiBbWyBmaWx0ZXJJbmRleCwgMSBdXSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLnNldFN0YXRlKHsgW21vZGlmaWVkRmlsdGVyTmFtZV06IG1vZGlmaWVkRmlsdGVyVXBkYXRlZFN0YXRlIH0pO1xuICB9XG5cbiAgaGFuZGxlV29ya3NoZWV0Q2xpY2sgPSAod29ya3NoZWV0KSA9PiB7XG4gICAgY29uc3QgeyBzZWxlY3RlZFdvcmtzaGVldHMgfSA9IHRoaXMuc3RhdGU7XG4gICAgbGV0IG1vZGlmaWVkV29ya3NoZWV0cztcbiAgICBpZiAoc2VsZWN0ZWRXb3Jrc2hlZXRzLmluZGV4T2Yod29ya3NoZWV0KSA9PT0gLTEpIHtcbiAgICAgIG1vZGlmaWVkV29ya3NoZWV0cyA9IHVwZGF0ZShzZWxlY3RlZFdvcmtzaGVldHMsIHtcbiAgICAgICAgJHB1c2g6IFt3b3Jrc2hlZXRdLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHdvcmtzaGVldEluZGV4ID0gc2VsZWN0ZWRXb3Jrc2hlZXRzLmluZGV4T2Yod29ya3NoZWV0KTtcbiAgICAgIG1vZGlmaWVkV29ya3NoZWV0cyA9IHVwZGF0ZShzZWxlY3RlZFdvcmtzaGVldHMsIHtcbiAgICAgICAgJHNwbGljZTogW1sgd29ya3NoZWV0SW5kZXgsIDEgXV0sXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkV29ya3NoZWV0czogbW9kaWZpZWRXb3Jrc2hlZXRzIH0pO1xuICB9XG5cbiAgYXNzaWduV29ya3NoZWV0cyA9IChkYXRlKSA9PiB7XG4gICAgY29uc3QgeyBvbkFzc2lnbldvcmtzaGVldHMgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgeyBzZWxlY3RlZFdvcmtzaGVldHMgfSA9IHRoaXMuc3RhdGU7XG4gICAgbGV0IGFzc2lnbkRhdGU7XG4gICAgc3dpdGNoIChkYXRlKSB7XG4gICAgICBjYXNlICd0b2RheSc6XG4gICAgICAgIGFzc2lnbkRhdGUgPSBtb21lbnQoKS5mb3JtYXQoJ01NL0REL1lZJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndG9tb3Jyb3cnOlxuICAgICAgICBhc3NpZ25EYXRlID0gbW9tZW50KCkuYWRkKDEsICdkYXlzJykuZm9ybWF0KCdNTS9ERC9ZWScpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ25leHRTZXNzaW9uJzpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdjdXN0b21EYXRlJzpcbiAgICAgICAgYXNzaWduRGF0ZSA9ICcwMS8wNS8xOSc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHRoaXMub25Ub2dnbGVBc3NpZ25TZWxlY3RlZERyb3Bkb3duKCk7XG4gICAgb25Bc3NpZ25Xb3Jrc2hlZXRzKHNlbGVjdGVkV29ya3NoZWV0cywgYXNzaWduRGF0ZSk7XG4gIH1cblxuICBtYXBXb3Jrc2hlZXRzID0gKCkgPT4gdGhpcy5nZXRNYXBwYWJsZVdvcmtzaGVldHMoKS5tYXAoKHdvcmtzaGVldCwgaW5kZXgpID0+IChcbiAgICA8V29ya3NoZWV0Q2FyZFxuICAgICAgd29ya3NoZWV0PXt3b3Jrc2hlZXR9XG4gICAgICBpbmRleD17aW5kZXh9XG4gICAgICBrZXk9e3dvcmtzaGVldC5pZH1cbiAgICAgIG9uU2V0RHJvcGRvd249e3RoaXMub25TZXREcm9wZG93bn1cbiAgICAgIG9uQ2xvc2VEcm9wZG93bj17dGhpcy5vbkNsb3NlRHJvcGRvd259XG4gICAgICBkcm9wZG93bkluZGV4PXt0aGlzLnN0YXRlLmRyb3Bkb3duSW5kZXh9XG4gICAgICBkcm9wZG93bklzT3Blbj17dGhpcy5zdGF0ZS5kcm9wZG93bklzT3Blbn1cbiAgICAgIGhhbmRsZVdvcmtzaGVldENsaWNrPXt0aGlzLmhhbmRsZVdvcmtzaGVldENsaWNrfVxuICAgICAgc2VsZWN0ZWRXb3Jrc2hlZXRzPXt0aGlzLnN0YXRlLnNlbGVjdGVkV29ya3NoZWV0c31cbiAgICAvPlxuICApKVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IG9wZW4gfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgeyBhc3NpZ25TZWxlY3RlZERyb3Bkb3duT3BlbiwgdHlwZUZpbHRlcnMsIHNvdXJjZUZpbHRlcnMsIHN1YmplY3RGaWx0ZXJzLCBkaWZmaWN1bHR5RmlsdGVycywgc29ydCB9ID0gdGhpcy5zdGF0ZTtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdj5cbiAgICAgICAge29wZW4gJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwid3JhcHBlclwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtbW9kYWwgY2FyZC1tYWluIGNhcmQgc3dpdGNoZXItc2VjdGlvbiBncmV5IGxpZ2h0ZW4tM1wiIHN0eWxlID0ge3ttaW5XaWR0aDpcIjEwMCVcIn19PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyLXJvdyBjYXJkLXBhbmVsIGxpZ2h0LWJsdWUgbGlnaHRlbi0xIHdoaXRlLXRleHRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1wYW5lbC1yb3cgcm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sIHMxMVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZC1mbGV4XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImljb24tY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImljb24tc2hlZXRzLXdcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1wYW5lbC10ZXh0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sYXJnZVwiPkFzc2lnbiBXb3Jrc2hlZXRzPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sIHMxIHJpZ2h0LWFsaWduXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgaWNvbnMtcm93XCI+PGEgaHJlZj1cIiNcIiBvbkNsaWNrPXt0aGlzLm9uQ2xvc2VNb2RhbH0gY2xhc3NOYW1lPVwibW9kYWwtY2xvc2UgY2xvc2VcIj48aSBjbGFzc05hbWU9XCJpY29uLWNsb3NlLXRoaW5cIj48L2k+PC9hPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxGaWx0ZXJTZWN0aW9uXG4gICAgICAgICAgICAgICAgICBzb3J0PXtzb3J0fVxuICAgICAgICAgICAgICAgICAgdHlwZUZpbHRlcnM9e3R5cGVGaWx0ZXJzfVxuICAgICAgICAgICAgICAgICAgc291cmNlRmlsdGVycz17c291cmNlRmlsdGVyc31cbiAgICAgICAgICAgICAgICAgIHN1YmplY3RGaWx0ZXJzPXtzdWJqZWN0RmlsdGVyc31cbiAgICAgICAgICAgICAgICAgIGRpZmZpY3VsdHlGaWx0ZXJzPXtkaWZmaWN1bHR5RmlsdGVyc31cbiAgICAgICAgICAgICAgICAgIG9uU2V0U29ydD17dGhpcy5vblNldFNvcnR9XG4gICAgICAgICAgICAgICAgICBvbkNsZWFyRmlsdGVycz17dGhpcy5vblJlc2V0TW9kYWx9XG4gICAgICAgICAgICAgICAgICBoYW5kbGVGaWx0ZXJDbGljaz17dGhpcy5oYW5kbGVGaWx0ZXJDbGlja31cbiAgICAgICAgICAgICAgICAgIG9uU2V0RmlsdGVyZWRTdGF0ZT17dGhpcy5vblNldEZpbHRlcmVkU3RhdGV9XG4gICAgICAgICAgICAgICAgICBvblVuc2V0RmlsdGVyZWRTdGF0ZT17dGhpcy5vblVuc2V0RmlsdGVyZWRTdGF0ZX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtYm9keVwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlc3VsdC1yb3cgY2VudGVyLWFsaWduXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGIgY2xhc3NOYW1lPVwicmVzdWx0XCI+IC0ge3RoaXMuZ2V0TWFwcGFibGVXb3Jrc2hlZXRzKCkubGVuZ3RofSByZXN1bHRzIC08L2I+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNoZWNrYm94ZXMtc2VjdGlvbiByb3cgZC1mbGV4LWNvbnRlbnQgY2FyZC13aWR0aC0zMjJcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5tYXBXb3Jrc2hlZXRzKCl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFkZC1idG4tYmxvY2tcIj5cbiAgICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgICAgaHJlZj1cIiNcIlxuICAgICAgICAgICAgICAgICAgZGF0YS10YXJnZXQ9J2Ryb3Bkb3duX2Fzc2lnbl9zZWxlY3RlZCdcbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25Ub2dnbGVBc3NpZ25TZWxlY3RlZERyb3Bkb3dufVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZHJvcGRvd24tdHJpZ2dlciB3YXZlcy1lZmZlY3Qgd2F2ZXMtdGVhbCBidG4gYWRkLWJ0blwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvbnNcIj5hZGQ8L2k+IEFzc2lnbiBTZWxlY3RlZFxuICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICA8dWxcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT0nZHJvcGRvd24tY29udGVudCdcbiAgICAgICAgICAgICAgICAgIGlkPSdkcm9wZG93bl9hc3NpZ25fc2VsZWN0ZWQnXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBkaXNwbGF5OiBhc3NpZ25TZWxlY3RlZERyb3Bkb3duT3BlbiA/ICdibG9jaycgOiAnMCcsIG9wYWNpdHk6IGFzc2lnblNlbGVjdGVkRHJvcGRvd25PcGVuID8gJzEnIDogJzAnIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XCIjXCIgb25DbGljaz17KCkgPT4gdGhpcy5hc3NpZ25Xb3Jrc2hlZXRzKCd0b2RheScpfT5Gb3IgVG9kYXk8L2E+PC9saT5cbiAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVwiI1wiIG9uQ2xpY2s9eygpID0+IHRoaXMuYXNzaWduV29ya3NoZWV0cygndG9tb3Jyb3cnKX0+Rm9yIFRvbW9ycm93PC9hPjwvbGk+XG4gICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cIiNcIiBvbkNsaWNrPXsoKSA9PiB0aGlzLmFzc2lnbldvcmtzaGVldHMoJ25leHRTZXNzaW9uJyl9PkZvciBOZXh0IFNlc3Npb248L2E+PC9saT5cbiAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVwiI1wiIG9uQ2xpY2s9eygpID0+IHRoaXMuYXNzaWduV29ya3NoZWV0cygnY3VzdG9tRGF0ZScpfT5Gb3IgRGF0ZS4uLjwvYT48L2xpPlxuICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgIHtgXG4gICAgICAgICAgICAuY2FyZC1tb2RhbCB7XG4gICAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLndyYXBwZXIge1xuICAgICAgICAgICAgICBtaW4taGVpZ2h0OiAwcHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAubW9kYWwtY3VzdG9tIHtcbiAgICAgICAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgICAgICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5tb2RhbC1mb290ZXIge1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBgfVxuICAgICAgICA8L3N0eWxlPlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxufVxuXG5Bc3NpZ25Xb3Jrc2hlZXRNb2RhbC5wcm9wVHlwZXMgPSB7XG4gIG9wZW46IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIG9uQ2xvc2U6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIG9uQXNzaWduV29ya3NoZWV0czogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEFzc2lnbldvcmtzaGVldE1vZGFsO1xuIl19 */\\n/*@ sourceURL=/Users/wolf/Documents/clearchoice/admin/feature-view-updated-course/clear-choice-admin/components/Dashboard/components/Modals/AssignWorksheetModal/index.js */\"));\n    }\n  }]);\n\n  return AssignWorksheetModal;\n}(React.Component);\n\nAssignWorksheetModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onAssignWorksheets: PropTypes.func.isRequired\n};\nexport default AssignWorksheetModal;","map":{"version":3,"sources":["/Users/wolf/Documents/clearchoice/admin/feature-view-updated-course/clear-choice-admin/components/Dashboard/components/Modals/AssignWorksheetModal/index.js"],"names":["React","PropTypes","update","moment","Portal","FilterSection","WorksheetCard","difficultySort","problemSort","timeEstimateSort","subjectSort","sampleWorksheets","worksheetTypeMap","worksheetSourceMap","worksheetDifficultyMap","worksheetSubjectMap","AssignWorksheetModal","props","setState","assignSelectedDropdownOpen","dropdownIndex","dropdownIsOpen","sourceFilters","difficultyFilters","subjectFilters","typeFilters","sort","titleFilter","value","onClose","onResetModal","worksheets","state","reduce","finalArr","currentWorksheet","title","worksheetString","replace","toLowerCase","indexOf","push","unitFilter","unit","allWorksheets","length","filter","worksheet","subject","type","source","difficulty","mappableWorksheets","onFilterByTitle","onFilterByUnit","onFilterWorksheets","onSortWorksheets","filterType","currentSourceFilters","currentDifficultyFilters","currentSubjectFilters","currentTypeFilters","modifiedFilterCurrentState","modifiedFilterName","modifiedFilterUpdatedState","$push","filterIndex","$splice","selectedWorksheets","modifiedWorksheets","worksheetIndex","date","onAssignWorksheets","assignDate","format","add","onToggleAssignSelectedDropdown","getMappableWorksheets","map","index","id","onSetDropdown","onCloseDropdown","handleWorksheetClick","open","minWidth","onCloseModal","onSetSort","handleFilterClick","onSetFilteredState","onUnsetFilteredState","mapWorksheets","display","opacity","assignWorksheets","Component","propTypes","bool","isRequired","func"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport update from 'immutability-helper';\nimport moment from 'moment';\n\nimport Portal from '../../../../Portal';\n\nimport FilterSection from './components/FilterSection';\nimport WorksheetCard from './components/WorksheetCard';\nimport { difficultySort, problemSort, timeEstimateSort, subjectSort } from '../../../utils/sortOptions';\nimport sampleWorksheets from '../../../utils/sampleWorksheets';\nimport { worksheetTypeMap, worksheetSourceMap, worksheetDifficultyMap, worksheetSubjectMap } from '../../../utils/worksheetModalMaps';\n\nclass AssignWorksheetModal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sort: '',\n      unitFilter: '',\n      titleFilter: '',\n      typeFilters: [],\n      sourceFilters: [],\n      subjectFilters: [],\n      selectedWorksheets: [],\n      difficultyFilters: [],\n      worksheets: sampleWorksheets,\n      dropdownIndex: null,\n      dropdownIsOpen: false,\n      assignSelectedDropdownOpen: false,\n    };\n  }\n\n  onToggleAssignSelectedDropdown = () => this.setState(({ assignSelectedDropdownOpen }) => ({ assignSelectedDropdownOpen: !assignSelectedDropdownOpen }))\n\n  onSetDropdown = (dropdownIndex) => this.setState({ dropdownIndex, dropdownIsOpen: true });\n  onCloseDropdown = () => this.setState({ dropdownIsOpen: false });\n\n  onResetModal = () => this.setState({ sourceFilters: [], difficultyFilters: [], subjectFilters: [], typeFilters: [], sort: '' })\n  onSetSort = (sort) => this.setState({ sort })\n\n  onSetFilteredState = (titleFilter, value) => this.setState({ [titleFilter]: value })\n  onUnsetFilteredState = (titleFilter) => this.setState({ [titleFilter]: '' })\n\n  onCloseModal = () => {\n    const { onClose } = this.props;\n    onClose();\n    this.onResetModal();\n  }\n\n  // eslint-disable-next-line consistent-return\n  onSortWorksheets = (worksheets) => {\n    const { sort } = this.state;\n    switch (sort) {\n      case 'difficulty':\n        return worksheets.sort(difficultySort);\n      case 'problems':\n        return worksheets.sort(problemSort);\n      case 'timeEstimate':\n        return worksheets.sort(timeEstimateSort);\n      case 'subject':\n        return worksheets.sort(subjectSort);\n      default:\n        break;\n    }\n  }\n\n  onFilterByTitle = () => {\n    const { worksheets, titleFilter } = this.state;\n    return worksheets.reduce((finalArr, currentWorksheet) => {\n      const { title } = currentWorksheet;\n      const worksheetString = title.replace(/\\s/g, \"\").toLowerCase();\n      if (worksheetString.indexOf(titleFilter) !== -1 && finalArr.indexOf(currentWorksheet) === -1) {\n        finalArr.push(currentWorksheet);\n      }\n      return finalArr;\n    }, []);\n  }\n\n  onFilterByUnit = () => {\n    const { worksheets, unitFilter } = this.state;\n    return worksheets.reduce((finalArr, currentWorksheet) => {\n      const { unit } = currentWorksheet;\n      const worksheetString = unit.replace(/\\s/g, \"\").toLowerCase();\n      if (worksheetString.indexOf(unitFilter) !== -1 && finalArr.indexOf(currentWorksheet) === -1) {\n        finalArr.push(currentWorksheet);\n      }\n      return finalArr;\n    }, []);\n  }\n\n  onFilterWorksheets = () => {\n    const { subjectFilters, typeFilters, sourceFilters, difficultyFilters, worksheets: allWorksheets } = this.state;\n    let worksheets = allWorksheets;\n    if (subjectFilters.length) {\n      worksheets = worksheets.filter(worksheet => subjectFilters.indexOf(worksheetSubjectMap[worksheet.subject]) !== -1);\n    }\n    if (typeFilters.length) {\n      worksheets = worksheets.filter(worksheet => typeFilters.indexOf(worksheetTypeMap[worksheet.type]) !== -1);\n    }\n    if (sourceFilters.length) {\n      worksheets = worksheets.filter(worksheet => sourceFilters.indexOf(worksheetSourceMap[worksheet.source]) !== -1);\n    }\n    if (difficultyFilters.length) {\n      worksheets = worksheets.filter(worksheet => difficultyFilters.indexOf(worksheetDifficultyMap[worksheet.difficulty]) !== -1);\n    }\n    return worksheets;\n  }\n\n  getMappableWorksheets = () => {\n    const { subjectFilters, typeFilters, difficultyFilters, sourceFilters, sort, unitFilter, titleFilter, worksheets } = this.state;\n    let mappableWorksheets = worksheets;\n    if (titleFilter.length) {\n      mappableWorksheets = this.onFilterByTitle();\n    }\n    if (unitFilter.length) {\n      mappableWorksheets = this.onFilterByUnit();\n    }\n    if (subjectFilters.length || typeFilters.length || difficultyFilters.length || sourceFilters.length) {\n      mappableWorksheets = this.onFilterWorksheets();\n    }\n    if (sort) {\n      return this.onSortWorksheets(mappableWorksheets);\n    }\n    return mappableWorksheets;\n  }\n\n  handleFilterClick = (filterType, filter) => {\n    const { sourceFilters: currentSourceFilters, difficultyFilters: currentDifficultyFilters,\n      subjectFilters: currentSubjectFilters, typeFilters: currentTypeFilters } = this.state;\n    let modifiedFilterCurrentState;\n    let modifiedFilterName;\n    let modifiedFilterUpdatedState;\n    switch (filterType) {\n      case 'subject':\n        modifiedFilterCurrentState = currentSubjectFilters;\n        modifiedFilterName = 'subjectFilters';\n        break;\n      case 'type':\n        modifiedFilterCurrentState = currentTypeFilters;\n        modifiedFilterName = 'typeFilters';\n        break;\n      case 'source':\n        modifiedFilterCurrentState = currentSourceFilters;\n        modifiedFilterName = 'sourceFilters';\n        break;\n      case 'difficulty':\n        modifiedFilterCurrentState = currentDifficultyFilters;\n        modifiedFilterName = 'difficultyFilters';\n        break;\n      default:\n        break;\n    }\n    if (modifiedFilterCurrentState.indexOf(filter) === -1) {\n      modifiedFilterUpdatedState = update(modifiedFilterCurrentState, {\n        $push: [filter],\n      });\n    } else {\n      const filterIndex = modifiedFilterCurrentState.indexOf(filter);\n      modifiedFilterUpdatedState = update(modifiedFilterCurrentState, {\n        $splice: [[ filterIndex, 1 ]],\n      });\n    }\n    this.setState({ [modifiedFilterName]: modifiedFilterUpdatedState });\n  }\n\n  handleWorksheetClick = (worksheet) => {\n    const { selectedWorksheets } = this.state;\n    let modifiedWorksheets;\n    if (selectedWorksheets.indexOf(worksheet) === -1) {\n      modifiedWorksheets = update(selectedWorksheets, {\n        $push: [worksheet],\n      });\n    } else {\n      const worksheetIndex = selectedWorksheets.indexOf(worksheet);\n      modifiedWorksheets = update(selectedWorksheets, {\n        $splice: [[ worksheetIndex, 1 ]],\n      });\n    }\n    this.setState({ selectedWorksheets: modifiedWorksheets });\n  }\n\n  assignWorksheets = (date) => {\n    const { onAssignWorksheets } = this.props;\n    const { selectedWorksheets } = this.state;\n    let assignDate;\n    switch (date) {\n      case 'today':\n        assignDate = moment().format('MM/DD/YY');\n        break;\n      case 'tomorrow':\n        assignDate = moment().add(1, 'days').format('MM/DD/YY');\n        break;\n      case 'nextSession':\n        break;\n      case 'customDate':\n        assignDate = '01/05/19';\n        break;\n      default:\n        break;\n    }\n    this.onToggleAssignSelectedDropdown();\n    onAssignWorksheets(selectedWorksheets, assignDate);\n  }\n\n  mapWorksheets = () => this.getMappableWorksheets().map((worksheet, index) => (\n    <WorksheetCard\n      worksheet={worksheet}\n      index={index}\n      key={worksheet.id}\n      onSetDropdown={this.onSetDropdown}\n      onCloseDropdown={this.onCloseDropdown}\n      dropdownIndex={this.state.dropdownIndex}\n      dropdownIsOpen={this.state.dropdownIsOpen}\n      handleWorksheetClick={this.handleWorksheetClick}\n      selectedWorksheets={this.state.selectedWorksheets}\n    />\n  ))\n\n  render() {\n    const { open } = this.props;\n    const { assignSelectedDropdownOpen, typeFilters, sourceFilters, subjectFilters, difficultyFilters, sort } = this.state;\n    return (\n      <div>\n        {open && (\n          <div className=\"wrapper\">\n              <div className=\"card-modal card-main card switcher-section grey lighten-3\" style = {{minWidth:\"100%\"}}>\n                <div className=\"header-row card-panel light-blue lighten-1 white-text\">\n                  <div className=\"card-panel-row row\">\n                    <div className=\"col s11\">\n                      <div className=\"d-flex\">\n                        <div className=\"icon-col\">\n                          <i className=\"icon-sheets-w\"></i>\n                        </div>\n                        <div className=\"card-panel-text\">\n                          <div className=\"text-large\">Assign Worksheets</div>\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"col s1 right-align\">\n                      <div className=\"row icons-row\"><a href=\"#\" onClick={this.onCloseModal} className=\"modal-close close\"><i className=\"icon-close-thin\"></i></a></div>\n                    </div>\n                  </div>\n                </div>\n                <FilterSection\n                  sort={sort}\n                  typeFilters={typeFilters}\n                  sourceFilters={sourceFilters}\n                  subjectFilters={subjectFilters}\n                  difficultyFilters={difficultyFilters}\n                  onSetSort={this.onSetSort}\n                  onClearFilters={this.onResetModal}\n                  handleFilterClick={this.handleFilterClick}\n                  onSetFilteredState={this.onSetFilteredState}\n                  onUnsetFilteredState={this.onUnsetFilteredState}\n                />\n                <div className=\"card-content\">\n                  <div className=\"card-body\">\n                    <div className=\"result-row center-align\">\n                      <b className=\"result\"> - {this.getMappableWorksheets().length} results -</b>\n                    </div>\n                    <div className=\"checkboxes-section row d-flex-content card-width-322\">\n                      {this.mapWorksheets()}\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"add-btn-block\">\n                <a\n                  href=\"#\"\n                  data-target='dropdown_assign_selected'\n                  onClick={this.onToggleAssignSelectedDropdown}\n                  className=\"dropdown-trigger waves-effect waves-teal btn add-btn\"\n                >\n                  <i className=\"material-icons\">add</i> Assign Selected\n                </a>\n                <ul\n                  className='dropdown-content'\n                  id='dropdown_assign_selected'\n                  style={{ display: assignSelectedDropdownOpen ? 'block' : '0', opacity: assignSelectedDropdownOpen ? '1' : '0' }}\n                >\n                  <li><a href=\"#\" onClick={() => this.assignWorksheets('today')}>For Today</a></li>\n                  <li><a href=\"#\" onClick={() => this.assignWorksheets('tomorrow')}>For Tomorrow</a></li>\n                  <li><a href=\"#\" onClick={() => this.assignWorksheets('nextSession')}>For Next Session</a></li>\n                  <li><a href=\"#\" onClick={() => this.assignWorksheets('customDate')}>For Date...</a></li>\n                </ul>\n              </div>\n          </div>\n        )}\n        <style jsx>\n          {`\n            .card-modal {\n              margin: 0;\n              border-radius: 6px;\n            }\n            .wrapper {\n              min-height: 0px;\n            }\n            .modal-custom {\n              opacity: 1;\n              visibility: visible;\n            }\n            .modal-footer {\n              background-color: white;\n            }\n          `}\n        </style>\n      </div>\n    );\n  }\n}\n\nAssignWorksheetModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onAssignWorksheets: PropTypes.func.isRequired,\n};\n\nexport default AssignWorksheetModal;\n"]},"metadata":{},"sourceType":"module"}