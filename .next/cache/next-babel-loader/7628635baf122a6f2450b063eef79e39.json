{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport update from 'immutability-helper';\nimport moment from 'moment';\nimport FilterSection from './components/FilterSection';\nimport LessonCard from './components/LessonCard';\nimport sampleLessons from '../../../utils/sampleLessons';\nimport { pageNumberSort, problemSort, timeEstimateSort, subjectSort } from '../../../utils/sortOptions';\nconst lessonTypeMap = {\n  'Challenge + Practice': 'challenge',\n  'Homework Drill': 'homework',\n  'Reading from Workbook': 'readingFromWorkbook'\n};\n\nclass AssignLessonModal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onToggleAssignSelectedDropdown\", () => this.setState(({\n      assignSelectedDropdownOpen\n    }) => ({\n      assignSelectedDropdownOpen: !assignSelectedDropdownOpen\n    })));\n\n    _defineProperty(this, \"onSetDropdown\", dropdownIndex => this.setState({\n      dropdownIndex,\n      dropdownIsOpen: true\n    }));\n\n    _defineProperty(this, \"onCloseDropdown\", () => this.setState({\n      dropdownIsOpen: false\n    }));\n\n    _defineProperty(this, \"onResetModal\", () => this.setState({\n      subjectFilters: [],\n      typeFilters: [],\n      sort: ''\n    }));\n\n    _defineProperty(this, \"onSetSort\", sort => this.setState({\n      sort\n    }));\n\n    _defineProperty(this, \"onSetFilteredState\", (titleFilter, value) => this.setState({\n      [titleFilter]: value\n    }));\n\n    _defineProperty(this, \"onUnsetFilteredState\", titleFilter => this.setState({\n      [titleFilter]: ''\n    }));\n\n    _defineProperty(this, \"onCloseModal\", () => {\n      const {\n        onClose\n      } = this.props;\n      onClose();\n      this.onResetModal();\n    });\n\n    _defineProperty(this, \"onSortLessons\", lessons => {\n      const {\n        sort\n      } = this.state;\n\n      switch (sort) {\n        case 'pageNumber':\n          return lessons.sort(pageNumberSort);\n\n        case 'problems':\n          return lessons.sort(problemSort);\n\n        case 'timeEstimate':\n          return lessons.sort(timeEstimateSort);\n\n        case 'subject':\n          return lessons.sort(subjectSort);\n\n        default:\n          break;\n      }\n    });\n\n    _defineProperty(this, \"onFilterByTitle\", () => {\n      const {\n        lessons,\n        titleFilter\n      } = this.state;\n      return lessons.reduce((finalArr, currentLesson) => {\n        const {\n          title\n        } = currentLesson;\n        const lessonString = title.replace(/\\s/g, \"\").toLowerCase();\n\n        if (lessonString.indexOf(titleFilter) !== -1 && finalArr.indexOf(currentLesson) === -1) {\n          finalArr.push(currentLesson);\n        }\n\n        return finalArr;\n      }, []);\n    });\n\n    _defineProperty(this, \"onFilterByUnit\", () => {\n      const {\n        lessons,\n        unitFilter\n      } = this.state;\n      return lessons.reduce((finalArr, currentLesson) => {\n        const {\n          unit\n        } = currentLesson;\n        const lessonString = unit.replace(/\\s/g, \"\").toLowerCase();\n\n        if (lessonString.indexOf(unitFilter) !== -1 && finalArr.indexOf(currentLesson) === -1) {\n          finalArr.push(currentLesson);\n        }\n\n        return finalArr;\n      }, []);\n    });\n\n    _defineProperty(this, \"onFilterLessons\", () => {\n      const {\n        subjectFilters,\n        typeFilters,\n        lessons: allLessons\n      } = this.state;\n      let lessons = allLessons;\n\n      if (subjectFilters.length) {\n        lessons = lessons.filter(lesson => subjectFilters.indexOf(lesson.subject) !== -1);\n      }\n\n      if (typeFilters.length) {\n        lessons = lessons.filter(lesson => typeFilters.indexOf(lessonTypeMap[lesson.type]) !== -1);\n      }\n\n      return lessons;\n    });\n\n    _defineProperty(this, \"getMappableLessons\", () => {\n      const {\n        subjectFilters,\n        typeFilters,\n        sort,\n        unitFilter,\n        titleFilter,\n        lessons\n      } = this.state;\n      let mappableLessons = lessons;\n\n      if (titleFilter.length) {\n        mappableLessons = this.onFilterByTitle();\n      }\n\n      if (unitFilter.length) {\n        mappableLessons = this.onFilterByUnit();\n      }\n\n      if (subjectFilters.length || typeFilters.length) {\n        mappableLessons = this.onFilterLessons();\n      }\n\n      if (sort) {\n        return this.onSortLessons(mappableLessons);\n      }\n\n      return mappableLessons;\n    });\n\n    _defineProperty(this, \"handleFilterClick\", (filterType, filter) => {\n      const {\n        subjectFilters: currentSubjectFilters,\n        typeFilters: currentTypeFilters\n      } = this.state;\n      let modifiedFilterCurrentState;\n      let modifiedFilterName;\n      let modifiedFilterUpdatedState;\n\n      switch (filterType) {\n        case 'subject':\n          modifiedFilterCurrentState = currentSubjectFilters;\n          modifiedFilterName = 'subjectFilters';\n          break;\n\n        case 'type':\n          modifiedFilterCurrentState = currentTypeFilters;\n          modifiedFilterName = 'typeFilters';\n          break;\n\n        default:\n          break;\n      }\n\n      if (modifiedFilterCurrentState.indexOf(filter) === -1) {\n        modifiedFilterUpdatedState = update(modifiedFilterCurrentState, {\n          $push: [filter]\n        });\n      } else {\n        const filterIndex = modifiedFilterCurrentState.indexOf(filter);\n        modifiedFilterUpdatedState = update(modifiedFilterCurrentState, {\n          $splice: [[filterIndex, 1]]\n        });\n      }\n\n      this.setState({\n        [modifiedFilterName]: modifiedFilterUpdatedState\n      });\n    });\n\n    _defineProperty(this, \"handleLessonClick\", lesson => {\n      const {\n        selectedLessons\n      } = this.state;\n      let modifiedLessons;\n\n      if (selectedLessons.indexOf(lesson) === -1) {\n        modifiedLessons = update(selectedLessons, {\n          $push: [lesson]\n        });\n      } else {\n        const lessonIndex = selectedLessons.indexOf(lesson);\n        modifiedLessons = update(selectedLessons, {\n          $splice: [[lessonIndex, 1]]\n        });\n      }\n\n      this.setState({\n        selectedLessons: modifiedLessons\n      });\n    });\n\n    _defineProperty(this, \"assignLessons\", date => {\n      const {\n        onAssignLessons\n      } = this.props;\n      const {\n        selectedLessons\n      } = this.state;\n      let assignDate;\n\n      switch (date) {\n        case 'today':\n          assignDate = moment().format('MM/DD/YY');\n          break;\n\n        case 'tomorrow':\n          assignDate = moment().add(1, 'days').format('MM/DD/YY');\n          break;\n\n        case 'nextSession':\n          break;\n\n        case 'customDate':\n          assignDate = '01/05/19';\n          break;\n\n        default:\n          break;\n      }\n\n      this.onToggleAssignSelectedDropdown();\n      this.onResetModal();\n      onAssignLessons(selectedLessons, assignDate);\n    });\n\n    _defineProperty(this, \"mapLessons\", () => this.getMappableLessons().map((lesson, index) => __jsx(LessonCard, {\n      lesson: lesson,\n      index: index,\n      key: lesson.id,\n      onSetDropdown: this.onSetDropdown,\n      onCloseDropdown: this.onCloseDropdown,\n      dropdownIndex: this.state.dropdownIndex,\n      dropdownIsOpen: this.state.dropdownIsOpen,\n      handleLessonClick: this.handleLessonClick,\n      selectedLessons: this.state.selectedLessons\n    })));\n\n    this.state = {\n      sort: '',\n      unitFilter: '',\n      titleFilter: '',\n      typeFilters: [],\n      subjectFilters: [],\n      selectedLessons: [],\n      lessons: sampleLessons,\n      dropdownIndex: null,\n      dropdownIsOpen: false,\n      assignSelectedDropdownOpen: false\n    };\n  }\n\n  render() {\n    const {\n      open\n    } = this.props;\n    const {\n      assignSelectedDropdownOpen,\n      subjectFilters,\n      typeFilters,\n      sort\n    } = this.state;\n    return __jsx(\"div\", {\n      className: \"jsx-4152893512\"\n    }, open && __jsx(\"div\", {\n      className: \"jsx-4152893512\" + \" \" + \"wrapper\"\n    }, __jsx(\"div\", {\n      style: {\n        minWidth: \"100%\"\n      },\n      className: \"jsx-4152893512\" + \" \" + \"card-modal card-main card switcher-section grey lighten-3\"\n    }, __jsx(\"div\", {\n      className: \"jsx-4152893512\" + \" \" + \"header-row card-panel light-blue lighten-1 white-text\"\n    }, __jsx(\"div\", {\n      className: \"jsx-4152893512\" + \" \" + \"card-panel-row row\"\n    }, __jsx(\"div\", {\n      className: \"jsx-4152893512\" + \" \" + \"col s11\"\n    }, __jsx(\"div\", {\n      className: \"jsx-4152893512\" + \" \" + \"d-flex\"\n    }, __jsx(\"div\", {\n      className: \"jsx-4152893512\" + \" \" + \"icon-col\"\n    }, __jsx(\"i\", {\n      className: \"jsx-4152893512\" + \" \" + \"icon-books-l\"\n    })), __jsx(\"div\", {\n      className: \"jsx-4152893512\" + \" \" + \"card-panel-text\"\n    }, __jsx(\"div\", {\n      className: \"jsx-4152893512\" + \" \" + \"text-large\"\n    }, \"Assign Lessons\")))), __jsx(\"div\", {\n      className: \"jsx-4152893512\" + \" \" + \"col s1 right-align\"\n    }, __jsx(\"div\", {\n      className: \"jsx-4152893512\" + \" \" + \"row icons-row\"\n    }, __jsx(\"a\", {\n      href: \"#\",\n      onClick: this.onCloseModal,\n      className: \"jsx-4152893512\" + \" \" + \"modal-close close\"\n    }, __jsx(\"i\", {\n      className: \"jsx-4152893512\" + \" \" + \"icon-close-thin\"\n    })))))), __jsx(FilterSection, {\n      sort: sort,\n      typeFilters: typeFilters,\n      subjectFilters: subjectFilters,\n      onSetSort: this.onSetSort,\n      onClearFilters: this.onResetModal,\n      handleFilterClick: this.handleFilterClick,\n      onSetFilteredState: this.onSetFilteredState,\n      onUnsetFilteredState: this.onUnsetFilteredState\n    }), __jsx(\"div\", {\n      className: \"jsx-4152893512\" + \" \" + \"card-content\"\n    }, __jsx(\"div\", {\n      className: \"jsx-4152893512\" + \" \" + \"card-body\"\n    }, __jsx(\"div\", {\n      className: \"jsx-4152893512\" + \" \" + \"result-row center-align\"\n    }, __jsx(\"b\", {\n      className: \"jsx-4152893512\" + \" \" + \"result\"\n    }, \" - \", this.getMappableLessons().length, \" results -\")), __jsx(\"div\", {\n      className: \"jsx-4152893512\" + \" \" + \"checkboxes-section row d-flex-content card-width-322\"\n    }, this.mapLessons())))), __jsx(\"div\", {\n      className: \"jsx-4152893512\" + \" \" + \"add-btn-block\"\n    }, __jsx(\"a\", {\n      href: \"#\",\n      onClick: this.onToggleAssignSelectedDropdown,\n      \"data-target\": \"dropdown_assign_selected_lessons\",\n      className: \"jsx-4152893512\" + \" \" + \"dropdown-trigger waves-effect waves-teal btn add-btn\"\n    }, __jsx(\"i\", {\n      className: \"jsx-4152893512\" + \" \" + \"material-icons\"\n    }, \"add\"), \" Assign Selected\"), __jsx(\"ul\", {\n      id: \"dropdown_assign_selected_lessons\",\n      style: {\n        display: assignSelectedDropdownOpen ? 'block' : '0',\n        opacity: assignSelectedDropdownOpen ? '1' : '0'\n      },\n      className: \"jsx-4152893512\" + \" \" + 'dropdown-content'\n    }, __jsx(\"li\", {\n      className: \"jsx-4152893512\"\n    }, __jsx(\"a\", {\n      href: \"#\",\n      onClick: () => this.assignLessons('today'),\n      className: \"jsx-4152893512\"\n    }, \"For Today\")), __jsx(\"li\", {\n      className: \"jsx-4152893512\"\n    }, __jsx(\"a\", {\n      href: \"#\",\n      onClick: () => this.assignLessons('tomorrow'),\n      className: \"jsx-4152893512\"\n    }, \"For Tomorrow\")), __jsx(\"li\", {\n      className: \"jsx-4152893512\"\n    }, __jsx(\"a\", {\n      href: \"#\",\n      onClick: () => this.assignLessons('nextSession'),\n      className: \"jsx-4152893512\"\n    }, \"For Next Session\")), __jsx(\"li\", {\n      className: \"jsx-4152893512\"\n    }, __jsx(\"a\", {\n      href: \"#\",\n      onClick: () => this.assignLessons('customDate'),\n      className: \"jsx-4152893512\"\n    }, \"For Date...\"))))), __jsx(_JSXStyle, {\n      id: \"4152893512\"\n    }, \".card-modal.jsx-4152893512{margin:0;border-radius:6px;}.modal-custom.jsx-4152893512{opacity:1;visibility:visible;}.modal-footer.jsx-4152893512{background-color:white;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Wb2x1bWVzL0hERC9TaXRlcy9jbGVhcmNob2ljZXRlc3RwcmVwL2NsZWFyLWNob2ljZS1hZG1pbi9jb21wb25lbnRzL0Rhc2hib2FyZC9jb21wb25lbnRzL01vZGFscy9Bc3NpZ25MZXNzb25Nb2RhbC9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFrUlcsQUFHd0IsQUFJQyxBQUlhLFNBUEwsQ0FJQyxhQUlyQixJQVBBLEVBSUEiLCJmaWxlIjoiL1ZvbHVtZXMvSEREL1NpdGVzL2NsZWFyY2hvaWNldGVzdHByZXAvY2xlYXItY2hvaWNlLWFkbWluL2NvbXBvbmVudHMvRGFzaGJvYXJkL2NvbXBvbmVudHMvTW9kYWxzL0Fzc2lnbkxlc3Nvbk1vZGFsL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgdXBkYXRlIGZyb20gJ2ltbXV0YWJpbGl0eS1oZWxwZXInO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQnO1xuXG5pbXBvcnQgRmlsdGVyU2VjdGlvbiBmcm9tICcuL2NvbXBvbmVudHMvRmlsdGVyU2VjdGlvbic7XG5pbXBvcnQgTGVzc29uQ2FyZCBmcm9tICcuL2NvbXBvbmVudHMvTGVzc29uQ2FyZCc7XG5pbXBvcnQgc2FtcGxlTGVzc29ucyBmcm9tICcuLi8uLi8uLi91dGlscy9zYW1wbGVMZXNzb25zJztcbmltcG9ydCB7IHBhZ2VOdW1iZXJTb3J0LCBwcm9ibGVtU29ydCwgdGltZUVzdGltYXRlU29ydCwgc3ViamVjdFNvcnQgfSBmcm9tICcuLi8uLi8uLi91dGlscy9zb3J0T3B0aW9ucyc7XG5cbmNvbnN0IGxlc3NvblR5cGVNYXAgPSB7XG4gICdDaGFsbGVuZ2UgKyBQcmFjdGljZSc6ICdjaGFsbGVuZ2UnLFxuICAnSG9tZXdvcmsgRHJpbGwnOiAnaG9tZXdvcmsnLFxuICAnUmVhZGluZyBmcm9tIFdvcmtib29rJzogJ3JlYWRpbmdGcm9tV29ya2Jvb2snLFxufTtcblxuY2xhc3MgQXNzaWduTGVzc29uTW9kYWwgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgc29ydDogJycsXG4gICAgICB1bml0RmlsdGVyOiAnJyxcbiAgICAgIHRpdGxlRmlsdGVyOiAnJyxcbiAgICAgIHR5cGVGaWx0ZXJzOiBbXSxcbiAgICAgIHN1YmplY3RGaWx0ZXJzOiBbXSxcbiAgICAgIHNlbGVjdGVkTGVzc29uczogW10sXG4gICAgICBsZXNzb25zOiBzYW1wbGVMZXNzb25zLFxuICAgICAgZHJvcGRvd25JbmRleDogbnVsbCxcbiAgICAgIGRyb3Bkb3duSXNPcGVuOiBmYWxzZSxcbiAgICAgIGFzc2lnblNlbGVjdGVkRHJvcGRvd25PcGVuOiBmYWxzZSxcbiAgICB9O1xuICB9XG5cbiAgb25Ub2dnbGVBc3NpZ25TZWxlY3RlZERyb3Bkb3duID0gKCkgPT4gdGhpcy5zZXRTdGF0ZSgoeyBhc3NpZ25TZWxlY3RlZERyb3Bkb3duT3BlbiB9KSA9PiAoeyBhc3NpZ25TZWxlY3RlZERyb3Bkb3duT3BlbjogIWFzc2lnblNlbGVjdGVkRHJvcGRvd25PcGVuIH0pKVxuXG4gIG9uU2V0RHJvcGRvd24gPSAoZHJvcGRvd25JbmRleCkgPT4gdGhpcy5zZXRTdGF0ZSh7IGRyb3Bkb3duSW5kZXgsIGRyb3Bkb3duSXNPcGVuOiB0cnVlIH0pO1xuICBvbkNsb3NlRHJvcGRvd24gPSAoKSA9PiB0aGlzLnNldFN0YXRlKHsgZHJvcGRvd25Jc09wZW46IGZhbHNlIH0pO1xuXG4gIG9uUmVzZXRNb2RhbCA9ICgpID0+IHRoaXMuc2V0U3RhdGUoeyBzdWJqZWN0RmlsdGVyczogW10sIHR5cGVGaWx0ZXJzOiBbXSwgc29ydDogJycgfSlcbiAgb25TZXRTb3J0ID0gKHNvcnQpID0+IHRoaXMuc2V0U3RhdGUoeyBzb3J0IH0pXG5cbiAgb25TZXRGaWx0ZXJlZFN0YXRlID0gKHRpdGxlRmlsdGVyLCB2YWx1ZSkgPT4gdGhpcy5zZXRTdGF0ZSh7IFt0aXRsZUZpbHRlcl06IHZhbHVlIH0pXG4gIG9uVW5zZXRGaWx0ZXJlZFN0YXRlID0gKHRpdGxlRmlsdGVyKSA9PiB0aGlzLnNldFN0YXRlKHsgW3RpdGxlRmlsdGVyXTogJycgfSlcblxuICBvbkNsb3NlTW9kYWwgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBvbkNsb3NlIH0gPSB0aGlzLnByb3BzO1xuICAgIG9uQ2xvc2UoKTtcbiAgICB0aGlzLm9uUmVzZXRNb2RhbCgpO1xuICB9XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIG9uU29ydExlc3NvbnMgPSAobGVzc29ucykgPT4ge1xuICAgIGNvbnN0IHsgc29ydCB9ID0gdGhpcy5zdGF0ZTtcbiAgICBzd2l0Y2ggKHNvcnQpIHtcbiAgICAgIGNhc2UgJ3BhZ2VOdW1iZXInOlxuICAgICAgICByZXR1cm4gbGVzc29ucy5zb3J0KHBhZ2VOdW1iZXJTb3J0KTtcbiAgICAgIGNhc2UgJ3Byb2JsZW1zJzpcbiAgICAgICAgcmV0dXJuIGxlc3NvbnMuc29ydChwcm9ibGVtU29ydCk7XG4gICAgICBjYXNlICd0aW1lRXN0aW1hdGUnOlxuICAgICAgICByZXR1cm4gbGVzc29ucy5zb3J0KHRpbWVFc3RpbWF0ZVNvcnQpO1xuICAgICAgY2FzZSAnc3ViamVjdCc6XG4gICAgICAgIHJldHVybiBsZXNzb25zLnNvcnQoc3ViamVjdFNvcnQpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgb25GaWx0ZXJCeVRpdGxlID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgbGVzc29ucywgdGl0bGVGaWx0ZXIgfSA9IHRoaXMuc3RhdGU7XG4gICAgcmV0dXJuIGxlc3NvbnMucmVkdWNlKChmaW5hbEFyciwgY3VycmVudExlc3NvbikgPT4ge1xuICAgICAgY29uc3QgeyB0aXRsZSB9ID0gY3VycmVudExlc3NvbjtcbiAgICAgIGNvbnN0IGxlc3NvblN0cmluZyA9IHRpdGxlLnJlcGxhY2UoL1xccy9nLCBcIlwiKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKGxlc3NvblN0cmluZy5pbmRleE9mKHRpdGxlRmlsdGVyKSAhPT0gLTEgJiYgZmluYWxBcnIuaW5kZXhPZihjdXJyZW50TGVzc29uKSA9PT0gLTEpIHtcbiAgICAgICAgZmluYWxBcnIucHVzaChjdXJyZW50TGVzc29uKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmaW5hbEFycjtcbiAgICB9LCBbXSk7XG4gIH1cblxuICBvbkZpbHRlckJ5VW5pdCA9ICgpID0+IHtcbiAgICBjb25zdCB7IGxlc3NvbnMsIHVuaXRGaWx0ZXIgfSA9IHRoaXMuc3RhdGU7XG4gICAgcmV0dXJuIGxlc3NvbnMucmVkdWNlKChmaW5hbEFyciwgY3VycmVudExlc3NvbikgPT4ge1xuICAgICAgY29uc3QgeyB1bml0IH0gPSBjdXJyZW50TGVzc29uO1xuICAgICAgY29uc3QgbGVzc29uU3RyaW5nID0gdW5pdC5yZXBsYWNlKC9cXHMvZywgXCJcIikudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmIChsZXNzb25TdHJpbmcuaW5kZXhPZih1bml0RmlsdGVyKSAhPT0gLTEgJiYgZmluYWxBcnIuaW5kZXhPZihjdXJyZW50TGVzc29uKSA9PT0gLTEpIHtcbiAgICAgICAgZmluYWxBcnIucHVzaChjdXJyZW50TGVzc29uKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmaW5hbEFycjtcbiAgICB9LCBbXSk7XG4gIH1cblxuICBvbkZpbHRlckxlc3NvbnMgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBzdWJqZWN0RmlsdGVycywgdHlwZUZpbHRlcnMsIGxlc3NvbnM6IGFsbExlc3NvbnMgfSA9IHRoaXMuc3RhdGU7XG4gICAgbGV0IGxlc3NvbnMgPSBhbGxMZXNzb25zO1xuICAgIGlmIChzdWJqZWN0RmlsdGVycy5sZW5ndGgpIHtcbiAgICAgIGxlc3NvbnMgPSBsZXNzb25zLmZpbHRlcihsZXNzb24gPT4gc3ViamVjdEZpbHRlcnMuaW5kZXhPZihsZXNzb24uc3ViamVjdCkgIT09IC0xKTtcbiAgICB9XG4gICAgaWYgKHR5cGVGaWx0ZXJzLmxlbmd0aCkge1xuICAgICAgbGVzc29ucyA9IGxlc3NvbnMuZmlsdGVyKGxlc3NvbiA9PiB0eXBlRmlsdGVycy5pbmRleE9mKGxlc3NvblR5cGVNYXBbbGVzc29uLnR5cGVdKSAhPT0gLTEpO1xuICAgIH1cbiAgICByZXR1cm4gbGVzc29ucztcbiAgfVxuXG4gIGdldE1hcHBhYmxlTGVzc29ucyA9ICgpID0+IHtcbiAgICBjb25zdCB7IHN1YmplY3RGaWx0ZXJzLCB0eXBlRmlsdGVycywgc29ydCwgdW5pdEZpbHRlciwgdGl0bGVGaWx0ZXIsIGxlc3NvbnMgfSA9IHRoaXMuc3RhdGU7XG4gICAgbGV0IG1hcHBhYmxlTGVzc29ucyA9IGxlc3NvbnM7XG4gICAgaWYgKHRpdGxlRmlsdGVyLmxlbmd0aCkge1xuICAgICAgbWFwcGFibGVMZXNzb25zID0gdGhpcy5vbkZpbHRlckJ5VGl0bGUoKTtcbiAgICB9XG4gICAgaWYgKHVuaXRGaWx0ZXIubGVuZ3RoKSB7XG4gICAgICBtYXBwYWJsZUxlc3NvbnMgPSB0aGlzLm9uRmlsdGVyQnlVbml0KCk7XG4gICAgfVxuICAgIGlmIChzdWJqZWN0RmlsdGVycy5sZW5ndGggfHwgdHlwZUZpbHRlcnMubGVuZ3RoKSB7XG4gICAgICBtYXBwYWJsZUxlc3NvbnMgPSB0aGlzLm9uRmlsdGVyTGVzc29ucygpO1xuICAgIH1cbiAgICBpZiAoc29ydCkge1xuICAgICAgcmV0dXJuIHRoaXMub25Tb3J0TGVzc29ucyhtYXBwYWJsZUxlc3NvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gbWFwcGFibGVMZXNzb25zO1xuICB9XG5cbiAgaGFuZGxlRmlsdGVyQ2xpY2sgPSAoZmlsdGVyVHlwZSwgZmlsdGVyKSA9PiB7XG4gICAgY29uc3QgeyBzdWJqZWN0RmlsdGVyczogY3VycmVudFN1YmplY3RGaWx0ZXJzLCB0eXBlRmlsdGVyczogY3VycmVudFR5cGVGaWx0ZXJzIH0gPSB0aGlzLnN0YXRlO1xuICAgIGxldCBtb2RpZmllZEZpbHRlckN1cnJlbnRTdGF0ZTtcbiAgICBsZXQgbW9kaWZpZWRGaWx0ZXJOYW1lO1xuICAgIGxldCBtb2RpZmllZEZpbHRlclVwZGF0ZWRTdGF0ZTtcbiAgICBzd2l0Y2ggKGZpbHRlclR5cGUpIHtcbiAgICAgIGNhc2UgJ3N1YmplY3QnOlxuICAgICAgICBtb2RpZmllZEZpbHRlckN1cnJlbnRTdGF0ZSA9IGN1cnJlbnRTdWJqZWN0RmlsdGVycztcbiAgICAgICAgbW9kaWZpZWRGaWx0ZXJOYW1lID0gJ3N1YmplY3RGaWx0ZXJzJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0eXBlJzpcbiAgICAgICAgbW9kaWZpZWRGaWx0ZXJDdXJyZW50U3RhdGUgPSBjdXJyZW50VHlwZUZpbHRlcnM7XG4gICAgICAgIG1vZGlmaWVkRmlsdGVyTmFtZSA9ICd0eXBlRmlsdGVycyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGlmIChtb2RpZmllZEZpbHRlckN1cnJlbnRTdGF0ZS5pbmRleE9mKGZpbHRlcikgPT09IC0xKSB7XG4gICAgICBtb2RpZmllZEZpbHRlclVwZGF0ZWRTdGF0ZSA9IHVwZGF0ZShtb2RpZmllZEZpbHRlckN1cnJlbnRTdGF0ZSwge1xuICAgICAgICAkcHVzaDogW2ZpbHRlcl0sXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZmlsdGVySW5kZXggPSBtb2RpZmllZEZpbHRlckN1cnJlbnRTdGF0ZS5pbmRleE9mKGZpbHRlcik7XG4gICAgICBtb2RpZmllZEZpbHRlclVwZGF0ZWRTdGF0ZSA9IHVwZGF0ZShtb2RpZmllZEZpbHRlckN1cnJlbnRTdGF0ZSwge1xuICAgICAgICAkc3BsaWNlOiBbWyBmaWx0ZXJJbmRleCwgMSBdXSxcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLnNldFN0YXRlKHsgW21vZGlmaWVkRmlsdGVyTmFtZV06IG1vZGlmaWVkRmlsdGVyVXBkYXRlZFN0YXRlIH0pO1xuICB9XG5cbiAgaGFuZGxlTGVzc29uQ2xpY2sgPSAobGVzc29uKSA9PiB7XG4gICAgY29uc3QgeyBzZWxlY3RlZExlc3NvbnMgfSA9IHRoaXMuc3RhdGU7XG4gICAgbGV0IG1vZGlmaWVkTGVzc29ucztcbiAgICBpZiAoc2VsZWN0ZWRMZXNzb25zLmluZGV4T2YobGVzc29uKSA9PT0gLTEpIHtcbiAgICAgIG1vZGlmaWVkTGVzc29ucyA9IHVwZGF0ZShzZWxlY3RlZExlc3NvbnMsIHtcbiAgICAgICAgJHB1c2g6IFtsZXNzb25dLFxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGxlc3NvbkluZGV4ID0gc2VsZWN0ZWRMZXNzb25zLmluZGV4T2YobGVzc29uKTtcbiAgICAgIG1vZGlmaWVkTGVzc29ucyA9IHVwZGF0ZShzZWxlY3RlZExlc3NvbnMsIHtcbiAgICAgICAgJHNwbGljZTogW1sgbGVzc29uSW5kZXgsIDEgXV0sXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkTGVzc29uczogbW9kaWZpZWRMZXNzb25zIH0pO1xuICB9XG5cbiAgYXNzaWduTGVzc29ucyA9IChkYXRlKSA9PiB7XG4gICAgY29uc3QgeyBvbkFzc2lnbkxlc3NvbnMgfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgeyBzZWxlY3RlZExlc3NvbnMgfSA9IHRoaXMuc3RhdGU7XG4gICAgbGV0IGFzc2lnbkRhdGU7XG4gICAgc3dpdGNoIChkYXRlKSB7XG4gICAgICBjYXNlICd0b2RheSc6XG4gICAgICAgIGFzc2lnbkRhdGUgPSBtb21lbnQoKS5mb3JtYXQoJ01NL0REL1lZJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndG9tb3Jyb3cnOlxuICAgICAgICBhc3NpZ25EYXRlID0gbW9tZW50KCkuYWRkKDEsICdkYXlzJykuZm9ybWF0KCdNTS9ERC9ZWScpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ25leHRTZXNzaW9uJzpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdjdXN0b21EYXRlJzpcbiAgICAgICAgYXNzaWduRGF0ZSA9ICcwMS8wNS8xOSc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHRoaXMub25Ub2dnbGVBc3NpZ25TZWxlY3RlZERyb3Bkb3duKCk7XG4gICAgdGhpcy5vblJlc2V0TW9kYWwoKTtcbiAgICBvbkFzc2lnbkxlc3NvbnMoc2VsZWN0ZWRMZXNzb25zLCBhc3NpZ25EYXRlKTtcbiAgfVxuXG4gIG1hcExlc3NvbnMgPSAoKSA9PiB0aGlzLmdldE1hcHBhYmxlTGVzc29ucygpLm1hcCgobGVzc29uLCBpbmRleCkgPT4gKFxuICAgIDxMZXNzb25DYXJkXG4gICAgICBsZXNzb249e2xlc3Nvbn1cbiAgICAgIGluZGV4PXtpbmRleH1cbiAgICAgIGtleT17bGVzc29uLmlkfVxuICAgICAgb25TZXREcm9wZG93bj17dGhpcy5vblNldERyb3Bkb3dufVxuICAgICAgb25DbG9zZURyb3Bkb3duPXt0aGlzLm9uQ2xvc2VEcm9wZG93bn1cbiAgICAgIGRyb3Bkb3duSW5kZXg9e3RoaXMuc3RhdGUuZHJvcGRvd25JbmRleH1cbiAgICAgIGRyb3Bkb3duSXNPcGVuPXt0aGlzLnN0YXRlLmRyb3Bkb3duSXNPcGVufVxuICAgICAgaGFuZGxlTGVzc29uQ2xpY2s9e3RoaXMuaGFuZGxlTGVzc29uQ2xpY2t9XG4gICAgICBzZWxlY3RlZExlc3NvbnM9e3RoaXMuc3RhdGUuc2VsZWN0ZWRMZXNzb25zfVxuICAgIC8+XG4gICkpXG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgb3BlbiB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IGFzc2lnblNlbGVjdGVkRHJvcGRvd25PcGVuLCBzdWJqZWN0RmlsdGVycywgdHlwZUZpbHRlcnMsIHNvcnQgfSA9IHRoaXMuc3RhdGU7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIHtvcGVuICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIndyYXBwZXJcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLW1vZGFsIGNhcmQtbWFpbiBjYXJkIHN3aXRjaGVyLXNlY3Rpb24gZ3JleSBsaWdodGVuLTNcIiBzdHlsZSA9IHt7bWluV2lkdGg6XCIxMDAlXCJ9fT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImhlYWRlci1yb3cgY2FyZC1wYW5lbCBsaWdodC1ibHVlIGxpZ2h0ZW4tMSB3aGl0ZS10ZXh0XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtcGFuZWwtcm93IHJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbCBzMTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZmxleFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJpY29uLWNvbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJpY29uLWJvb2tzLWxcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1wYW5lbC10ZXh0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sYXJnZVwiPkFzc2lnbiBMZXNzb25zPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sIHMxIHJpZ2h0LWFsaWduXCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgaWNvbnMtcm93XCI+PGEgaHJlZj1cIiNcIiBvbkNsaWNrPXt0aGlzLm9uQ2xvc2VNb2RhbH0gY2xhc3NOYW1lPVwibW9kYWwtY2xvc2UgY2xvc2VcIj48aSBjbGFzc05hbWU9XCJpY29uLWNsb3NlLXRoaW5cIj48L2k+PC9hPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxGaWx0ZXJTZWN0aW9uXG4gICAgICAgICAgICAgICAgICBzb3J0PXtzb3J0fVxuICAgICAgICAgICAgICAgICAgdHlwZUZpbHRlcnM9e3R5cGVGaWx0ZXJzfVxuICAgICAgICAgICAgICAgICAgc3ViamVjdEZpbHRlcnM9e3N1YmplY3RGaWx0ZXJzfVxuICAgICAgICAgICAgICAgICAgb25TZXRTb3J0PXt0aGlzLm9uU2V0U29ydH1cbiAgICAgICAgICAgICAgICAgIG9uQ2xlYXJGaWx0ZXJzPXt0aGlzLm9uUmVzZXRNb2RhbH1cbiAgICAgICAgICAgICAgICAgIGhhbmRsZUZpbHRlckNsaWNrPXt0aGlzLmhhbmRsZUZpbHRlckNsaWNrfVxuICAgICAgICAgICAgICAgICAgb25TZXRGaWx0ZXJlZFN0YXRlPXt0aGlzLm9uU2V0RmlsdGVyZWRTdGF0ZX1cbiAgICAgICAgICAgICAgICAgIG9uVW5zZXRGaWx0ZXJlZFN0YXRlPXt0aGlzLm9uVW5zZXRGaWx0ZXJlZFN0YXRlfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVzdWx0LXJvdyBjZW50ZXItYWxpZ25cIj5cbiAgICAgICAgICAgICAgICAgICAgICA8YiBjbGFzc05hbWU9XCJyZXN1bHRcIj4gLSB7dGhpcy5nZXRNYXBwYWJsZUxlc3NvbnMoKS5sZW5ndGh9IHJlc3VsdHMgLTwvYj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2hlY2tib3hlcy1zZWN0aW9uIHJvdyBkLWZsZXgtY29udGVudCBjYXJkLXdpZHRoLTMyMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLm1hcExlc3NvbnMoKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWRkLWJ0bi1ibG9ja1wiPlxuICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICBocmVmPVwiI1wiXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uVG9nZ2xlQXNzaWduU2VsZWN0ZWREcm9wZG93bn1cbiAgICAgICAgICAgICAgICAgIGRhdGEtdGFyZ2V0PSdkcm9wZG93bl9hc3NpZ25fc2VsZWN0ZWRfbGVzc29ucydcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImRyb3Bkb3duLXRyaWdnZXIgd2F2ZXMtZWZmZWN0IHdhdmVzLXRlYWwgYnRuIGFkZC1idG5cIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25zXCI+YWRkPC9pPiBBc3NpZ24gU2VsZWN0ZWRcbiAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgPHVsXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9J2Ryb3Bkb3duLWNvbnRlbnQnXG4gICAgICAgICAgICAgICAgICBpZD0nZHJvcGRvd25fYXNzaWduX3NlbGVjdGVkX2xlc3NvbnMnXG4gICAgICAgICAgICAgICAgICBzdHlsZT17eyBkaXNwbGF5OiBhc3NpZ25TZWxlY3RlZERyb3Bkb3duT3BlbiA/ICdibG9jaycgOiAnMCcsIG9wYWNpdHk6IGFzc2lnblNlbGVjdGVkRHJvcGRvd25PcGVuID8gJzEnIDogJzAnIH19XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPGxpPjxhIGhyZWY9XCIjXCIgb25DbGljaz17KCkgPT4gdGhpcy5hc3NpZ25MZXNzb25zKCd0b2RheScpfT5Gb3IgVG9kYXk8L2E+PC9saT5cbiAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVwiI1wiIG9uQ2xpY2s9eygpID0+IHRoaXMuYXNzaWduTGVzc29ucygndG9tb3Jyb3cnKX0+Rm9yIFRvbW9ycm93PC9hPjwvbGk+XG4gICAgICAgICAgICAgICAgICA8bGk+PGEgaHJlZj1cIiNcIiBvbkNsaWNrPXsoKSA9PiB0aGlzLmFzc2lnbkxlc3NvbnMoJ25leHRTZXNzaW9uJyl9PkZvciBOZXh0IFNlc3Npb248L2E+PC9saT5cbiAgICAgICAgICAgICAgICAgIDxsaT48YSBocmVmPVwiI1wiIG9uQ2xpY2s9eygpID0+IHRoaXMuYXNzaWduTGVzc29ucygnY3VzdG9tRGF0ZScpfT5Gb3IgRGF0ZS4uLjwvYT48L2xpPlxuICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApfVxuICAgICAgICA8c3R5bGUganN4PlxuICAgICAgICAgIHtgXG4gICAgICAgICAgICAuY2FyZC1tb2RhbCB7XG4gICAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLm1vZGFsLWN1c3RvbSB7XG4gICAgICAgICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgICAgICAgIHZpc2liaWxpdHk6IHZpc2libGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAubW9kYWwtZm9vdGVyIHtcbiAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgYH1cbiAgICAgICAgPC9zdHlsZT5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cbn1cblxuQXNzaWduTGVzc29uTW9kYWwucHJvcFR5cGVzID0ge1xuICBvcGVuOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICBvbkNsb3NlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBvbkFzc2lnbkxlc3NvbnM6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBBc3NpZ25MZXNzb25Nb2RhbDtcbiJdfQ== */\\n/*@ sourceURL=/Volumes/HDD/Sites/clearchoicetestprep/clear-choice-admin/components/Dashboard/components/Modals/AssignLessonModal/index.js */\"));\n  }\n\n}\n\nAssignLessonModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onAssignLessons: PropTypes.func.isRequired\n};\nexport default AssignLessonModal;","map":{"version":3,"sources":["/Volumes/HDD/Sites/clearchoicetestprep/clear-choice-admin/components/Dashboard/components/Modals/AssignLessonModal/index.js"],"names":["React","PropTypes","update","moment","FilterSection","LessonCard","sampleLessons","pageNumberSort","problemSort","timeEstimateSort","subjectSort","lessonTypeMap","AssignLessonModal","Component","constructor","props","setState","assignSelectedDropdownOpen","dropdownIndex","dropdownIsOpen","subjectFilters","typeFilters","sort","titleFilter","value","onClose","onResetModal","lessons","state","reduce","finalArr","currentLesson","title","lessonString","replace","toLowerCase","indexOf","push","unitFilter","unit","allLessons","length","filter","lesson","subject","type","mappableLessons","onFilterByTitle","onFilterByUnit","onFilterLessons","onSortLessons","filterType","currentSubjectFilters","currentTypeFilters","modifiedFilterCurrentState","modifiedFilterName","modifiedFilterUpdatedState","$push","filterIndex","$splice","selectedLessons","modifiedLessons","lessonIndex","date","onAssignLessons","assignDate","format","add","onToggleAssignSelectedDropdown","getMappableLessons","map","index","id","onSetDropdown","onCloseDropdown","handleLessonClick","render","open","minWidth","onCloseModal","onSetSort","handleFilterClick","onSetFilteredState","onUnsetFilteredState","mapLessons","display","opacity","assignLessons","propTypes","bool","isRequired","func"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport update from 'immutability-helper';\nimport moment from 'moment';\n\nimport FilterSection from './components/FilterSection';\nimport LessonCard from './components/LessonCard';\nimport sampleLessons from '../../../utils/sampleLessons';\nimport { pageNumberSort, problemSort, timeEstimateSort, subjectSort } from '../../../utils/sortOptions';\n\nconst lessonTypeMap = {\n  'Challenge + Practice': 'challenge',\n  'Homework Drill': 'homework',\n  'Reading from Workbook': 'readingFromWorkbook',\n};\n\nclass AssignLessonModal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      sort: '',\n      unitFilter: '',\n      titleFilter: '',\n      typeFilters: [],\n      subjectFilters: [],\n      selectedLessons: [],\n      lessons: sampleLessons,\n      dropdownIndex: null,\n      dropdownIsOpen: false,\n      assignSelectedDropdownOpen: false,\n    };\n  }\n\n  onToggleAssignSelectedDropdown = () => this.setState(({ assignSelectedDropdownOpen }) => ({ assignSelectedDropdownOpen: !assignSelectedDropdownOpen }))\n\n  onSetDropdown = (dropdownIndex) => this.setState({ dropdownIndex, dropdownIsOpen: true });\n  onCloseDropdown = () => this.setState({ dropdownIsOpen: false });\n\n  onResetModal = () => this.setState({ subjectFilters: [], typeFilters: [], sort: '' })\n  onSetSort = (sort) => this.setState({ sort })\n\n  onSetFilteredState = (titleFilter, value) => this.setState({ [titleFilter]: value })\n  onUnsetFilteredState = (titleFilter) => this.setState({ [titleFilter]: '' })\n\n  onCloseModal = () => {\n    const { onClose } = this.props;\n    onClose();\n    this.onResetModal();\n  }\n\n  // eslint-disable-next-line consistent-return\n  onSortLessons = (lessons) => {\n    const { sort } = this.state;\n    switch (sort) {\n      case 'pageNumber':\n        return lessons.sort(pageNumberSort);\n      case 'problems':\n        return lessons.sort(problemSort);\n      case 'timeEstimate':\n        return lessons.sort(timeEstimateSort);\n      case 'subject':\n        return lessons.sort(subjectSort);\n      default:\n        break;\n    }\n  }\n\n  onFilterByTitle = () => {\n    const { lessons, titleFilter } = this.state;\n    return lessons.reduce((finalArr, currentLesson) => {\n      const { title } = currentLesson;\n      const lessonString = title.replace(/\\s/g, \"\").toLowerCase();\n      if (lessonString.indexOf(titleFilter) !== -1 && finalArr.indexOf(currentLesson) === -1) {\n        finalArr.push(currentLesson);\n      }\n      return finalArr;\n    }, []);\n  }\n\n  onFilterByUnit = () => {\n    const { lessons, unitFilter } = this.state;\n    return lessons.reduce((finalArr, currentLesson) => {\n      const { unit } = currentLesson;\n      const lessonString = unit.replace(/\\s/g, \"\").toLowerCase();\n      if (lessonString.indexOf(unitFilter) !== -1 && finalArr.indexOf(currentLesson) === -1) {\n        finalArr.push(currentLesson);\n      }\n      return finalArr;\n    }, []);\n  }\n\n  onFilterLessons = () => {\n    const { subjectFilters, typeFilters, lessons: allLessons } = this.state;\n    let lessons = allLessons;\n    if (subjectFilters.length) {\n      lessons = lessons.filter(lesson => subjectFilters.indexOf(lesson.subject) !== -1);\n    }\n    if (typeFilters.length) {\n      lessons = lessons.filter(lesson => typeFilters.indexOf(lessonTypeMap[lesson.type]) !== -1);\n    }\n    return lessons;\n  }\n\n  getMappableLessons = () => {\n    const { subjectFilters, typeFilters, sort, unitFilter, titleFilter, lessons } = this.state;\n    let mappableLessons = lessons;\n    if (titleFilter.length) {\n      mappableLessons = this.onFilterByTitle();\n    }\n    if (unitFilter.length) {\n      mappableLessons = this.onFilterByUnit();\n    }\n    if (subjectFilters.length || typeFilters.length) {\n      mappableLessons = this.onFilterLessons();\n    }\n    if (sort) {\n      return this.onSortLessons(mappableLessons);\n    }\n    return mappableLessons;\n  }\n\n  handleFilterClick = (filterType, filter) => {\n    const { subjectFilters: currentSubjectFilters, typeFilters: currentTypeFilters } = this.state;\n    let modifiedFilterCurrentState;\n    let modifiedFilterName;\n    let modifiedFilterUpdatedState;\n    switch (filterType) {\n      case 'subject':\n        modifiedFilterCurrentState = currentSubjectFilters;\n        modifiedFilterName = 'subjectFilters';\n        break;\n      case 'type':\n        modifiedFilterCurrentState = currentTypeFilters;\n        modifiedFilterName = 'typeFilters';\n        break;\n      default:\n        break;\n    }\n    if (modifiedFilterCurrentState.indexOf(filter) === -1) {\n      modifiedFilterUpdatedState = update(modifiedFilterCurrentState, {\n        $push: [filter],\n      });\n    } else {\n      const filterIndex = modifiedFilterCurrentState.indexOf(filter);\n      modifiedFilterUpdatedState = update(modifiedFilterCurrentState, {\n        $splice: [[ filterIndex, 1 ]],\n      });\n    }\n    this.setState({ [modifiedFilterName]: modifiedFilterUpdatedState });\n  }\n\n  handleLessonClick = (lesson) => {\n    const { selectedLessons } = this.state;\n    let modifiedLessons;\n    if (selectedLessons.indexOf(lesson) === -1) {\n      modifiedLessons = update(selectedLessons, {\n        $push: [lesson],\n      });\n    } else {\n      const lessonIndex = selectedLessons.indexOf(lesson);\n      modifiedLessons = update(selectedLessons, {\n        $splice: [[ lessonIndex, 1 ]],\n      });\n    }\n    this.setState({ selectedLessons: modifiedLessons });\n  }\n\n  assignLessons = (date) => {\n    const { onAssignLessons } = this.props;\n    const { selectedLessons } = this.state;\n    let assignDate;\n    switch (date) {\n      case 'today':\n        assignDate = moment().format('MM/DD/YY');\n        break;\n      case 'tomorrow':\n        assignDate = moment().add(1, 'days').format('MM/DD/YY');\n        break;\n      case 'nextSession':\n        break;\n      case 'customDate':\n        assignDate = '01/05/19';\n        break;\n      default:\n        break;\n    }\n    this.onToggleAssignSelectedDropdown();\n    this.onResetModal();\n    onAssignLessons(selectedLessons, assignDate);\n  }\n\n  mapLessons = () => this.getMappableLessons().map((lesson, index) => (\n    <LessonCard\n      lesson={lesson}\n      index={index}\n      key={lesson.id}\n      onSetDropdown={this.onSetDropdown}\n      onCloseDropdown={this.onCloseDropdown}\n      dropdownIndex={this.state.dropdownIndex}\n      dropdownIsOpen={this.state.dropdownIsOpen}\n      handleLessonClick={this.handleLessonClick}\n      selectedLessons={this.state.selectedLessons}\n    />\n  ))\n\n  render() {\n    const { open } = this.props;\n    const { assignSelectedDropdownOpen, subjectFilters, typeFilters, sort } = this.state;\n    return (\n      <div>\n        {open && (\n          <div className=\"wrapper\">\n              <div className=\"card-modal card-main card switcher-section grey lighten-3\" style = {{minWidth:\"100%\"}}>\n                <div className=\"header-row card-panel light-blue lighten-1 white-text\">\n                  <div className=\"card-panel-row row\">\n                    <div className=\"col s11\">\n                      <div className=\"d-flex\">\n                        <div className=\"icon-col\">\n                          <i className=\"icon-books-l\"></i>\n                        </div>\n                        <div className=\"card-panel-text\">\n                          <div className=\"text-large\">Assign Lessons</div>\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"col s1 right-align\">\n                      <div className=\"row icons-row\"><a href=\"#\" onClick={this.onCloseModal} className=\"modal-close close\"><i className=\"icon-close-thin\"></i></a></div>\n                    </div>\n                  </div>\n                </div>\n                <FilterSection\n                  sort={sort}\n                  typeFilters={typeFilters}\n                  subjectFilters={subjectFilters}\n                  onSetSort={this.onSetSort}\n                  onClearFilters={this.onResetModal}\n                  handleFilterClick={this.handleFilterClick}\n                  onSetFilteredState={this.onSetFilteredState}\n                  onUnsetFilteredState={this.onUnsetFilteredState}\n                />\n                <div className=\"card-content\">\n                  <div className=\"card-body\">\n                    <div className=\"result-row center-align\">\n                      <b className=\"result\"> - {this.getMappableLessons().length} results -</b>\n                    </div>\n                    <div className=\"checkboxes-section row d-flex-content card-width-322\">\n                      {this.mapLessons()}\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"add-btn-block\">\n                <a\n                  href=\"#\"\n                  onClick={this.onToggleAssignSelectedDropdown}\n                  data-target='dropdown_assign_selected_lessons'\n                  className=\"dropdown-trigger waves-effect waves-teal btn add-btn\"\n                >\n                  <i className=\"material-icons\">add</i> Assign Selected\n                </a>\n                <ul\n                  className='dropdown-content'\n                  id='dropdown_assign_selected_lessons'\n                  style={{ display: assignSelectedDropdownOpen ? 'block' : '0', opacity: assignSelectedDropdownOpen ? '1' : '0' }}\n                >\n                  <li><a href=\"#\" onClick={() => this.assignLessons('today')}>For Today</a></li>\n                  <li><a href=\"#\" onClick={() => this.assignLessons('tomorrow')}>For Tomorrow</a></li>\n                  <li><a href=\"#\" onClick={() => this.assignLessons('nextSession')}>For Next Session</a></li>\n                  <li><a href=\"#\" onClick={() => this.assignLessons('customDate')}>For Date...</a></li>\n                </ul>\n              </div>\n          </div>\n        )}\n        <style jsx>\n          {`\n            .card-modal {\n              margin: 0;\n              border-radius: 6px;\n            }\n            .modal-custom {\n              opacity: 1;\n              visibility: visible;\n            }\n            .modal-footer {\n              background-color: white;\n            }\n          `}\n        </style>\n      </div>\n    );\n  }\n}\n\nAssignLessonModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n  onAssignLessons: PropTypes.func.isRequired,\n};\n\nexport default AssignLessonModal;\n"]},"metadata":{},"sourceType":"module"}