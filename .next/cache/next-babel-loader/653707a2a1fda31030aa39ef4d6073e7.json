{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from \"react\";\nimport update from 'immutability-helper';\nimport Portal from \"../../Portal\";\nimport ClassInfo from '../SharedModalComponents/ClassInformation';\nimport AccountSetting from '../SharedModalComponents/AccountSettings';\nimport Locations from '../SharedModalComponents/Locations';\nimport Instructors from '../SharedModalComponents/Instructors';\nimport LocationModal from '../../Location/components/LocationModal';\nimport InstructorModal from '../InstructorModal';\n\nclass ClassModal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onOpenLocationModal\", event => {\n      event.preventDefault();\n      this.setState({\n        locationModalOpen: true\n      });\n    });\n\n    _defineProperty(this, \"onOpenInstructorModal\", event => {\n      event.preventDefault();\n      this.setState({\n        instructorModalOpen: true\n      });\n    });\n\n    _defineProperty(this, \"onCloseLocationModal\", () => this.setState({\n      locationModalOpen: false\n    }));\n\n    _defineProperty(this, \"onCloseInstructorModal\", () => this.setState({\n      instructorModalOpen: false\n    }));\n\n    _defineProperty(this, \"arrayItemRemover\", (array, value) => array.filter(item => item !== value));\n\n    _defineProperty(this, \"onRemoveLocation\", index => {\n      const {\n        location: {\n          locations\n        }\n      } = this.state.classroom;\n      const newLocationsArray = this.arrayItemRemover(locations, locations[index]);\n      const updatedClassRoom = update(this.state.classroom, {\n        location: {\n          $set: {\n            locations: newLocationsArray\n          }\n        }\n      });\n      this.setState({\n        classroom: updatedClassRoom\n      });\n    });\n\n    _defineProperty(this, \"onRemoveInstructor\", index => {\n      const {\n        instructor: {\n          instructors\n        }\n      } = this.state.classroom;\n      const newInstructorsArray = this.arrayItemRemover(instructors, instructors[index]);\n      const updatedClassRoom = update(this.state.classroom, {\n        instructor: {\n          $set: {\n            instructors: newInstructorsArray\n          }\n        }\n      });\n      this.setState({\n        classroom: updatedClassRoom\n      });\n    });\n\n    _defineProperty(this, \"onCloseModal\", () => {\n      const {\n        onClose\n      } = this.props;\n      onClose();\n    });\n\n    _defineProperty(this, \"onSave\", () => {\n      const {\n        onClose,\n        onSave\n      } = this.props;\n      onClose();\n      const classroom = this.state.classroom;\n      onSave(classroom);\n    });\n\n    _defineProperty(this, \"handleDetailsChange\", (event, name, section, checkBox = false) => {\n      if (checkBox) {\n        const updatedClassRoom = update(this.state.classroom, {\n          [section]: {\n            $merge: {\n              [name]: !this.state.classroom[section][name]\n            }\n          }\n        });\n        this.setState({\n          classroom: updatedClassRoom\n        });\n      } else {\n        const value = event.target ? event.target.value : event;\n        const updatedClassRoom = update(this.state.classroom, {\n          [section]: {\n            $merge: {\n              [name]: value\n            }\n          }\n        });\n        this.setState({\n          classroom: updatedClassRoom\n        });\n      }\n    });\n\n    this.state = {\n      classroom: {\n        classInfo: {\n          className: \"\"\n        },\n        accountInfo: {\n          start_date: \"\",\n          end_date: \"\",\n          active: false,\n          isExclude: false\n        },\n        location: {\n          locations: []\n        },\n        instructor: {\n          instructors: []\n        }\n      },\n      locationModalOpen: false,\n      instructorModalOpen: false,\n      pendingLocationDelete: {}\n    };\n  }\n\n  render() {\n    const {\n      open,\n      onClose\n    } = this.props;\n    const {\n      locationModalOpen,\n      instructorModalOpen,\n      classroom: {\n        classInfo,\n        accountInfo,\n        location,\n        instructor\n      }\n    } = this.state;\n    return __jsx(Portal, {\n      selector: \"#modal\"\n    }, open && __jsx(React.Fragment, null, __jsx(\"div\", {\n      className: \"jsx-1541319608\" + \" \" + \"overlay\"\n    }, __jsx(\"div\", {\n      id: \"modal_add_new_class\",\n      className: \"jsx-1541319608\" + \" \" + \"modal modal-custom modal-460\"\n    }, __jsx(\"form\", {\n      action: \"#\",\n      className: \"jsx-1541319608\" + \" \" + \"custom-form\"\n    }, __jsx(\"fieldset\", {\n      className: \"jsx-1541319608\"\n    }, __jsx(\"div\", {\n      className: \"jsx-1541319608\" + \" \" + \"card-modal card-main card\"\n    }, __jsx(\"div\", {\n      style: {\n        backgroundColor: \"#408e49\",\n        color: \"#fff\"\n      },\n      className: \"jsx-1541319608\" + \" \" + \"card-panel card-panel-title\"\n    }, __jsx(\"div\", {\n      className: \"jsx-1541319608\" + \" \" + \"card-panel-row row\"\n    }, __jsx(\"div\", {\n      className: \"jsx-1541319608\" + \" \" + \"col\"\n    }, __jsx(\"h2\", {\n      className: \"jsx-1541319608\"\n    }, __jsx(\"span\", {\n      className: \"jsx-1541319608\" + \" \" + \"heading-holder\"\n    }, __jsx(\"i\", {\n      className: \"jsx-1541319608\" + \" \" + \"icon-members\"\n    }), __jsx(\"span\", {\n      className: \"jsx-1541319608\" + \" \" + \"heading-block\"\n    }, \" New Class \")))), __jsx(\"div\", {\n      className: \"jsx-1541319608\" + \" \" + \"col right-align\"\n    }, __jsx(\"a\", {\n      href: \"#!\",\n      onClick: onClose,\n      className: \"jsx-1541319608\" + \" \" + \"panel-link close modal-close\"\n    }, __jsx(\"i\", {\n      className: \"jsx-1541319608\" + \" \" + \"icon-close-thin\"\n    }))))), __jsx(\"div\", {\n      className: \"jsx-1541319608\" + \" \" + \"card-content\"\n    }, __jsx(\"div\", {\n      className: \"jsx-1541319608\" + \" \" + \"card-body\"\n    }, __jsx(ClassInfo, {\n      state: classInfo,\n      handleDetailsChange: this.handleDetailsChange\n    }), __jsx(AccountSetting, {\n      state: accountInfo,\n      handleDetailsChange: this.handleDetailsChange\n    }), __jsx(Locations, {\n      locations: location.locations,\n      onOpenLocationModal: this.onOpenLocationModal,\n      onRemoveLocation: this.onRemoveLocation,\n      handleDetailsChange: this.handleDetailsChange\n    }), __jsx(Instructors, {\n      instructors: instructor.instructors,\n      onOpenInstructorModal: this.onOpenInstructorModal,\n      onRemoveInstructor: this.onRemoveInstructor\n    })), __jsx(\"div\", {\n      className: \"jsx-1541319608\" + \" \" + \"modal-footer\"\n    }, __jsx(\"a\", {\n      href: \"#!\",\n      onClick: onClose,\n      className: \"jsx-1541319608\" + \" \" + \"modal-close waves-effect waves-teal btn-flat pink-text text-darken-1\"\n    }, \"Cancel\"), __jsx(\"a\", {\n      href: \"#\",\n      onClick: this.onSave,\n      className: \"jsx-1541319608\" + \" \" + \"btn\"\n    }, \"Create Class\")))))))), __jsx(LocationModal, {\n      open: locationModalOpen,\n      onClose: this.onCloseLocationModal,\n      handleLocationsChange: selectedLocations => this.handleDetailsChange(selectedLocations, 'locations', 'location')\n    }), __jsx(InstructorModal, {\n      open: instructorModalOpen,\n      onClose: this.onCloseInstructorModal,\n      handleInstructorsChange: selectedInstructors => this.handleDetailsChange(selectedInstructors, 'instructors', 'instructor')\n    })), __jsx(_JSXStyle, {\n      id: \"1541319608\"\n    }, [\".overlay.jsx-1541319608{position:fixed;background-color:rgba(0,0,0,0.7);top:0;right:0;bottom:0;left:0;z-index:1999;}\", \".card-modal.jsx-1541319608{margin:0;border-radius:6px;}\", \"#modal_Location1.jsx-1541319608{border-radius:6px;}\", \".modal.jsx-1541319608{display:block;background-color:white;position:absolute;top:10%;right:10%;left:10%;box-shadow:0 24px 38px 3px rgba(0,0,0,0.14), 0 9px 46px 8px rgba(0,0,0,0.12), 0 11px 15px -7px rgba(0,0,0,0.2);}\", \".modal-custom.jsx-1541319608{opacity:1;visibility:visible;}\", \".modal-footer.jsx-1541319608{background-color:white;}\"]));\n  }\n\n}\n\nexport default ClassModal;","map":null,"metadata":{},"sourceType":"module"}