{"ast":null,"code":"import _parseFloat from \"@babel/runtime-corejs2/core-js/parse-float\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/wolf/Documents/clearchoice/admin/feature-view-updated-course/clear-choice-admin/components/Student/LessonDetailAnswerSheet/components/VideoPlayer/index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport * as React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Slider from \"react-input-slider\";\n\nvar VideoPlayer =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(VideoPlayer, _React$Component);\n\n  function VideoPlayer(props) {\n    var _this;\n\n    _classCallCheck(this, VideoPlayer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(VideoPlayer).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"videoLoaded\", function () {\n      _this.volumeBar = _this.video.volume;\n\n      _this.setState({\n        duration: _this.video.duration,\n        currentTime: 0,\n        play: true,\n        pause: false,\n        volumeUp: true,\n        volumeOff: false,\n        replay: false,\n        ended: false\n      });\n\n      _this.timeEndLabel.innerText = _this.calcTime(_this.video.duration);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"calcTime\", function (time) {\n      var min = Math.floor(Math.floor(time) / 60);\n      var sec = Math.floor(time) % 60;\n      return \"\".concat(min < 10 ? \"0\".concat(min) : min, \" : \").concat(sec < 10 ? \"0\".concat(sec) : sec);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleVideoEnded\", function () {\n      _this.initPlayVideoState();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"moveSeek\", function () {\n      _this.setState({\n        currentTime: _this.video.currentTime\n      });\n\n      _this.timeStartLabel.innerText = _this.calcTime(_this.video.currentTime);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"playVideo\", function () {\n      _this.video.play();\n\n      _this.reverseVideoPlayState();\n\n      var onHandleWatchedVideo = _this.props.onHandleWatchedVideo;\n      onHandleWatchedVideo('STARTED');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"reverseVideoPlayState\", function () {\n      _this.setState({\n        play: !_this.state.play,\n        pause: !_this.state.pause\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickVolume\", function () {\n      var _this$state = _this.state,\n          volumeUp = _this$state.volumeUp,\n          volumeOff = _this$state.volumeOff;\n\n      if (volumeUp) {\n        _this.video.volume = 0;\n      } else {\n        _this.video.volume = _this.volumeBar.value;\n      }\n\n      _this.setState({\n        volumeUp: !volumeUp,\n        volumeOff: !volumeOff\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"pauseVideo\", function () {\n      _this.video.pause();\n\n      _this.reverseVideoPlayState();\n\n      var onHandleWatchedVideo = _this.props.onHandleWatchedVideo;\n      onHandleWatchedVideo('STOPPED');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showVolumeBar\", function () {\n      _this.volumeBarContainer.style.opacity = 1;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"hideVolumeBar\", function () {\n      _this.volumeBarContainer.style.opacity = 0;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"fullScreen\", function () {\n      if (_this.state.fullscreen) {\n        document.exitFullscreen();\n\n        _this.setState({\n          fullscreen: false\n        });\n      } else {\n        _this.videoWrap.requestFullscreen();\n\n        _this.setState({\n          fullscreen: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"changeVolume\", function (e) {\n      _this.video.volume = e.currentTarget.value;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"replayVideo\", function () {\n      _this.setState({\n        play: true,\n        pause: false,\n        replay: false\n      });\n\n      _this.video.currentTime = 0;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChangeTimeSlider\", function (x) {\n      var play = _this.state.play;\n\n      if (play && _this.video.currentTime === _parseFloat(_this.state.duration.toFixed(2)) - 0.01) {\n        _this.initPlayVideoState();\n      } else {\n        _this.setState({\n          currentTime: _parseFloat(x.toFixed(2))\n        });\n\n        _this.video.currentTime = _parseFloat(x.toFixed(2));\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"initPlayVideoState\", function () {\n      _this.setState({\n        replay: true,\n        play: false,\n        pause: false,\n        currentTime: 0\n      });\n    });\n\n    _this.state = {\n      volume: 0,\n      currentTime: 0,\n      duration: 0,\n      play: true,\n      pause: false,\n      volumeUp: true,\n      volumeOff: false,\n      replay: false,\n      ended: false,\n      fullscreen: false\n    };\n    return _this;\n  }\n\n  _createClass(VideoPlayer, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var url = this.props.url;\n      var _this$state2 = this.state,\n          pause = _this$state2.pause,\n          play = _this$state2.play,\n          replay = _this$state2.replay,\n          volumeUp = _this$state2.volumeUp,\n          volumeOff = _this$state2.volumeOff;\n      return __jsx(React.Fragment, null, __jsx(\"div\", {\n        id: \"video-player\",\n        ref: function ref(videoWrap) {\n          _this2.videoWrap = videoWrap;\n        },\n        className: \"jsx-1232297166\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, __jsx(\"video\", {\n        id: \"video-source\",\n        ref: function ref(video) {\n          _this2.video = video;\n        },\n        src: url,\n        preload: \"metadata\",\n        playsInline: true,\n        onLoadedData: this.videoLoaded,\n        onTimeUpdate: this.moveSeek,\n        volume: this.state.volume,\n        onEnded: this.handleVideoEnded,\n        className: \"jsx-1232297166\" + \" \" + \"in-modal embed-responsive-item\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }), __jsx(\"div\", {\n        id: \"video-control\",\n        className: \"jsx-1232297166\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, play ? __jsx(\"button\", {\n        id: \"play-button\",\n        name: \"play\",\n        ref: function ref(c) {\n          return _this2.playButton = c;\n        },\n        onClick: this.playVideo,\n        className: \"jsx-1232297166\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, __jsx(\"i\", {\n        className: \"jsx-1232297166\" + \" \" + \"material-icons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, \"play_arrow\")) : null, pause ? __jsx(\"button\", {\n        id: \"pause-button\",\n        ref: function ref(c) {\n          return _this2.pauseButton = c;\n        },\n        onClick: this.pauseVideo,\n        className: \"jsx-1232297166\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, __jsx(\"i\", {\n        className: \"jsx-1232297166\" + \" \" + \"material-icons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, \"pause\")) : null, replay ? __jsx(\"button\", {\n        id: \"replay-button\",\n        name: \"replay\",\n        ref: function ref(c) {\n          return _this2.replayButton = c;\n        },\n        onClick: this.replayVideo,\n        className: \"jsx-1232297166\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181\n        },\n        __self: this\n      }, __jsx(\"i\", {\n        className: \"jsx-1232297166\" + \" \" + \"material-icons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, \"replay\")) : null, __jsx(\"div\", {\n        id: \"seek-bar\",\n        className: \"jsx-1232297166\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, __jsx(\"label\", {\n        id: \"time-start-label\",\n        ref: function ref(label) {\n          _this2.timeStartLabel = label;\n        },\n        style: {\n          marginRight: '20px'\n        },\n        className: \"jsx-1232297166\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \"00 : 00\"), __jsx(Slider, {\n        id: \"time-progress\",\n        axis: \"x\",\n        xmax: this.state.duration,\n        x: this.state.currentTime,\n        styles: {\n          track: {\n            width: '350px',\n            backgroundColor: 'rgba(0,162,232,.25)'\n          },\n          active: {\n            backgroundColor: '#00a2e8'\n          },\n          thumb: {\n            width: 15,\n            height: 15,\n            backgroundColor: '#00a2e8'\n          }\n        },\n        xstep: 0.01,\n        onChange: function onChange(_ref) {\n          var x = _ref.x;\n          return _this2.handleChangeTimeSlider(x);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      }), __jsx(\"label\", {\n        id: \"time-end-label\",\n        ref: function ref(label) {\n          _this2.timeEndLabel = label;\n        },\n        style: {\n          marginLeft: '20px'\n        },\n        className: \"jsx-1232297166\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, \"00 : 00\")), __jsx(\"div\", {\n        id: \"volume-bar-container\",\n        ref: function ref(c) {\n          return _this2.volumeBarContainer = c;\n        },\n        onMouseOver: this.showVolumeBar,\n        className: \"jsx-1232297166\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, __jsx(\"input\", {\n        id: \"volume-bar\",\n        name: \"volume\",\n        ref: function ref(c) {\n          return _this2.volumeBar = c;\n        },\n        type: \"range\",\n        min: 0,\n        max: 1,\n        step: \"0.01\",\n        onChange: function onChange(e) {\n          return _this2.changeVolume(e);\n        },\n        defaultValue: 0.5,\n        className: \"jsx-1232297166\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      })), __jsx(\"button\", {\n        id: \"full-screen-button\",\n        onClick: this.fullScreen,\n        className: \"jsx-1232297166\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254\n        },\n        __self: this\n      }, __jsx(\"i\", {\n        className: \"jsx-1232297166\" + \" \" + \"material-icons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258\n        },\n        __self: this\n      }, \"fullscreen\")), volumeUp ? __jsx(\"button\", {\n        id: \"volume-button\",\n        onMouseOver: this.showVolumeBar,\n        onMouseOut: this.hideVolumeBar,\n        onClick: this.handleClickVolume,\n        className: \"jsx-1232297166\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, __jsx(\"i\", {\n        className: \"jsx-1232297166\" + \" \" + \"material-icons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, \"volume_up\")) : null, volumeOff ? __jsx(\"button\", {\n        id: \"volume-button\",\n        onMouseOver: this.showVolumeBar,\n        onMouseOut: this.hideVolumeBar,\n        onClick: this.handleClickVolume,\n        className: \"jsx-1232297166\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, __jsx(\"i\", {\n        className: \"jsx-1232297166\" + \" \" + \"material-icons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, \"volume_off\")) : null)), __jsx(_JSXStyle, {\n        id: \"1232297166\",\n        __self: this\n      }, \"a.jsx-1232297166{color:#343434;}*.jsx-1232297166{outline:none;}#video-player.jsx-1232297166{position:relative;width:100%;}#video-player.jsx-1232297166 video.jsx-1232297166{position:relative;width:100%;}#video-player.jsx-1232297166 #video-control.jsx-1232297166{position:relative;width:100%;height:30px;-webkit-transform:translate(0,-30px);-ms-transform:translate(0,-30px);transform:translate(0,-30px);z-index:2147483647;}#video-player.jsx-1232297166 #video-control.jsx-1232297166 i.jsx-1232297166{color:white;}#video-player.jsx-1232297166 #video-control.jsx-1232297166 label.jsx-1232297166{color:#00a2e8;}#video-player.jsx-1232297166 #video-control.jsx-1232297166 button.jsx-1232297166{border:none;width:30px;height:30px;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;background:#00a2e8;z-index:2147483647;}#play-button.jsx-1232297166,#pause-button.jsx-1232297166{float:left;}#seek-bar.jsx-1232297166{width:calc(100% - 150px);padding-top:10px;text-align:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;}.input-range.jsx-1232297166{width:100px !important;}#volume-button.jsx-1232297166,#full-screen-button.jsx-1232297166{float:right;}#volume-bar-container.jsx-1232297166{position:absolute;padding:0 5px;background:rgba(0,0,0,0.5);-webkit-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg);margin-left:27px;margin-top:-68px;opacity:0;}#volume-bar.jsx-1232297166{width:90px;}#video-player.jsx-1232297166 #video-control.jsx-1232297166 *.jsx-1232297166{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;}video.jsx-1232297166::-webkit-media-controls{display:none !important;}video.jsx-1232297166::-webkit-media-controls-enclosure{display:none !important;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy93b2xmL0RvY3VtZW50cy9jbGVhcmNob2ljZS9hZG1pbi9mZWF0dXJlLXZpZXctdXBkYXRlZC1jb3Vyc2UvY2xlYXItY2hvaWNlLWFkbWluL2NvbXBvbmVudHMvU3R1ZGVudC9MZXNzb25EZXRhaWxBbnN3ZXJTaGVldC9jb21wb25lbnRzL1ZpZGVvUGxheWVyL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTJSbUIsQUFHNkIsQUFHRCxBQUlLLEFBS0EsQUFLQSxBQVFOLEFBSUUsQUFJRixBQVVELEFBSWMsQUFPRixBQUtYLEFBSU0sQUFVUCxBQUlTLEFBR0ssQUFHQSxXQXZDM0IsQUE4QkEsQ0FoREEsQUFRYSxBQTBCYixDQXhEQSxDQUhBLEFBNkJBLElBdEJhLEFBS0EsQUFLQSxBQThDRyxLQTdCRixBQW9CZCxDQTBCRSxBQUdGLENBcENtQixJQXZDbkIsQUFLQSxBQUtjLEdBOENrQixHQTdCUCxNQWhCTyxDQTZCWixpQkFpQk8sQ0FoQkYsMENBNEJ6QixnQ0F6Q3FCLE1BaEJBLE1BOENGLE9BN0JFLE1BaEJyQixBQTZCQSxJQWlCbUIsU0E3Qm5CLFFBOEJZLFVBQ1oiLCJmaWxlIjoiL1VzZXJzL3dvbGYvRG9jdW1lbnRzL2NsZWFyY2hvaWNlL2FkbWluL2ZlYXR1cmUtdmlldy11cGRhdGVkLWNvdXJzZS9jbGVhci1jaG9pY2UtYWRtaW4vY29tcG9uZW50cy9TdHVkZW50L0xlc3NvbkRldGFpbEFuc3dlclNoZWV0L2NvbXBvbmVudHMvVmlkZW9QbGF5ZXIvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSBcInByb3AtdHlwZXNcIjtcbmltcG9ydCBTbGlkZXIgZnJvbSBcInJlYWN0LWlucHV0LXNsaWRlclwiO1xuXG5jbGFzcyBWaWRlb1BsYXllciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICB2b2x1bWU6IDAsXG4gICAgICBjdXJyZW50VGltZTogMCxcbiAgICAgIGR1cmF0aW9uOiAwLFxuICAgICAgcGxheTogdHJ1ZSxcbiAgICAgIHBhdXNlOiBmYWxzZSxcbiAgICAgIHZvbHVtZVVwOiB0cnVlLFxuICAgICAgdm9sdW1lT2ZmOiBmYWxzZSxcbiAgICAgIHJlcGxheTogZmFsc2UsXG4gICAgICBlbmRlZDogZmFsc2UsXG4gICAgICBmdWxsc2NyZWVuOiBmYWxzZSxcbiAgICB9O1xuICB9XG5cbiAgICB2aWRlb0xvYWRlZCA9ICgpID0+IHtcbiAgICAgIHRoaXMudm9sdW1lQmFyID0gdGhpcy52aWRlby52b2x1bWU7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZHVyYXRpb246IHRoaXMudmlkZW8uZHVyYXRpb24sXG4gICAgICAgIGN1cnJlbnRUaW1lOiAwLFxuICAgICAgICBwbGF5OiB0cnVlLFxuICAgICAgICBwYXVzZTogZmFsc2UsXG4gICAgICAgIHZvbHVtZVVwOiB0cnVlLFxuICAgICAgICB2b2x1bWVPZmY6IGZhbHNlLFxuICAgICAgICByZXBsYXk6IGZhbHNlLFxuICAgICAgICBlbmRlZDogZmFsc2UsXG4gICAgICB9KTtcbiAgICAgIHRoaXMudGltZUVuZExhYmVsLmlubmVyVGV4dCA9IHRoaXMuY2FsY1RpbWUodGhpcy52aWRlby5kdXJhdGlvbik7XG4gICAgfTtcblxuICAgIGNhbGNUaW1lID0gdGltZSA9PiB7XG4gICAgICBjb25zdCBtaW4gPSBNYXRoLmZsb29yKE1hdGguZmxvb3IodGltZSkgLyA2MCk7XG4gICAgICBjb25zdCBzZWMgPSBNYXRoLmZsb29yKHRpbWUpICUgNjA7XG4gICAgICByZXR1cm4gYCR7bWluIDwgMTAgPyBgMCR7bWlufWAgOiBtaW59IDogJHtzZWMgPCAxMCA/IGAwJHtzZWN9YCA6IHNlY31gO1xuICAgIH07XG5cbiAgICBoYW5kbGVWaWRlb0VuZGVkID0gKCkgPT4ge1xuICAgICAgdGhpcy5pbml0UGxheVZpZGVvU3RhdGUoKTtcbiAgICB9XG5cbiAgICBtb3ZlU2VlayA9ICgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBjdXJyZW50VGltZTogdGhpcy52aWRlby5jdXJyZW50VGltZSxcbiAgICAgIH0pO1xuICAgICAgdGhpcy50aW1lU3RhcnRMYWJlbC5pbm5lclRleHQgPSB0aGlzLmNhbGNUaW1lKHRoaXMudmlkZW8uY3VycmVudFRpbWUpO1xuICAgIH07XG5cbiAgICBwbGF5VmlkZW8gPSAoKSA9PiB7XG4gICAgICB0aGlzLnZpZGVvLnBsYXkoKTtcbiAgICAgIHRoaXMucmV2ZXJzZVZpZGVvUGxheVN0YXRlKCk7XG4gICAgICBjb25zdCB7IG9uSGFuZGxlV2F0Y2hlZFZpZGVvIH0gPSB0aGlzLnByb3BzO1xuICAgICAgb25IYW5kbGVXYXRjaGVkVmlkZW8oJ1NUQVJURUQnKTtcbiAgICB9O1xuICAgIHJldmVyc2VWaWRlb1BsYXlTdGF0ZSA9ICgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBwbGF5OiAhdGhpcy5zdGF0ZS5wbGF5LFxuICAgICAgICBwYXVzZTogIXRoaXMuc3RhdGUucGF1c2UsXG4gICAgICB9KTtcbiAgICB9XG4gICAgaGFuZGxlQ2xpY2tWb2x1bWUgPSAoKSA9PiB7XG4gICAgICBjb25zdCB7IHZvbHVtZVVwLCB2b2x1bWVPZmYgfSA9IHRoaXMuc3RhdGU7XG4gICAgICBpZiAodm9sdW1lVXApIHtcbiAgICAgICAgdGhpcy52aWRlby52b2x1bWUgPSAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy52aWRlby52b2x1bWUgPSB0aGlzLnZvbHVtZUJhci52YWx1ZTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICB2b2x1bWVVcDogIXZvbHVtZVVwLFxuICAgICAgICB2b2x1bWVPZmY6ICF2b2x1bWVPZmYsXG4gICAgICB9KTtcbiAgICB9XG4gICAgcGF1c2VWaWRlbyA9ICgpID0+IHtcbiAgICAgIHRoaXMudmlkZW8ucGF1c2UoKTtcbiAgICAgIHRoaXMucmV2ZXJzZVZpZGVvUGxheVN0YXRlKCk7XG4gICAgICBjb25zdCB7IG9uSGFuZGxlV2F0Y2hlZFZpZGVvIH0gPSB0aGlzLnByb3BzO1xuICAgICAgb25IYW5kbGVXYXRjaGVkVmlkZW8oJ1NUT1BQRUQnKTtcbiAgICB9O1xuXG4gICAgc2hvd1ZvbHVtZUJhciA9ICgpID0+IHtcbiAgICAgIHRoaXMudm9sdW1lQmFyQ29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgIH07XG5cbiAgICBoaWRlVm9sdW1lQmFyID0gKCkgPT4ge1xuICAgICAgdGhpcy52b2x1bWVCYXJDb250YWluZXIuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgfTtcblxuICAgIGZ1bGxTY3JlZW4gPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5zdGF0ZS5mdWxsc2NyZWVuKSB7XG4gICAgICAgIGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBmdWxsc2NyZWVuOiBmYWxzZSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMudmlkZW9XcmFwLnJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBmdWxsc2NyZWVuOiB0cnVlIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjaGFuZ2VWb2x1bWUgPSBlID0+IHtcbiAgICAgIHRoaXMudmlkZW8udm9sdW1lID0gZS5jdXJyZW50VGFyZ2V0LnZhbHVlO1xuICAgIH07XG5cbiAgICByZXBsYXlWaWRlbyA9ICgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBwbGF5OiB0cnVlLFxuICAgICAgICBwYXVzZTogZmFsc2UsXG4gICAgICAgIHJlcGxheTogZmFsc2UsXG4gICAgICB9KTtcbiAgICAgIHRoaXMudmlkZW8uY3VycmVudFRpbWUgPSAwO1xuICAgIH1cbiAgICBoYW5kbGVDaGFuZ2VUaW1lU2xpZGVyID0gKHgpID0+IHtcbiAgICAgIGNvbnN0IHsgcGxheSB9ID0gdGhpcy5zdGF0ZTtcbiAgICAgIGlmIChwbGF5ICYmIHRoaXMudmlkZW8uY3VycmVudFRpbWUgPT09IHBhcnNlRmxvYXQodGhpcy5zdGF0ZS5kdXJhdGlvbi50b0ZpeGVkKDIpKSAtIDAuMDEpIHtcbiAgICAgICAgdGhpcy5pbml0UGxheVZpZGVvU3RhdGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBjdXJyZW50VGltZTogcGFyc2VGbG9hdCh4LnRvRml4ZWQoMikpIH0pO1xuICAgICAgICB0aGlzLnZpZGVvLmN1cnJlbnRUaW1lID0gcGFyc2VGbG9hdCh4LnRvRml4ZWQoMikpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGluaXRQbGF5VmlkZW9TdGF0ZSA9ICgpID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICByZXBsYXk6IHRydWUsXG4gICAgICAgIHBsYXk6IGZhbHNlLFxuICAgICAgICBwYXVzZTogZmFsc2UsXG4gICAgICAgIGN1cnJlbnRUaW1lOiAwLFxuICAgICAgfSk7XG4gICAgfVxuICAgIHJlbmRlcigpIHtcbiAgICAgIGNvbnN0IHsgdXJsIH0gPSB0aGlzLnByb3BzO1xuICAgICAgY29uc3QgeyBwYXVzZSwgcGxheSwgcmVwbGF5LCB2b2x1bWVVcCwgdm9sdW1lT2ZmIH0gPSB0aGlzLnN0YXRlO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgaWQ9XCJ2aWRlby1wbGF5ZXJcIlxuICAgICAgICAgICAgICAgICAgcmVmPXtcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9XcmFwID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZGVvV3JhcCA9IHZpZGVvV3JhcDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDx2aWRlb1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJpbi1tb2RhbCBlbWJlZC1yZXNwb25zaXZlLWl0ZW1cIlxuICAgICAgICAgICAgICAgICAgICBpZD1cInZpZGVvLXNvdXJjZVwiXG4gICAgICAgICAgICAgICAgICAgIHJlZj17dmlkZW8gPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlkZW8gPSB2aWRlbztcbiAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgc3JjPXt1cmx9XG4gICAgICAgICAgICAgICAgICAgIHByZWxvYWQ9XCJtZXRhZGF0YVwiXG4gICAgICAgICAgICAgICAgICAgIHBsYXlzSW5saW5lXG4gICAgICAgICAgICAgICAgICAgIG9uTG9hZGVkRGF0YT17dGhpcy52aWRlb0xvYWRlZH1cbiAgICAgICAgICAgICAgICAgICAgb25UaW1lVXBkYXRlPXt0aGlzLm1vdmVTZWVrfVxuICAgICAgICAgICAgICAgICAgICB2b2x1bWU9e3RoaXMuc3RhdGUudm9sdW1lfVxuICAgICAgICAgICAgICAgICAgICBvbkVuZGVkPXt0aGlzLmhhbmRsZVZpZGVvRW5kZWR9XG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cInZpZGVvLWNvbnRyb2xcIj5cbiAgICAgICAgICAgICAgICAgICAgPElmIGNvbmRpdGlvbj17cGxheX0+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJwbGF5LWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lPVwicGxheVwiXG4gICAgICAgICAgICAgICAgICAgICAgICByZWY9e2MgPT4gKHRoaXMucGxheUJ1dHRvbiA9IGMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5wbGF5VmlkZW99XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvbnNcIj5wbGF5X2Fycm93PC9pPlxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L0lmPlxuICAgICAgICAgICAgICAgICAgICA8SWYgY29uZGl0aW9uPXtwYXVzZX0+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJwYXVzZS1idXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXtjID0+ICh0aGlzLnBhdXNlQnV0dG9uID0gYyl9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnBhdXNlVmlkZW99XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvbnNcIj5wYXVzZTwvaT5cbiAgICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9JZj5cbiAgICAgICAgICAgICAgICAgICAgPElmIGNvbmRpdGlvbj17cmVwbGF5fT5cbiAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD1cInJlcGxheS1idXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cInJlcGxheVwiXG4gICAgICAgICAgICAgICAgICAgICAgICByZWY9e2MgPT4gKHRoaXMucmVwbGF5QnV0dG9uID0gYyl9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnJlcGxheVZpZGVvfVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25zXCI+cmVwbGF5PC9pPlxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L0lmPlxuXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJzZWVrLWJhclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJ0aW1lLXN0YXJ0LWxhYmVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17bGFiZWwgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVTdGFydExhYmVsID0gbGFiZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luUmlnaHQ6ICcyMHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwMCA6IDAwXG4gICAgICAgICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICA8U2xpZGVyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZD1cInRpbWUtcHJvZ3Jlc3NcIlxuICAgICAgICAgICAgICAgICAgICAgICAgYXhpcz1cInhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgeG1heD17dGhpcy5zdGF0ZS5kdXJhdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgIHg9e3RoaXMuc3RhdGUuY3VycmVudFRpbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZXM9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2s6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzM1MHB4JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6ICdyZ2JhKDAsMTYyLDIzMiwuMjUpJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwYTJlOCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRodW1iOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDE1LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogMTUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzAwYTJlOCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgeHN0ZXA9ezAuMDF9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHsgeCB9KSA9PiB0aGlzLmhhbmRsZUNoYW5nZVRpbWVTbGlkZXIoeCl9XG4gICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8bGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwidGltZS1lbmQtbGFiZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXtsYWJlbCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGltZUVuZExhYmVsID0gbGFiZWw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9e3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luTGVmdDogJzIwcHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDAwIDogMDBcbiAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgIGlkPVwidm9sdW1lLWJhci1jb250YWluZXJcIlxuICAgICAgICAgICAgICAgICAgICAgIHJlZj17YyA9PiAodGhpcy52b2x1bWVCYXJDb250YWluZXIgPSBjKX1cbiAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlT3Zlcj17dGhpcy5zaG93Vm9sdW1lQmFyfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICBpZD1cInZvbHVtZS1iYXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cInZvbHVtZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICByZWY9e2MgPT4gKHRoaXMudm9sdW1lQmFyID0gYyl9XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwicmFuZ2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgbWluPXswfVxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4PXsxfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcD1cIjAuMDFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9e2UgPT4gdGhpcy5jaGFuZ2VWb2x1bWUoZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0VmFsdWU9ezAuNX1cbiAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgIGlkPVwiZnVsbC1zY3JlZW4tYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmZ1bGxTY3JlZW59XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uc1wiPmZ1bGxzY3JlZW48L2k+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8SWYgY29uZGl0aW9uPXt2b2x1bWVVcH0+XG4gICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJ2b2x1bWUtYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VPdmVyPXt0aGlzLnNob3dWb2x1bWVCYXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlT3V0PXt0aGlzLmhpZGVWb2x1bWVCYXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmhhbmRsZUNsaWNrVm9sdW1lfVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25zXCI+dm9sdW1lX3VwPC9pPlxuICAgICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L0lmPlxuICAgICAgICAgICAgICAgICAgICA8SWYgY29uZGl0aW9uPXt2b2x1bWVPZmZ9PlxuICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgIGlkPVwidm9sdW1lLWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlT3Zlcj17dGhpcy5zaG93Vm9sdW1lQmFyfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZU91dD17dGhpcy5oaWRlVm9sdW1lQmFyfVxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5oYW5kbGVDbGlja1ZvbHVtZX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uc1wiPnZvbHVtZV9vZmY8L2k+XG4gICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvSWY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgIDxzdHlsZSBqc3g+XG4gICAgICAgICAgICAgICAgICB7YFxuICAgICAgICAgICAgYSB7XG4gICAgICAgICAgICAgIGNvbG9yOiAjMzQzNDM0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgKiB7XG4gICAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICN2aWRlby1wbGF5ZXIge1xuICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAjdmlkZW8tcGxheWVyIHZpZGVvIHtcbiAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgI3ZpZGVvLXBsYXllciAjdmlkZW8tY29udHJvbCB7XG4gICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgIGhlaWdodDogMzBweDtcbiAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCwgLTMwcHgpO1xuICAgICAgICAgICAgICB6LWluZGV4OiAyMTQ3NDgzNjQ3O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAjdmlkZW8tcGxheWVyICN2aWRlby1jb250cm9sIGkge1xuICAgICAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICN2aWRlby1wbGF5ZXIgI3ZpZGVvLWNvbnRyb2wgbGFiZWwge1xuICAgICAgICAgICAgICBjb2xvcjogIzAwYTJlODtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgI3ZpZGVvLXBsYXllciAjdmlkZW8tY29udHJvbCBidXR0b24ge1xuICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgICAgIHdpZHRoOiAzMHB4O1xuICAgICAgICAgICAgICBoZWlnaHQ6IDMwcHg7XG4gICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAjMDBhMmU4O1xuICAgICAgICAgICAgICB6LWluZGV4OiAyMTQ3NDgzNjQ3O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAjcGxheS1idXR0b24sXG4gICAgICAgICAgICAjcGF1c2UtYnV0dG9uIHtcbiAgICAgICAgICAgICAgZmxvYXQ6IGxlZnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICNzZWVrLWJhciB7XG4gICAgICAgICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSAxNTBweCk7XG4gICAgICAgICAgICAgIHBhZGRpbmctdG9wOiAxMHB4O1xuICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAuaW5wdXQtcmFuZ2Uge1xuICAgICAgICAgICAgICB3aWR0aDogMTAwcHggIWltcG9ydGFudDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgI3ZvbHVtZS1idXR0b24sXG4gICAgICAgICAgICAjZnVsbC1zY3JlZW4tYnV0dG9uIHtcbiAgICAgICAgICAgICAgZmxvYXQ6IHJpZ2h0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAjdm9sdW1lLWJhci1jb250YWluZXIge1xuICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICAgIHBhZGRpbmc6IDAgNXB4O1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNSk7XG4gICAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKC05MGRlZyk7XG4gICAgICAgICAgICAgIG1hcmdpbi1sZWZ0OiAyN3B4O1xuICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAtNjhweDtcbiAgICAgICAgICAgICAgb3BhY2l0eTogMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgI3ZvbHVtZS1iYXIge1xuICAgICAgICAgICAgICB3aWR0aDogOTBweDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgI3ZpZGVvLXBsYXllciAjdmlkZW8tY29udHJvbCAqIHtcbiAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWZsZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2aWRlbzo6LXdlYmtpdC1tZWRpYS1jb250cm9scyB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTpub25lICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZpZGVvOjotd2Via2l0LW1lZGlhLWNvbnRyb2xzLWVuY2xvc3VyZSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTpub25lICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgYH1cbiAgICAgICAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICAgICAgPC8+XG4gICAgICApO1xuICAgIH1cbn1cblZpZGVvUGxheWVyLnByb3BUeXBlcyA9IHtcbiAgdXJsOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBvbkhhbmRsZVdhdGNoZWRWaWRlbzogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbn07XG5leHBvcnQgZGVmYXVsdCBWaWRlb1BsYXllcjtcbiJdfQ== */\\n/*@ sourceURL=/Users/wolf/Documents/clearchoice/admin/feature-view-updated-course/clear-choice-admin/components/Student/LessonDetailAnswerSheet/components/VideoPlayer/index.js */\"));\n    }\n  }]);\n\n  return VideoPlayer;\n}(React.Component);\n\nVideoPlayer.propTypes = {\n  url: PropTypes.string,\n  onHandleWatchedVideo: PropTypes.func.isRequired\n};\nexport default VideoPlayer;","map":{"version":3,"sources":["/Users/wolf/Documents/clearchoice/admin/feature-view-updated-course/clear-choice-admin/components/Student/LessonDetailAnswerSheet/components/VideoPlayer/index.js"],"names":["React","PropTypes","Slider","VideoPlayer","props","volumeBar","video","volume","setState","duration","currentTime","play","pause","volumeUp","volumeOff","replay","ended","timeEndLabel","innerText","calcTime","time","min","Math","floor","sec","initPlayVideoState","timeStartLabel","reverseVideoPlayState","onHandleWatchedVideo","state","value","volumeBarContainer","style","opacity","fullscreen","document","exitFullscreen","videoWrap","requestFullscreen","e","currentTarget","x","toFixed","url","videoLoaded","moveSeek","handleVideoEnded","c","playButton","playVideo","pauseButton","pauseVideo","replayButton","replayVideo","label","marginRight","track","width","backgroundColor","active","thumb","height","handleChangeTimeSlider","marginLeft","showVolumeBar","changeVolume","fullScreen","hideVolumeBar","handleClickVolume","Component","propTypes","string","func","isRequired"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport PropTypes from \"prop-types\";\nimport Slider from \"react-input-slider\";\n\nclass VideoPlayer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      volume: 0,\n      currentTime: 0,\n      duration: 0,\n      play: true,\n      pause: false,\n      volumeUp: true,\n      volumeOff: false,\n      replay: false,\n      ended: false,\n      fullscreen: false,\n    };\n  }\n\n    videoLoaded = () => {\n      this.volumeBar = this.video.volume;\n      this.setState({\n        duration: this.video.duration,\n        currentTime: 0,\n        play: true,\n        pause: false,\n        volumeUp: true,\n        volumeOff: false,\n        replay: false,\n        ended: false,\n      });\n      this.timeEndLabel.innerText = this.calcTime(this.video.duration);\n    };\n\n    calcTime = time => {\n      const min = Math.floor(Math.floor(time) / 60);\n      const sec = Math.floor(time) % 60;\n      return `${min < 10 ? `0${min}` : min} : ${sec < 10 ? `0${sec}` : sec}`;\n    };\n\n    handleVideoEnded = () => {\n      this.initPlayVideoState();\n    }\n\n    moveSeek = () => {\n      this.setState({\n        currentTime: this.video.currentTime,\n      });\n      this.timeStartLabel.innerText = this.calcTime(this.video.currentTime);\n    };\n\n    playVideo = () => {\n      this.video.play();\n      this.reverseVideoPlayState();\n      const { onHandleWatchedVideo } = this.props;\n      onHandleWatchedVideo('STARTED');\n    };\n    reverseVideoPlayState = () => {\n      this.setState({\n        play: !this.state.play,\n        pause: !this.state.pause,\n      });\n    }\n    handleClickVolume = () => {\n      const { volumeUp, volumeOff } = this.state;\n      if (volumeUp) {\n        this.video.volume = 0;\n      } else {\n        this.video.volume = this.volumeBar.value;\n      }\n      this.setState({\n        volumeUp: !volumeUp,\n        volumeOff: !volumeOff,\n      });\n    }\n    pauseVideo = () => {\n      this.video.pause();\n      this.reverseVideoPlayState();\n      const { onHandleWatchedVideo } = this.props;\n      onHandleWatchedVideo('STOPPED');\n    };\n\n    showVolumeBar = () => {\n      this.volumeBarContainer.style.opacity = 1;\n    };\n\n    hideVolumeBar = () => {\n      this.volumeBarContainer.style.opacity = 0;\n    };\n\n    fullScreen = () => {\n      if (this.state.fullscreen) {\n        document.exitFullscreen();\n        this.setState({ fullscreen: false });\n      } else {\n        this.videoWrap.requestFullscreen();\n        this.setState({ fullscreen: true });\n      }\n    };\n\n    changeVolume = e => {\n      this.video.volume = e.currentTarget.value;\n    };\n\n    replayVideo = () => {\n      this.setState({\n        play: true,\n        pause: false,\n        replay: false,\n      });\n      this.video.currentTime = 0;\n    }\n    handleChangeTimeSlider = (x) => {\n      const { play } = this.state;\n      if (play && this.video.currentTime === parseFloat(this.state.duration.toFixed(2)) - 0.01) {\n        this.initPlayVideoState();\n      } else {\n        this.setState({ currentTime: parseFloat(x.toFixed(2)) });\n        this.video.currentTime = parseFloat(x.toFixed(2));\n      }\n    }\n\n    initPlayVideoState = () => {\n      this.setState({\n        replay: true,\n        play: false,\n        pause: false,\n        currentTime: 0,\n      });\n    }\n    render() {\n      const { url } = this.props;\n      const { pause, play, replay, volumeUp, volumeOff } = this.state;\n      return (\n            <>\n                <div\n                  id=\"video-player\"\n                  ref={\n                    videoWrap => {\n                      this.videoWrap = videoWrap;\n                    }\n                  }\n                >\n                  <video\n                    className=\"in-modal embed-responsive-item\"\n                    id=\"video-source\"\n                    ref={video => {\n                      this.video = video;\n                    }}\n                    src={url}\n                    preload=\"metadata\"\n                    playsInline\n                    onLoadedData={this.videoLoaded}\n                    onTimeUpdate={this.moveSeek}\n                    volume={this.state.volume}\n                    onEnded={this.handleVideoEnded}\n                  />\n                  <div id=\"video-control\">\n                    <If condition={play}>\n                      <button\n                        id=\"play-button\"\n                        name=\"play\"\n                        ref={c => (this.playButton = c)}\n                        onClick={this.playVideo}\n                      >\n                        <i className=\"material-icons\">play_arrow</i>\n                      </button>\n                    </If>\n                    <If condition={pause}>\n                      <button\n                        id=\"pause-button\"\n                        ref={c => (this.pauseButton = c)}\n                        onClick={this.pauseVideo}\n                      >\n                        <i className=\"material-icons\">pause</i>\n                      </button>\n                    </If>\n                    <If condition={replay}>\n                      <button\n                        id=\"replay-button\"\n                        name=\"replay\"\n                        ref={c => (this.replayButton = c)}\n                        onClick={this.replayVideo}\n                      >\n                        <i className=\"material-icons\">replay</i>\n                      </button>\n                    </If>\n\n                    <div id=\"seek-bar\">\n                      <label\n                        id=\"time-start-label\"\n                        ref={label => {\n                          this.timeStartLabel = label;\n                        }}\n                        style={{\n                          marginRight: '20px',\n                        }}\n                      >\n                                00 : 00\n                      </label>\n                      <Slider\n                        id=\"time-progress\"\n                        axis=\"x\"\n                        xmax={this.state.duration}\n                        x={this.state.currentTime}\n                        styles={{\n                          track: {\n                            width: '350px',\n                            backgroundColor: 'rgba(0,162,232,.25)',\n                          },\n                          active: {\n                            backgroundColor: '#00a2e8',\n                          },\n                          thumb: {\n                            width: 15,\n                            height: 15,\n                            backgroundColor: '#00a2e8',\n                          },\n                        }}\n                        xstep={0.01}\n                        onChange={({ x }) => this.handleChangeTimeSlider(x)}\n                      />\n                      <label\n                        id=\"time-end-label\"\n                        ref={label => {\n                          this.timeEndLabel = label;\n                        }}\n                        style={{\n                          marginLeft: '20px',\n                        }}\n                      >\n                                00 : 00\n                      </label>\n                    </div>\n                    <div\n                      id=\"volume-bar-container\"\n                      ref={c => (this.volumeBarContainer = c)}\n                      onMouseOver={this.showVolumeBar}\n                    >\n                      <input\n                        id=\"volume-bar\"\n                        name=\"volume\"\n                        ref={c => (this.volumeBar = c)}\n                        type=\"range\"\n                        min={0}\n                        max={1}\n                        step=\"0.01\"\n                        onChange={e => this.changeVolume(e)}\n                        defaultValue={0.5}\n                      />\n                    </div>\n                    <button\n                      id=\"full-screen-button\"\n                      onClick={this.fullScreen}\n                    >\n                      <i className=\"material-icons\">fullscreen</i>\n                    </button>\n                    <If condition={volumeUp}>\n                      <button\n                        id=\"volume-button\"\n                        onMouseOver={this.showVolumeBar}\n                        onMouseOut={this.hideVolumeBar}\n                        onClick={this.handleClickVolume}\n                      >\n                        <i className=\"material-icons\">volume_up</i>\n                      </button>\n                    </If>\n                    <If condition={volumeOff}>\n                      <button\n                        id=\"volume-button\"\n                        onMouseOver={this.showVolumeBar}\n                        onMouseOut={this.hideVolumeBar}\n                        onClick={this.handleClickVolume}\n                      >\n                        <i className=\"material-icons\">volume_off</i>\n                      </button>\n                    </If>\n                  </div>\n                </div>\n\n                <style jsx>\n                  {`\n            a {\n              color: #343434;\n            }\n            * {\n              outline: none;\n            }\n\n            #video-player {\n              position: relative;\n              width: 100%;\n            }\n\n            #video-player video {\n              position: relative;\n              width: 100%;\n            }\n\n            #video-player #video-control {\n              position: relative;\n              width: 100%;\n              height: 30px;\n              transform: translate(0, -30px);\n              z-index: 2147483647;\n            }\n\n            #video-player #video-control i {\n              color: white;\n            }\n\n            #video-player #video-control label {\n              color: #00a2e8;\n            }\n\n            #video-player #video-control button {\n              border: none;\n              width: 30px;\n              height: 30px;\n              justify-content: center;\n              background: #00a2e8;\n              z-index: 2147483647;\n            }\n\n            #play-button,\n            #pause-button {\n              float: left;\n            }\n\n            #seek-bar {\n              width: calc(100% - 150px);\n              padding-top: 10px;\n              text-align: center;\n              justify-content: center;\n            }\n\n            .input-range {\n              width: 100px !important;\n            }\n\n            #volume-button,\n            #full-screen-button {\n              float: right;\n            }\n\n            #volume-bar-container {\n              position: absolute;\n              padding: 0 5px;\n              background: rgba(0, 0, 0, 0.5);\n              transform: rotate(-90deg);\n              margin-left: 27px;\n              margin-top: -68px;\n              opacity: 0;\n            }\n\n            #volume-bar {\n              width: 90px;\n            }\n\n            #video-player #video-control * {\n              display: inline-flex;\n            }\n            video::-webkit-media-controls {\n                display:none !important;\n              }\n            video::-webkit-media-controls-enclosure {\n                display:none !important;\n            }\n          `}\n                </style>\n            </>\n      );\n    }\n}\nVideoPlayer.propTypes = {\n  url: PropTypes.string,\n  onHandleWatchedVideo: PropTypes.func.isRequired,\n};\nexport default VideoPlayer;\n"]},"metadata":{},"sourceType":"module"}