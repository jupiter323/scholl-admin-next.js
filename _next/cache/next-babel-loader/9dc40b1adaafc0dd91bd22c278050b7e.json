{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/wolf/Documents/clearchoice/admin/feature-view-updated-course/clear-choice-admin/components/Student/DetailLessonList/components/AssignLessonModal/index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport update from 'immutability-helper';\nimport moment from 'moment';\nimport Portal from '../../../../Portal';\nimport LessonListItem from './components/LessonListItem';\nimport { totalProblemsDescending, totalProblemsAscending, timeEstimate, timeEstimateAscending, subjectAscending, subjectDescending, passageAscending, passageDescending, lessonNameDescending, lessonNameAscending, statusDescending, statusAscending, flagsAscending, flagsDescending, lessonTypeAscending, lessonTypeDescending } from '../../../../utils/sortFunctions';\nimport ModalFilterSection from '../ModalFilterSection';\nimport AssignDatesModal from '../AssignDatesModal';\n\nvar AssignLessonModal =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AssignLessonModal, _React$Component);\n\n  function AssignLessonModal(props) {\n    var _this;\n\n    _classCallCheck(this, AssignLessonModal);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AssignLessonModal).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"onOpenDatesModal\", function () {\n      return _this.setState({\n        datesModalOpen: true\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onCloseDatesModal\", function () {\n      return _this.setState({\n        datesModalOpen: false\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onToggleChecked\", function () {\n      _this.setState({\n        checked: !_this.state.checked\n      }, function () {\n        return _this.onChecked();\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onClearFilters\", function () {\n      return _this.setState({\n        statusFilters: [],\n        subjectFilters: [],\n        lessonTypeFilters: [],\n        unitFilter: \"\",\n        nameFilter: \"\"\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSetSort\", function (sort) {\n      return _this.setState({\n        sort: sort\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSetFilteredState\", function (lesson) {\n      return _this.setState({\n        nameFilter: lesson\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onUnsetFilteredState\", function (filter) {\n      return _this.setState(_defineProperty({}, filter, \"\"));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSetUnitFilter\", function (unit) {\n      return _this.setState({\n        unitFilter: unit\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChecked\", function () {\n      var _this$state = _this.state,\n          checkedLessons = _this$state.checkedLessons,\n          checked = _this$state.checked;\n\n      if (checked) {\n        var mappedLessons = _this.getMappableLessons();\n\n        for (var i = 0; i < mappedLessons.length; i++) {\n          if (checkedLessons.indexOf(mappedLessons[i]) > -1) {\n            mappedLessons = mappedLessons.filter(function (lesson) {\n              return checkedLessons.indexOf(lesson) === -1;\n            });\n          }\n        }\n\n        _this.setState(function (prevState) {\n          var _prevState$checkedLes;\n\n          (_prevState$checkedLes = prevState.checkedLessons).push.apply(_prevState$checkedLes, _toConsumableArray(mappedLessons));\n        });\n      } else {\n        _this.setState({\n          checkedLessons: []\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSortLessons\", function (lessons) {\n      var sort = _this.state.sort;\n\n      switch (sort) {\n        case 'subjectAscending':\n          return lessons.sort(subjectAscending);\n\n        case 'subjectDescending':\n          return lessons.sort(subjectDescending);\n\n        case 'passageAscending':\n          return lessons.sort(passageAscending);\n\n        case 'passageDescending':\n          return lessons.sort(passageDescending);\n\n        case 'statusAscending':\n          return lessons.sort(statusAscending);\n\n        case 'statusDescending':\n          return lessons.sort(statusDescending);\n\n        case 'flagsAscending':\n          return lessons.sort(flagsAscending);\n\n        case 'flagsDescending':\n          return lessons.sort(flagsDescending);\n\n        case 'lessonNameAscending':\n          return lessons.sort(lessonNameAscending);\n\n        case 'lessonNameDescending':\n          return lessons.sort(lessonNameDescending);\n\n        case 'lessonTypeAscending':\n          return lessons.sort(lessonTypeAscending);\n\n        case 'lessonTypeDescending':\n          return lessons.sort(lessonTypeDescending);\n\n        case 'timeEstimateDescending':\n          return lessons.sort(timeEstimate);\n\n        case 'timeEstimateAscending':\n          return lessons.sort(timeEstimateAscending);\n\n        case 'totalProblemsDescending':\n          return lessons.sort(totalProblemsDescending);\n\n        case 'totalProblemsAscending':\n          return lessons.sort(totalProblemsAscending);\n\n        default:\n          break;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFilterByName\", function () {\n      var _this$state2 = _this.state,\n          lessons = _this$state2.lessons,\n          nameFilter = _this$state2.nameFilter;\n      return lessons.reduce(function (finalArr, currentLesson) {\n        var lessonName = currentLesson.lessonName;\n        var lessonString = lessonName.replace(/\\s/g, \"\").toLowerCase();\n\n        if (lessonString.indexOf(nameFilter) !== -1 && finalArr.indexOf(currentLesson) === -1) {\n          finalArr.push(currentLesson);\n        }\n\n        return finalArr;\n      }, []);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFilterLessons\", function () {\n      var _this$state3 = _this.state,\n          statusFilters = _this$state3.statusFilters,\n          subjectFilters = _this$state3.subjectFilters,\n          lessonTypeFilters = _this$state3.lessonTypeFilters,\n          unitFilter = _this$state3.unitFilter,\n          allLessons = _this$state3.lessons;\n      var lessons = allLessons;\n\n      if (statusFilters.length && statusFilters.indexOf('all') === -1) {\n        if (statusFilters.indexOf(\"Unassigned\") !== -1) {\n          lessons = lessons.filter(function (lesson) {\n            return statusFilters.indexOf(lesson.status) !== -1;\n          });\n        } else {\n          lessons = lessons.filter(function (lesson) {\n            return lesson.assigned === true;\n          });\n        }\n      }\n\n      if (subjectFilters.length && subjectFilters.indexOf('all') === -1) {\n        lessons = lessons.filter(function (lesson) {\n          return subjectFilters.indexOf(lesson.subject) !== -1;\n        });\n      }\n\n      if (lessonTypeFilters.length && lessonTypeFilters.indexOf('all') === -1) {\n        lessons = lessons.filter(function (lesson) {\n          return lessonTypeFilters.indexOf(lesson.type) !== -1;\n        });\n      }\n\n      if (unitFilter.length && unitFilter.indexOf('all') === -1) {\n        lessons = lessons.filter(function (lesson) {\n          return unitFilter.indexOf(lesson.unitNumber) !== -1;\n        });\n      }\n\n      return lessons;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onHandleDates\", function (assignDate, assignTime, dueDate, dueTime) {\n      var onAddUpdatedLessons = _this.props.onAddUpdatedLessons;\n      var updatedLessons = [];\n      var previousCheckedLessons = _this.state.checkedLessons;\n\n      for (var i = 0; i < previousCheckedLessons.length; i++) {\n        var updatedCheckedLessons = update(previousCheckedLessons[i], {\n          $merge: {\n            assigned: true,\n            dueDate: moment(dueDate).format('DD/MM/YYYY'),\n            dueTime: dueTime,\n            availableDate: moment(assignDate).format(\"DD/MM/YYYY\"),\n            status: \"Scheduled\",\n            assignTime: assignTime\n          }\n        });\n        updatedLessons.push(updatedCheckedLessons);\n      }\n\n      onAddUpdatedLessons(updatedLessons);\n\n      _this.props.onCloseModal();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setSortType\", function (name) {\n      var sort = _this.state.sort;\n\n      if (sort !== \"\".concat(name, \"Ascending\") && sort !== \"\".concat(name, \"Descending\")) {\n        _this.onSetSort(\"\".concat(name, \"Ascending\"));\n      }\n\n      if (sort === \"\".concat(name, \"Descending\")) {\n        _this.onSetSort(\"\".concat(name, \"Ascending\"));\n      } else {\n        _this.onSetSort(\"\".concat(name, \"Descending\"));\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getMappableLessons\", function () {\n      var _this$state4 = _this.state,\n          sort = _this$state4.sort,\n          unitFilter = _this$state4.unitFilter,\n          lessons = _this$state4.lessons,\n          statusFilters = _this$state4.statusFilters,\n          subjectFilters = _this$state4.subjectFilters,\n          lessonTypeFilters = _this$state4.lessonTypeFilters,\n          nameFilter = _this$state4.nameFilter;\n      var mappableLessons = lessons;\n\n      if (nameFilter.length) {\n        mappableLessons = _this.onFilterByName();\n      }\n\n      if (statusFilters.length || unitFilter.length || lessonTypeFilters.length || subjectFilters.length) {\n        mappableLessons = _this.onFilterLessons();\n      }\n\n      if (sort) {\n        return _this.onSortLessons(mappableLessons);\n      }\n\n      return mappableLessons;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleCheckbox\", function (selectedLesson) {\n      var checkedLessons = _this.state.checkedLessons;\n      var updatedLessonArray;\n\n      if (checkedLessons.indexOf(selectedLesson) > -1) {\n        updatedLessonArray = checkedLessons.filter(function (lesson) {\n          return lesson !== selectedLesson;\n        });\n      } else {\n        updatedLessonArray = [].concat(_toConsumableArray(checkedLessons), [selectedLesson]);\n      }\n\n      _this.setState({\n        checkedLessons: updatedLessonArray\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleFilterClick\", function (filterType, filter) {\n      var _this$state5 = _this.state,\n          currentSubjectFilters = _this$state5.subjectFilters,\n          currentStatusFilters = _this$state5.statusFilters,\n          currentLessonTypeFilters = _this$state5.lessonTypeFilters;\n      var modifiedFilterCurrentState;\n      var modifiedFilterName;\n      var modifiedFilterUpdatedState;\n\n      switch (filterType) {\n        case 'subject':\n          modifiedFilterCurrentState = currentSubjectFilters;\n          modifiedFilterName = 'subjectFilters';\n          break;\n\n        case 'status':\n          modifiedFilterCurrentState = currentStatusFilters;\n          modifiedFilterName = 'statusFilters';\n          break;\n\n        case 'lessonType':\n          modifiedFilterCurrentState = currentLessonTypeFilters;\n          modifiedFilterName = 'lessonTypeFilters';\n          break;\n\n        default:\n          break;\n      } // Decide whether we're adding or removing the selected filter\n\n\n      if (modifiedFilterCurrentState.indexOf(filter) === -1) {\n        modifiedFilterUpdatedState = update(modifiedFilterCurrentState, {\n          $push: [filter]\n        });\n      } else {\n        var filterIndex = modifiedFilterCurrentState.indexOf(filter);\n        modifiedFilterUpdatedState = update(modifiedFilterCurrentState, {\n          $splice: [[filterIndex, 1]]\n        });\n      }\n\n      _this.setState(_defineProperty({}, modifiedFilterName, modifiedFilterUpdatedState));\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"mapLessonListItem\", function () {\n      return _this.getMappableLessons().map(function (lesson, index) {\n        return __jsx(LessonListItem, {\n          lesson: lesson,\n          index: index,\n          selectAll: _this.state.checked,\n          key: lesson.id,\n          onSelectLesson: _this.onSelectLesson,\n          renderLessonIcon: _this.renderLessonIcon,\n          checkedLessons: _this.state.checkedLessons,\n          handleCheckbox: _this.handleCheckbox,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        });\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"renderTableHeader\", function () {\n      return __jsx(\"div\", {\n        className: \"list-table-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 246\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"list-table-cell icon-cell\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 247\n        },\n        __self: this\n      }, __jsx(\"label\", {\n        htmlFor: \"selectAll\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 248\n        },\n        __self: this\n      }, __jsx(\"input\", {\n        type: \"checkbox\",\n        id: \"selectAll\",\n        defaultChecked: _this.state.checked,\n        onChange: _this.onToggleChecked,\n        className: \"filled-in\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }), __jsx(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, __jsx(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256\n        },\n        __self: this\n      }, \"\\xA0\")))), __jsx(\"div\", {\n        className: \"list-table-cell icon-cell\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      }, \"\\xA0\"), __jsx(\"div\", {\n        className: \"list-table-cell name-cell\",\n        value: \"lessonName\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        href: \"#\",\n        onClick: function onClick() {\n          return _this.setSortType(\"lessonName\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, __jsx(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      }, \"Lesson\"))), __jsx(\"div\", {\n        className: \"list-table-cell name-cell\",\n        style: {\n          width: '100px',\n          paddingLeft: '237px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        href: \"#\",\n        onClick: function onClick() {\n          return _this.setSortType(\"status\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, __jsx(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, \"Status\"))), __jsx(\"div\", {\n        className: \"list-table-call completed-cell\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 266\n        },\n        __self: this\n      }, \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\"), __jsx(\"div\", {\n        className: \"list-table-cell type-cell\",\n        style: {\n          marginLeft: '30px',\n          paddingLeft: '58px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 267\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        href: \"#\",\n        onClick: function onClick() {\n          return _this.setSortType(\"subject\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, __jsx(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, \"Subject\"))), __jsx(\"div\", {\n        className: \"list-table-cell completed-cell\",\n        style: {\n          paddingLeft: '56px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        href: \"#\",\n        onClick: function onClick() {\n          return _this.setSortType(\"passage\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, __jsx(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, \"Page\"))), __jsx(\"div\", {\n        className: \"list-table-cell completed-cell\",\n        style: {\n          marginLeft: '30px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        href: \"#\",\n        onClick: function onClick() {\n          return _this.setSortType(\"timeEstimate\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, __jsx(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, \"Time Est\"))), __jsx(\"div\", {\n        className: \"list-table-cell type-cell\",\n        style: {\n          marginLeft: '13px',\n          paddingLeft: '-1px'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 276\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        href: \"#\",\n        onClick: function onClick() {\n          return _this.setSortType(\"totalProblems\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, __jsx(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 277\n        },\n        __self: this\n      }, \"Problems\"))), __jsx(\"div\", {\n        className: \"list-table-cell completed-cell\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 279\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        href: \"#\",\n        onClick: function onClick() {\n          return _this.setSortType(\"lessonType\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, __jsx(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280\n        },\n        __self: this\n      }, \"Type\"))), __jsx(\"div\", {\n        className: \"list-table-cell flags-cell\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }, __jsx(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282\n        },\n        __self: this\n      }, \"\\xA0\")), __jsx(\"div\", {\n        className: \"list-table-cell flags-cell\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }, __jsx(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 283\n        },\n        __self: this\n      }, \"\\xA0\")), __jsx(\"div\", {\n        className: \"list-table-cell flags-cell\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 284\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        href: \"#\",\n        onClick: function onClick() {\n          return _this.setSortType(\"alerts\");\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }, __jsx(\"b\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 285\n        },\n        __self: this\n      }, \"Flags\"))));\n    });\n\n    _this.state = {\n      lessons: _this.props.lessons,\n      statusFilters: [],\n      subjectFilters: [],\n      lessonTypeFilters: [],\n      sort: \"\",\n      nameFilter: \"\",\n      unitFilter: \"\",\n      checked: false,\n      checkedLessons: [],\n      datesModalOpen: false\n    };\n    return _this;\n  }\n\n  _createClass(AssignLessonModal, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state6 = this.state,\n          lessons = _this$state6.lessons,\n          subjectFilters = _this$state6.subjectFilters,\n          statusFilters = _this$state6.statusFilters,\n          lessonTypeFilters = _this$state6.lessonTypeFilters;\n      var _this$props = this.props,\n          open = _this$props.open,\n          onCloseModal = _this$props.onCloseModal;\n      return __jsx(Portal, {\n        selector: \"#modal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 295\n        },\n        __self: this\n      }, open && __jsx(\"div\", {\n        className: \"jsx-3810222716\" + \" \" + \"overlay\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 297\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        id: \"assign-lesson-modal\",\n        className: \"jsx-3810222716\" + \" \" + \"modal modal-custom\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 298\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-3810222716\" + \" \" + \"header-row card-panel light-blue lighten-1 white-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-3810222716\" + \" \" + \"card-panel-row row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 300\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-3810222716\" + \" \" + \"col s3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 301\n        },\n        __self: this\n      }, \"\\xA0\"), __jsx(\"div\", {\n        className: \"jsx-3810222716\" + \" \" + \"col s9 right-align\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 302\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-3810222716\" + \" \" + \"row icons-row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }, \" \", __jsx(\"span\", {\n        className: \"jsx-3810222716\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 303\n        },\n        __self: this\n      }, __jsx(\"a\", {\n        href: \"#\",\n        onClick: onCloseModal,\n        className: \"jsx-3810222716\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      }, __jsx(\"i\", {\n        className: \"jsx-3810222716\" + \" \" + \"icon-close\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 304\n        },\n        __self: this\n      })))))), __jsx(\"div\", {\n        className: \"jsx-3810222716\" + \" \" + \"card-panel-row row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 308\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-3810222716\" + \" \" + \"icon-col col s1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309\n        },\n        __self: this\n      }, __jsx(\"i\", {\n        className: \"jsx-3810222716\" + \" \" + \"icon-books\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 310\n        },\n        __self: this\n      })), __jsx(\"div\", {\n        className: \"jsx-3810222716\" + \" \" + \"col s9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-3810222716\" + \" \" + \"card-panel-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-3810222716\" + \" \" + \"text-large\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 314\n        },\n        __self: this\n      }, \"Assign Lessons\"))))), __jsx(\"div\", {\n        style: {\n          backgroundColor: '#f2f2f2'\n        },\n        className: \"jsx-3810222716\" + \" \" + \"content-section\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319\n        },\n        __self: this\n      }, __jsx(ModalFilterSection, {\n        handleFilterClick: this.handleFilterClick,\n        subjectFilters: subjectFilters,\n        statusFilters: statusFilters,\n        lessonTypeFilters: lessonTypeFilters,\n        onClearFilters: this.onClearFilters,\n        onSetFilteredState: this.onSetFilteredState,\n        onUnsetFilteredState: this.onUnsetFilteredState,\n        onSetSort: this.onSetSort,\n        onSetUnitFilter: this.onSetUnitFilter,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320\n        },\n        __self: this\n      }), __jsx(\"div\", {\n        style: {\n          marginTop: '50px'\n        },\n        className: \"jsx-3810222716\" + \" \" + \"container-md\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-3810222716\" + \" \" + \"result-row center-align\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 332\n        },\n        __self: this\n      }, __jsx(\"b\", {\n        className: \"jsx-3810222716\" + \" \" + \"result\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 333\n        },\n        __self: this\n      }, \" - \", lessons.length, \" Lessons\")), __jsx(\"div\", {\n        style: {\n          margin: '0 -160px'\n        },\n        className: \"jsx-3810222716\" + \" \" + \"list-view-section\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 335\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-3810222716\" + \" \" + \"list-table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 336\n        },\n        __self: this\n      }, __jsx(\"div\", {\n        className: \"jsx-3810222716\" + \" \" + \"list-table-header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337\n        },\n        __self: this\n      }, this.renderTableHeader()), __jsx(\"div\", {\n        className: \"jsx-3810222716\" + \" \" + \"list-table-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 340\n        },\n        __self: this\n      }, this.mapLessonListItem())))))), __jsx(AssignDatesModal, {\n        open: this.state.datesModalOpen,\n        onCloseDatesModal: this.onCloseDatesModal,\n        onHandleDates: this.onHandleDates,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348\n        },\n        __self: this\n      }), __jsx(\"a\", {\n        href: \"#\",\n        onClick: this.onOpenDatesModal,\n        className: \"jsx-3810222716\" + \" \" + \"waves-effect waves-teal btn add-btn modal-trigger\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353\n        },\n        __self: this\n      }, __jsx(\"i\", {\n        className: \"jsx-3810222716\" + \" \" + \"material-icons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353\n        },\n        __self: this\n      }, \"add\"), \"Assign Selected\")), __jsx(_JSXStyle, {\n        id: \"3810222716\",\n        __self: this\n      }, \".overlay.jsx-3810222716{position:fixed;background-color:rgba(0,0,0,0.7);top:0;right:0;bottom:0;left:0;z-index:999;}#assign-lesson-modal.jsx-3810222716{border-radius:6px;}.modal.jsx-3810222716{display:block;background-color:white;position:absolute;top:13%;right:0%;left:14%;box-shadow:0 24px 38px 3px rgba(0,0,0,0.14),0 9px 46px 8px rgba(0,0,0,0.12),0 11px 15px -7px rgba(0,0,0,0.2);}.modal-footer.jsx-3810222716{background-color:white;}.modal-custom.jsx-3810222716{opacity:1;visibility:visible;max-width:1280px !important;}#assign-lessons-header.jsx-3810222716{background:rgb(24,181,233) !important background:linear-gradient(90deg,rgba(24,181,233,1) 0%,rgba(8,107,140,1) 100%) !important;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy93b2xmL0RvY3VtZW50cy9jbGVhcmNob2ljZS9hZG1pbi9mZWF0dXJlLXZpZXctdXBkYXRlZC1jb3Vyc2UvY2xlYXItY2hvaWNlLWFkbWluL2NvbXBvbmVudHMvU3R1ZGVudC9EZXRhaWxMZXNzb25MaXN0L2NvbXBvbmVudHMvQXNzaWduTGVzc29uTW9kYWwvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBb1dXLEFBRzhCLEFBU0csQUFJSixBQVNTLEFBR2IsQUFNa0YsVUFMekUsSUFaSSxDQWJhLEdBVXRDLEtBWUEsTUFJOEIsUUFaVixXQWJaLE1BQ0UsQ0FhQSxFQVlWLEtBeEJXLENBYUEsUUFaRixDQWFFLE1BWkcsR0FhNEcsU0FaMUgsc0NBeUJBLDhEQVpBIiwiZmlsZSI6Ii9Vc2Vycy93b2xmL0RvY3VtZW50cy9jbGVhcmNob2ljZS9hZG1pbi9mZWF0dXJlLXZpZXctdXBkYXRlZC1jb3Vyc2UvY2xlYXItY2hvaWNlLWFkbWluL2NvbXBvbmVudHMvU3R1ZGVudC9EZXRhaWxMZXNzb25MaXN0L2NvbXBvbmVudHMvQXNzaWduTGVzc29uTW9kYWwvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB1cGRhdGUgZnJvbSAnaW1tdXRhYmlsaXR5LWhlbHBlcic7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgUG9ydGFsIGZyb20gJy4uLy4uLy4uLy4uL1BvcnRhbCc7XG5pbXBvcnQgTGVzc29uTGlzdEl0ZW0gZnJvbSAnLi9jb21wb25lbnRzL0xlc3Nvbkxpc3RJdGVtJztcbmltcG9ydCB7IHRvdGFsUHJvYmxlbXNEZXNjZW5kaW5nLCB0b3RhbFByb2JsZW1zQXNjZW5kaW5nLCB0aW1lRXN0aW1hdGUsIHRpbWVFc3RpbWF0ZUFzY2VuZGluZywgc3ViamVjdEFzY2VuZGluZywgc3ViamVjdERlc2NlbmRpbmcsIHBhc3NhZ2VBc2NlbmRpbmcsIHBhc3NhZ2VEZXNjZW5kaW5nLCBsZXNzb25OYW1lRGVzY2VuZGluZywgbGVzc29uTmFtZUFzY2VuZGluZywgc3RhdHVzRGVzY2VuZGluZywgc3RhdHVzQXNjZW5kaW5nLCBmbGFnc0FzY2VuZGluZywgZmxhZ3NEZXNjZW5kaW5nLCBsZXNzb25UeXBlQXNjZW5kaW5nLCBsZXNzb25UeXBlRGVzY2VuZGluZyB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWxzL3NvcnRGdW5jdGlvbnMnO1xuaW1wb3J0IE1vZGFsRmlsdGVyU2VjdGlvbiBmcm9tICcuLi9Nb2RhbEZpbHRlclNlY3Rpb24nO1xuaW1wb3J0IEFzc2lnbkRhdGVzTW9kYWwgZnJvbSAnLi4vQXNzaWduRGF0ZXNNb2RhbCc7XG5cbmNsYXNzIEFzc2lnbkxlc3Nvbk1vZGFsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGxlc3NvbnM6IHRoaXMucHJvcHMubGVzc29ucyxcbiAgICAgIHN0YXR1c0ZpbHRlcnM6IFtdLFxuICAgICAgc3ViamVjdEZpbHRlcnM6IFtdLFxuICAgICAgbGVzc29uVHlwZUZpbHRlcnM6IFtdLFxuICAgICAgc29ydDogXCJcIixcbiAgICAgIG5hbWVGaWx0ZXI6IFwiXCIsXG4gICAgICB1bml0RmlsdGVyOiBcIlwiLFxuICAgICAgY2hlY2tlZDogZmFsc2UsXG4gICAgICBjaGVja2VkTGVzc29uczogW10sXG4gICAgICBkYXRlc01vZGFsT3BlbjogZmFsc2UsXG4gICAgfTtcbiAgfVxuXG4gIG9uT3BlbkRhdGVzTW9kYWwgPSAoKSA9PiB0aGlzLnNldFN0YXRlKHsgZGF0ZXNNb2RhbE9wZW46IHRydWUgfSlcbiAgb25DbG9zZURhdGVzTW9kYWwgPSAoKSA9PiB0aGlzLnNldFN0YXRlKHsgZGF0ZXNNb2RhbE9wZW46IGZhbHNlIH0pXG4gIG9uVG9nZ2xlQ2hlY2tlZCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgY2hlY2tlZDogIXRoaXMuc3RhdGUuY2hlY2tlZCB9LCAoKSA9PiB0aGlzLm9uQ2hlY2tlZCgpKTtcbiAgfVxuICBvbkNsZWFyRmlsdGVycyA9ICgpID0+IHRoaXMuc2V0U3RhdGUoeyBzdGF0dXNGaWx0ZXJzOiBbXSwgc3ViamVjdEZpbHRlcnM6IFtdLCBsZXNzb25UeXBlRmlsdGVyczogW10sIHVuaXRGaWx0ZXI6IFwiXCIsIG5hbWVGaWx0ZXI6IFwiXCIgfSlcbiAgb25TZXRTb3J0ID0gKHNvcnQpID0+IHRoaXMuc2V0U3RhdGUoeyBzb3J0IH0pXG4gIG9uU2V0RmlsdGVyZWRTdGF0ZSA9IChsZXNzb24pID0+IHRoaXMuc2V0U3RhdGUoeyBuYW1lRmlsdGVyOiBsZXNzb24gfSlcbiAgb25VbnNldEZpbHRlcmVkU3RhdGUgPSAoZmlsdGVyKSA9PiB0aGlzLnNldFN0YXRlKHsgW2ZpbHRlcl06IFwiXCIgfSlcbiAgb25TZXRVbml0RmlsdGVyID0gKHVuaXQpID0+IHRoaXMuc2V0U3RhdGUoeyB1bml0RmlsdGVyOiB1bml0IH0pXG5cbiAgLy8gY2hlY2tzIGlmIFNlbGVjdEFsbCBjaGVja2JveCBpcyBjaGVja2VkIGFuZCBhZGRzIGxlc3NvbnMgb3IgZW1wdGllcyBjaGVja2VkTGVzc29ucyBhcnJheSBvbiB1bmNoZWNrXG4gIG9uQ2hlY2tlZCA9ICgpID0+IHtcbiAgICBjb25zdCB7IGNoZWNrZWRMZXNzb25zLCBjaGVja2VkIH0gPSB0aGlzLnN0YXRlO1xuICAgIGlmIChjaGVja2VkKSB7XG4gICAgICBsZXQgbWFwcGVkTGVzc29ucyA9IHRoaXMuZ2V0TWFwcGFibGVMZXNzb25zKCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hcHBlZExlc3NvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGNoZWNrZWRMZXNzb25zLmluZGV4T2YobWFwcGVkTGVzc29uc1tpXSkgPiAtMSkge1xuICAgICAgICAgIG1hcHBlZExlc3NvbnMgPSBtYXBwZWRMZXNzb25zLmZpbHRlcihsZXNzb24gPT4gY2hlY2tlZExlc3NvbnMuaW5kZXhPZihsZXNzb24pID09PSAtMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0U3RhdGUocHJldlN0YXRlID0+IHtcbiAgICAgICAgcHJldlN0YXRlLmNoZWNrZWRMZXNzb25zLnB1c2goLi4ubWFwcGVkTGVzc29ucyk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgKFxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgY2hlY2tlZExlc3NvbnM6IFtdIH0pXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBvblNvcnRMZXNzb25zID0gKGxlc3NvbnMpID0+IHtcbiAgICBjb25zdCB7IHNvcnQgfSA9IHRoaXMuc3RhdGU7XG4gICAgc3dpdGNoIChzb3J0KSB7XG4gICAgICBjYXNlICdzdWJqZWN0QXNjZW5kaW5nJzpcbiAgICAgICAgcmV0dXJuIGxlc3NvbnMuc29ydChzdWJqZWN0QXNjZW5kaW5nKTtcbiAgICAgIGNhc2UgJ3N1YmplY3REZXNjZW5kaW5nJzpcbiAgICAgICAgcmV0dXJuIGxlc3NvbnMuc29ydChzdWJqZWN0RGVzY2VuZGluZyk7XG4gICAgICBjYXNlICdwYXNzYWdlQXNjZW5kaW5nJzpcbiAgICAgICAgcmV0dXJuIGxlc3NvbnMuc29ydChwYXNzYWdlQXNjZW5kaW5nKTtcbiAgICAgIGNhc2UgJ3Bhc3NhZ2VEZXNjZW5kaW5nJzpcbiAgICAgICAgcmV0dXJuIGxlc3NvbnMuc29ydChwYXNzYWdlRGVzY2VuZGluZyk7XG4gICAgICBjYXNlICdzdGF0dXNBc2NlbmRpbmcnOlxuICAgICAgICByZXR1cm4gbGVzc29ucy5zb3J0KHN0YXR1c0FzY2VuZGluZyk7XG4gICAgICBjYXNlICdzdGF0dXNEZXNjZW5kaW5nJzpcbiAgICAgICAgcmV0dXJuIGxlc3NvbnMuc29ydChzdGF0dXNEZXNjZW5kaW5nKTtcbiAgICAgIGNhc2UgJ2ZsYWdzQXNjZW5kaW5nJzpcbiAgICAgICAgcmV0dXJuIGxlc3NvbnMuc29ydChmbGFnc0FzY2VuZGluZyk7XG4gICAgICBjYXNlICdmbGFnc0Rlc2NlbmRpbmcnOlxuICAgICAgICByZXR1cm4gbGVzc29ucy5zb3J0KGZsYWdzRGVzY2VuZGluZyk7XG4gICAgICBjYXNlICdsZXNzb25OYW1lQXNjZW5kaW5nJzpcbiAgICAgICAgcmV0dXJuIGxlc3NvbnMuc29ydChsZXNzb25OYW1lQXNjZW5kaW5nKTtcbiAgICAgIGNhc2UgJ2xlc3Nvbk5hbWVEZXNjZW5kaW5nJzpcbiAgICAgICAgcmV0dXJuIGxlc3NvbnMuc29ydChsZXNzb25OYW1lRGVzY2VuZGluZyk7XG4gICAgICBjYXNlICdsZXNzb25UeXBlQXNjZW5kaW5nJzpcbiAgICAgICAgcmV0dXJuIGxlc3NvbnMuc29ydChsZXNzb25UeXBlQXNjZW5kaW5nKTtcbiAgICAgIGNhc2UgJ2xlc3NvblR5cGVEZXNjZW5kaW5nJzpcbiAgICAgICAgcmV0dXJuIGxlc3NvbnMuc29ydChsZXNzb25UeXBlRGVzY2VuZGluZyk7XG4gICAgICBjYXNlICd0aW1lRXN0aW1hdGVEZXNjZW5kaW5nJzpcbiAgICAgICAgcmV0dXJuIGxlc3NvbnMuc29ydCh0aW1lRXN0aW1hdGUpO1xuICAgICAgY2FzZSAndGltZUVzdGltYXRlQXNjZW5kaW5nJzpcbiAgICAgICAgcmV0dXJuIGxlc3NvbnMuc29ydCh0aW1lRXN0aW1hdGVBc2NlbmRpbmcpO1xuICAgICAgY2FzZSAndG90YWxQcm9ibGVtc0Rlc2NlbmRpbmcnOlxuICAgICAgICByZXR1cm4gbGVzc29ucy5zb3J0KHRvdGFsUHJvYmxlbXNEZXNjZW5kaW5nKTtcbiAgICAgIGNhc2UgJ3RvdGFsUHJvYmxlbXNBc2NlbmRpbmcnOlxuICAgICAgICByZXR1cm4gbGVzc29ucy5zb3J0KHRvdGFsUHJvYmxlbXNBc2NlbmRpbmcpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgb25GaWx0ZXJCeU5hbWUgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBsZXNzb25zLCBuYW1lRmlsdGVyIH0gPSB0aGlzLnN0YXRlO1xuICAgIHJldHVybiBsZXNzb25zLnJlZHVjZSgoZmluYWxBcnIsIGN1cnJlbnRMZXNzb24pID0+IHtcbiAgICAgIGNvbnN0IHsgbGVzc29uTmFtZSB9ID0gY3VycmVudExlc3NvbjtcbiAgICAgIGNvbnN0IGxlc3NvblN0cmluZyA9IGxlc3Nvbk5hbWUucmVwbGFjZSgvXFxzL2csIFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAobGVzc29uU3RyaW5nLmluZGV4T2YobmFtZUZpbHRlcikgIT09IC0xICYmIGZpbmFsQXJyLmluZGV4T2YoY3VycmVudExlc3NvbikgPT09IC0xKSB7XG4gICAgICAgIGZpbmFsQXJyLnB1c2goY3VycmVudExlc3Nvbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmluYWxBcnI7XG4gICAgfSwgW10pO1xuICB9XG5cbiAgb25GaWx0ZXJMZXNzb25zID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgc3RhdHVzRmlsdGVycywgc3ViamVjdEZpbHRlcnMsIGxlc3NvblR5cGVGaWx0ZXJzLCB1bml0RmlsdGVyLCBsZXNzb25zOiBhbGxMZXNzb25zIH0gPSB0aGlzLnN0YXRlO1xuICAgIGxldCBsZXNzb25zID0gYWxsTGVzc29ucztcbiAgICBpZiAoc3RhdHVzRmlsdGVycy5sZW5ndGggJiYgc3RhdHVzRmlsdGVycy5pbmRleE9mKCdhbGwnKSA9PT0gLTEpIHtcbiAgICAgIGlmIChzdGF0dXNGaWx0ZXJzLmluZGV4T2YoXCJVbmFzc2lnbmVkXCIpICE9PSAtMSkge1xuICAgICAgICBsZXNzb25zID0gbGVzc29ucy5maWx0ZXIobGVzc29uID0+IHN0YXR1c0ZpbHRlcnMuaW5kZXhPZihsZXNzb24uc3RhdHVzKSAhPT0gLTEpO1xuICAgICAgfSBlbHNlIHsgbGVzc29ucyA9IGxlc3NvbnMuZmlsdGVyKGxlc3NvbiA9PiBsZXNzb24uYXNzaWduZWQgPT09IHRydWUpOyB9XG4gICAgfVxuICAgIGlmIChzdWJqZWN0RmlsdGVycy5sZW5ndGggJiYgc3ViamVjdEZpbHRlcnMuaW5kZXhPZignYWxsJykgPT09IC0xKSB7XG4gICAgICBsZXNzb25zID0gbGVzc29ucy5maWx0ZXIobGVzc29uID0+IHN1YmplY3RGaWx0ZXJzLmluZGV4T2YobGVzc29uLnN1YmplY3QpICE9PSAtMSk7XG4gICAgfVxuICAgIGlmIChsZXNzb25UeXBlRmlsdGVycy5sZW5ndGggJiYgbGVzc29uVHlwZUZpbHRlcnMuaW5kZXhPZignYWxsJykgPT09IC0xKSB7XG4gICAgICBsZXNzb25zID0gbGVzc29ucy5maWx0ZXIobGVzc29uID0+IGxlc3NvblR5cGVGaWx0ZXJzLmluZGV4T2YobGVzc29uLnR5cGUpICE9PSAtMSk7XG4gICAgfVxuICAgIGlmICh1bml0RmlsdGVyLmxlbmd0aCAmJiB1bml0RmlsdGVyLmluZGV4T2YoJ2FsbCcpID09PSAtMSkge1xuICAgICAgbGVzc29ucyA9IGxlc3NvbnMuZmlsdGVyKGxlc3NvbiA9PiB1bml0RmlsdGVyLmluZGV4T2YobGVzc29uLnVuaXROdW1iZXIpICE9PSAtMSk7XG4gICAgfVxuICAgIHJldHVybiBsZXNzb25zO1xuICB9XG5cbiAgLy8gVE9ETzogYWRkIHRvYXN0IHZlcmlmeWluZyBsZXNzb25zIHdlcmUgYXNzaWduZWRcbiAgLy8gdGFrZXMgaW5wdXQgZnJvbSB0aGUgYXNzaWduIHNlbGVjdGVkIGxlc3NvbnMgbW9kYWwgYW5kIHVwZGF0ZXMgdGhlIHVwZGF0ZWRMZXNzb25zIGFycmF5IGluIHBhcmVudFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgb25IYW5kbGVEYXRlcyA9IChhc3NpZ25EYXRlLCBhc3NpZ25UaW1lLCBkdWVEYXRlLCBkdWVUaW1lKSA9PiB7XG4gICAgY29uc3QgeyBvbkFkZFVwZGF0ZWRMZXNzb25zIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHVwZGF0ZWRMZXNzb25zID0gW107XG4gICAgY29uc3QgeyBjaGVja2VkTGVzc29uczogcHJldmlvdXNDaGVja2VkTGVzc29ucyB9ID0gdGhpcy5zdGF0ZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByZXZpb3VzQ2hlY2tlZExlc3NvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHVwZGF0ZWRDaGVja2VkTGVzc29ucyA9IHVwZGF0ZShwcmV2aW91c0NoZWNrZWRMZXNzb25zW2ldLCB7XG4gICAgICAgICRtZXJnZToge1xuICAgICAgICAgIGFzc2lnbmVkOiB0cnVlLFxuICAgICAgICAgIGR1ZURhdGU6IG1vbWVudChkdWVEYXRlKS5mb3JtYXQoJ0REL01NL1lZWVknKSxcbiAgICAgICAgICBkdWVUaW1lLFxuICAgICAgICAgIGF2YWlsYWJsZURhdGU6IG1vbWVudChhc3NpZ25EYXRlKS5mb3JtYXQoXCJERC9NTS9ZWVlZXCIpLFxuICAgICAgICAgIHN0YXR1czogXCJTY2hlZHVsZWRcIixcbiAgICAgICAgICBhc3NpZ25UaW1lLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgICk7XG4gICAgICB1cGRhdGVkTGVzc29ucy5wdXNoKHVwZGF0ZWRDaGVja2VkTGVzc29ucyk7XG4gICAgfVxuICAgIG9uQWRkVXBkYXRlZExlc3NvbnModXBkYXRlZExlc3NvbnMpO1xuICAgIHRoaXMucHJvcHMub25DbG9zZU1vZGFsKCk7XG4gIH07XG5cbiAgc2V0U29ydFR5cGUgPSAobmFtZSkgPT4ge1xuICAgIGNvbnN0IHsgc29ydCB9ID0gdGhpcy5zdGF0ZTtcbiAgICBpZiAoc29ydCAhPT0gYCR7bmFtZX1Bc2NlbmRpbmdgICYmIHNvcnQgIT09IGAke25hbWV9RGVzY2VuZGluZ2ApIHtcbiAgICAgIHRoaXMub25TZXRTb3J0KGAke25hbWV9QXNjZW5kaW5nYCk7XG4gICAgfVxuICAgIGlmIChzb3J0ID09PSBgJHtuYW1lfURlc2NlbmRpbmdgKSB7XG4gICAgICB0aGlzLm9uU2V0U29ydChgJHtuYW1lfUFzY2VuZGluZ2ApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9uU2V0U29ydChgJHtuYW1lfURlc2NlbmRpbmdgKTtcbiAgICB9XG4gIH1cblxuICBnZXRNYXBwYWJsZUxlc3NvbnMgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBzb3J0LCB1bml0RmlsdGVyLCBsZXNzb25zLCBzdGF0dXNGaWx0ZXJzLCBzdWJqZWN0RmlsdGVycywgbGVzc29uVHlwZUZpbHRlcnMsIG5hbWVGaWx0ZXIgfSA9IHRoaXMuc3RhdGU7XG4gICAgbGV0IG1hcHBhYmxlTGVzc29ucyA9IGxlc3NvbnM7XG4gICAgaWYgKG5hbWVGaWx0ZXIubGVuZ3RoKSB7XG4gICAgICBtYXBwYWJsZUxlc3NvbnMgPSB0aGlzLm9uRmlsdGVyQnlOYW1lKCk7XG4gICAgfVxuICAgIGlmIChzdGF0dXNGaWx0ZXJzLmxlbmd0aCB8fCB1bml0RmlsdGVyLmxlbmd0aCB8fCBsZXNzb25UeXBlRmlsdGVycy5sZW5ndGggfHwgc3ViamVjdEZpbHRlcnMubGVuZ3RoKSB7XG4gICAgICBtYXBwYWJsZUxlc3NvbnMgPSB0aGlzLm9uRmlsdGVyTGVzc29ucygpO1xuICAgIH1cbiAgICBpZiAoc29ydCkge1xuICAgICAgcmV0dXJuIHRoaXMub25Tb3J0TGVzc29ucyhtYXBwYWJsZUxlc3NvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gbWFwcGFibGVMZXNzb25zO1xuICB9XG5cblxuICBoYW5kbGVDaGVja2JveCA9IChzZWxlY3RlZExlc3NvbikgPT4ge1xuICAgIGNvbnN0IHsgY2hlY2tlZExlc3NvbnMgfSA9IHRoaXMuc3RhdGU7XG4gICAgbGV0IHVwZGF0ZWRMZXNzb25BcnJheTtcbiAgICBpZiAoY2hlY2tlZExlc3NvbnMuaW5kZXhPZihzZWxlY3RlZExlc3NvbikgPiAtMSkge1xuICAgICAgdXBkYXRlZExlc3NvbkFycmF5ID0gY2hlY2tlZExlc3NvbnMuZmlsdGVyKGxlc3NvbiA9PiBsZXNzb24gIT09IHNlbGVjdGVkTGVzc29uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXBkYXRlZExlc3NvbkFycmF5ID0gWy4uLmNoZWNrZWRMZXNzb25zLCBzZWxlY3RlZExlc3Nvbl07XG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoeyBjaGVja2VkTGVzc29uczogdXBkYXRlZExlc3NvbkFycmF5IH0pO1xuICB9XG5cblxuICBoYW5kbGVGaWx0ZXJDbGljayA9IChmaWx0ZXJUeXBlLCBmaWx0ZXIpID0+IHtcbiAgICBjb25zdCB7IHN1YmplY3RGaWx0ZXJzOiBjdXJyZW50U3ViamVjdEZpbHRlcnMsIHN0YXR1c0ZpbHRlcnM6IGN1cnJlbnRTdGF0dXNGaWx0ZXJzLCBsZXNzb25UeXBlRmlsdGVyczogY3VycmVudExlc3NvblR5cGVGaWx0ZXJzIH0gPSB0aGlzLnN0YXRlO1xuICAgIGxldCBtb2RpZmllZEZpbHRlckN1cnJlbnRTdGF0ZTtcbiAgICBsZXQgbW9kaWZpZWRGaWx0ZXJOYW1lO1xuICAgIGxldCBtb2RpZmllZEZpbHRlclVwZGF0ZWRTdGF0ZTtcbiAgICBzd2l0Y2ggKGZpbHRlclR5cGUpIHtcbiAgICAgIGNhc2UgJ3N1YmplY3QnOlxuICAgICAgICBtb2RpZmllZEZpbHRlckN1cnJlbnRTdGF0ZSA9IGN1cnJlbnRTdWJqZWN0RmlsdGVycztcbiAgICAgICAgbW9kaWZpZWRGaWx0ZXJOYW1lID0gJ3N1YmplY3RGaWx0ZXJzJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzdGF0dXMnOlxuICAgICAgICBtb2RpZmllZEZpbHRlckN1cnJlbnRTdGF0ZSA9IGN1cnJlbnRTdGF0dXNGaWx0ZXJzO1xuICAgICAgICBtb2RpZmllZEZpbHRlck5hbWUgPSAnc3RhdHVzRmlsdGVycyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbGVzc29uVHlwZSc6XG4gICAgICAgIG1vZGlmaWVkRmlsdGVyQ3VycmVudFN0YXRlID0gY3VycmVudExlc3NvblR5cGVGaWx0ZXJzO1xuICAgICAgICBtb2RpZmllZEZpbHRlck5hbWUgPSAnbGVzc29uVHlwZUZpbHRlcnMnO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvLyBEZWNpZGUgd2hldGhlciB3ZSdyZSBhZGRpbmcgb3IgcmVtb3ZpbmcgdGhlIHNlbGVjdGVkIGZpbHRlclxuICAgIGlmIChtb2RpZmllZEZpbHRlckN1cnJlbnRTdGF0ZS5pbmRleE9mKGZpbHRlcikgPT09IC0xKSB7XG4gICAgICBtb2RpZmllZEZpbHRlclVwZGF0ZWRTdGF0ZSA9IHVwZGF0ZShtb2RpZmllZEZpbHRlckN1cnJlbnRTdGF0ZSwge1xuICAgICAgICAkcHVzaDogW2ZpbHRlcl0sXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZmlsdGVySW5kZXggPSBtb2RpZmllZEZpbHRlckN1cnJlbnRTdGF0ZS5pbmRleE9mKGZpbHRlcik7XG4gICAgICBtb2RpZmllZEZpbHRlclVwZGF0ZWRTdGF0ZSA9IHVwZGF0ZShtb2RpZmllZEZpbHRlckN1cnJlbnRTdGF0ZSwge1xuICAgICAgICAkc3BsaWNlOiBbW2ZpbHRlckluZGV4LCAxXV0sXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7IFttb2RpZmllZEZpbHRlck5hbWVdOiBtb2RpZmllZEZpbHRlclVwZGF0ZWRTdGF0ZSB9KTtcbiAgfVxuXG4gIG1hcExlc3Nvbkxpc3RJdGVtID0gKCkgPT4gdGhpcy5nZXRNYXBwYWJsZUxlc3NvbnMoKS5tYXAoKGxlc3NvbiwgaW5kZXgpID0+XG4gICAgKDxMZXNzb25MaXN0SXRlbVxuICAgICAgbGVzc29uPXtsZXNzb259XG4gICAgICBpbmRleD17aW5kZXh9XG4gICAgICBzZWxlY3RBbGw9e3RoaXMuc3RhdGUuY2hlY2tlZH1cbiAgICAgIGtleT17bGVzc29uLmlkfVxuICAgICAgb25TZWxlY3RMZXNzb249e3RoaXMub25TZWxlY3RMZXNzb259XG4gICAgICByZW5kZXJMZXNzb25JY29uPXt0aGlzLnJlbmRlckxlc3Nvbkljb259XG4gICAgICBjaGVja2VkTGVzc29ucz17dGhpcy5zdGF0ZS5jaGVja2VkTGVzc29uc31cbiAgICAgIGhhbmRsZUNoZWNrYm94PXt0aGlzLmhhbmRsZUNoZWNrYm94fVxuICAgIC8+KVxuICApXG5cbiAgcmVuZGVyVGFibGVIZWFkZXIgPSAoKSA9PiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJsaXN0LXRhYmxlLXJvd1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaXN0LXRhYmxlLWNlbGwgaWNvbi1jZWxsXCI+XG4gICAgICAgIDxsYWJlbCBodG1sRm9yPVwic2VsZWN0QWxsXCI+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgaWQ9XCJzZWxlY3RBbGxcIlxuICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e3RoaXMuc3RhdGUuY2hlY2tlZH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uVG9nZ2xlQ2hlY2tlZH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZpbGxlZC1pblwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICA8c3Bhbj48Yj4mbmJzcDs8L2I+PC9zcGFuPlxuICAgICAgICA8L2xhYmVsPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpc3QtdGFibGUtY2VsbCBpY29uLWNlbGxcIj4mbmJzcDs8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC10YWJsZS1jZWxsIG5hbWUtY2VsbFwiIHZhbHVlPVwibGVzc29uTmFtZVwiPlxuICAgICAgICA8YSBocmVmPVwiI1wiIG9uQ2xpY2s9eygpID0+IHRoaXMuc2V0U29ydFR5cGUoXCJsZXNzb25OYW1lXCIpfT48Yj5MZXNzb248L2I+PC9hPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpc3QtdGFibGUtY2VsbCBuYW1lLWNlbGxcIiBzdHlsZT17eyB3aWR0aDogJzEwMHB4JywgcGFkZGluZ0xlZnQ6ICcyMzdweCcgfX0+XG4gICAgICAgIDxhIGhyZWY9XCIjXCIgb25DbGljaz17KCkgPT4gdGhpcy5zZXRTb3J0VHlwZShcInN0YXR1c1wiKX0+PGI+U3RhdHVzPC9iPjwvYT5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaXN0LXRhYmxlLWNhbGwgY29tcGxldGVkLWNlbGxcIj4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDs8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC10YWJsZS1jZWxsIHR5cGUtY2VsbFwiIHN0eWxlPXt7IG1hcmdpbkxlZnQ6ICczMHB4JywgcGFkZGluZ0xlZnQ6ICc1OHB4JyB9fT5cbiAgICAgICAgPGEgaHJlZj1cIiNcIiBvbkNsaWNrPXsoKSA9PiB0aGlzLnNldFNvcnRUeXBlKFwic3ViamVjdFwiKX0+PGI+U3ViamVjdDwvYj48L2E+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC10YWJsZS1jZWxsIGNvbXBsZXRlZC1jZWxsXCIgc3R5bGU9e3sgcGFkZGluZ0xlZnQ6ICc1NnB4JyB9fT5cbiAgICAgICAgPGEgaHJlZj1cIiNcIiBvbkNsaWNrPXsoKSA9PiB0aGlzLnNldFNvcnRUeXBlKFwicGFzc2FnZVwiKX0+PGI+UGFnZTwvYj48L2E+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC10YWJsZS1jZWxsIGNvbXBsZXRlZC1jZWxsXCIgc3R5bGU9e3sgbWFyZ2luTGVmdDogJzMwcHgnIH19PlxuICAgICAgICA8YSBocmVmPVwiI1wiIG9uQ2xpY2s9eygpID0+IHRoaXMuc2V0U29ydFR5cGUoXCJ0aW1lRXN0aW1hdGVcIil9PjxiPlRpbWUgRXN0PC9iPjwvYT5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaXN0LXRhYmxlLWNlbGwgdHlwZS1jZWxsXCIgc3R5bGU9e3sgbWFyZ2luTGVmdDogJzEzcHgnLCBwYWRkaW5nTGVmdDogJy0xcHgnIH19PlxuICAgICAgICA8YSBocmVmPVwiI1wiIG9uQ2xpY2s9eygpID0+IHRoaXMuc2V0U29ydFR5cGUoXCJ0b3RhbFByb2JsZW1zXCIpfT48Yj5Qcm9ibGVtczwvYj48L2E+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC10YWJsZS1jZWxsIGNvbXBsZXRlZC1jZWxsXCI+XG4gICAgICAgIDxhIGhyZWY9XCIjXCIgb25DbGljaz17KCkgPT4gdGhpcy5zZXRTb3J0VHlwZShcImxlc3NvblR5cGVcIil9PjxiPlR5cGU8L2I+PC9hPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpc3QtdGFibGUtY2VsbCBmbGFncy1jZWxsXCI+PGI+Jm5ic3A7PC9iPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaXN0LXRhYmxlLWNlbGwgZmxhZ3MtY2VsbFwiPjxiPiZuYnNwOzwvYj48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC10YWJsZS1jZWxsIGZsYWdzLWNlbGxcIj5cbiAgICAgICAgPGEgaHJlZj1cIiNcIiBvbkNsaWNrPXsoKSA9PiB0aGlzLnNldFNvcnRUeXBlKFwiYWxlcnRzXCIpfT48Yj5GbGFnczwvYj48L2E+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxuXG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgbGVzc29ucywgc3ViamVjdEZpbHRlcnMsIHN0YXR1c0ZpbHRlcnMsIGxlc3NvblR5cGVGaWx0ZXJzIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHsgb3Blbiwgb25DbG9zZU1vZGFsIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAoXG4gICAgICA8UG9ydGFsIHNlbGVjdG9yPVwiI21vZGFsXCI+XG4gICAgICAgIHtvcGVuICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm92ZXJsYXlcIj5cbiAgICAgICAgICAgIDxkaXYgaWQ9XCJhc3NpZ24tbGVzc29uLW1vZGFsXCIgY2xhc3NOYW1lPVwibW9kYWwgbW9kYWwtY3VzdG9tXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyLXJvdyBjYXJkLXBhbmVsIGxpZ2h0LWJsdWUgbGlnaHRlbi0xIHdoaXRlLXRleHRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtcGFuZWwtcm93IHJvd1wiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wgczNcIj4mbmJzcDs8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sIHM5IHJpZ2h0LWFsaWduXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IGljb25zLXJvd1wiPiA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIG9uQ2xpY2s9e29uQ2xvc2VNb2RhbH0+PGkgY2xhc3NOYW1lPVwiaWNvbi1jbG9zZVwiPjwvaT48L2E+XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1wYW5lbC1yb3cgcm93XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImljb24tY29sIGNvbCBzMVwiPlxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJpY29uLWJvb2tzXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbCBzOVwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtcGFuZWwtdGV4dFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sYXJnZVwiPkFzc2lnbiBMZXNzb25zPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRlbnQtc2VjdGlvblwiIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogJyNmMmYyZjInIH19PlxuICAgICAgICAgICAgICAgIDxNb2RhbEZpbHRlclNlY3Rpb25cbiAgICAgICAgICAgICAgICAgIGhhbmRsZUZpbHRlckNsaWNrPXt0aGlzLmhhbmRsZUZpbHRlckNsaWNrfVxuICAgICAgICAgICAgICAgICAgc3ViamVjdEZpbHRlcnM9e3N1YmplY3RGaWx0ZXJzfVxuICAgICAgICAgICAgICAgICAgc3RhdHVzRmlsdGVycz17c3RhdHVzRmlsdGVyc31cbiAgICAgICAgICAgICAgICAgIGxlc3NvblR5cGVGaWx0ZXJzPXtsZXNzb25UeXBlRmlsdGVyc31cbiAgICAgICAgICAgICAgICAgIG9uQ2xlYXJGaWx0ZXJzPXt0aGlzLm9uQ2xlYXJGaWx0ZXJzfVxuICAgICAgICAgICAgICAgICAgb25TZXRGaWx0ZXJlZFN0YXRlPXt0aGlzLm9uU2V0RmlsdGVyZWRTdGF0ZX1cbiAgICAgICAgICAgICAgICAgIG9uVW5zZXRGaWx0ZXJlZFN0YXRlPXt0aGlzLm9uVW5zZXRGaWx0ZXJlZFN0YXRlfVxuICAgICAgICAgICAgICAgICAgb25TZXRTb3J0PXt0aGlzLm9uU2V0U29ydH1cbiAgICAgICAgICAgICAgICAgIG9uU2V0VW5pdEZpbHRlcj17dGhpcy5vblNldFVuaXRGaWx0ZXJ9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lci1tZFwiIHN0eWxlPXt7IG1hcmdpblRvcDogJzUwcHgnIH19PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZXN1bHQtcm93IGNlbnRlci1hbGlnblwiPlxuICAgICAgICAgICAgICAgICAgICA8YiBjbGFzc05hbWU9XCJyZXN1bHRcIj4gLSB7bGVzc29ucy5sZW5ndGh9IExlc3NvbnM8L2I+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC12aWV3LXNlY3Rpb25cIiBzdHlsZT17eyBtYXJnaW46ICcwIC0xNjBweCcgfX0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC10YWJsZVwiID5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpc3QtdGFibGUtaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJUYWJsZUhlYWRlcigpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC10YWJsZS1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5tYXBMZXNzb25MaXN0SXRlbSgpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPEFzc2lnbkRhdGVzTW9kYWxcbiAgICAgICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5kYXRlc01vZGFsT3Blbn1cbiAgICAgICAgICAgICAgb25DbG9zZURhdGVzTW9kYWw9e3RoaXMub25DbG9zZURhdGVzTW9kYWx9XG4gICAgICAgICAgICAgIG9uSGFuZGxlRGF0ZXM9e3RoaXMub25IYW5kbGVEYXRlc31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8YSBocmVmPVwiI1wiIG9uQ2xpY2s9e3RoaXMub25PcGVuRGF0ZXNNb2RhbH0gY2xhc3NOYW1lPVwid2F2ZXMtZWZmZWN0IHdhdmVzLXRlYWwgYnRuIGFkZC1idG4gbW9kYWwtdHJpZ2dlclwiPjxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25zXCI+YWRkPC9pPkFzc2lnbiBTZWxlY3RlZDwvYT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICB7YFxuICAgICAgICAgICAgLm92ZXJsYXkge1xuICAgICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC43KTtcbiAgICAgICAgICAgICAgdG9wOiAwO1xuICAgICAgICAgICAgICByaWdodDogMDtcbiAgICAgICAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgICAgICB6LWluZGV4OiA5OTk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAjYXNzaWduLWxlc3Nvbi1tb2RhbCB7XG4gICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAubW9kYWwge1xuICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgICAgdG9wOiAxMyU7XG4gICAgICAgICAgICAgIHJpZ2h0OiAwJTtcbiAgICAgICAgICAgICAgbGVmdDogMTQlO1xuICAgICAgICAgICAgICBib3gtc2hhZG93OiAwIDI0cHggMzhweCAzcHggcmdiYSgwLCAwLCAwLCAwLjE0KSwgMCA5cHggNDZweCA4cHggcmdiYSgwLCAwLCAwLCAwLjEyKSwgMCAxMXB4IDE1cHggLTdweCByZ2JhKDAsIDAsIDAsIDAuMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAubW9kYWwtZm9vdGVyIHtcbiAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAubW9kYWwtY3VzdG9tIHtcbiAgICAgICAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgICAgICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcbiAgICAgICAgICAgICAgbWF4LXdpZHRoOiAxMjgwcHggIWltcG9ydGFudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICNhc3NpZ24tbGVzc29ucy1oZWFkZXIge1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2IoMjQsMTgxLDIzMykgIWltcG9ydGFudFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsIHJnYmEoMjQsMTgxLDIzMywxKSAwJSwgcmdiYSg4LDEwNywxNDAsMSkgMTAwJSkgIWltcG9ydGFudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgIGB9XG4gICAgICAgIDwvc3R5bGU+XG4gICAgICA8L1BvcnRhbD5cbiAgICApO1xuICB9XG59XG5cbkFzc2lnbkxlc3Nvbk1vZGFsLnByb3BUeXBlcyA9IHtcbiAgbGVzc29uczogUHJvcFR5cGVzLmFycmF5LmlzUmVxdWlyZWQsXG4gIG9wZW46IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIG9uQ2xvc2VNb2RhbDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgb25BZGRVcGRhdGVkTGVzc29uczogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbn07XG5leHBvcnQgZGVmYXVsdCBBc3NpZ25MZXNzb25Nb2RhbDtcbiJdfQ== */\\n/*@ sourceURL=/Users/wolf/Documents/clearchoice/admin/feature-view-updated-course/clear-choice-admin/components/Student/DetailLessonList/components/AssignLessonModal/index.js */\"));\n    }\n  }]);\n\n  return AssignLessonModal;\n}(React.Component);\n\nAssignLessonModal.propTypes = {\n  lessons: PropTypes.array.isRequired,\n  open: PropTypes.bool.isRequired,\n  onCloseModal: PropTypes.func.isRequired,\n  onAddUpdatedLessons: PropTypes.func.isRequired\n};\nexport default AssignLessonModal;","map":{"version":3,"sources":["/Users/wolf/Documents/clearchoice/admin/feature-view-updated-course/clear-choice-admin/components/Student/DetailLessonList/components/AssignLessonModal/index.js"],"names":["React","PropTypes","update","moment","Portal","LessonListItem","totalProblemsDescending","totalProblemsAscending","timeEstimate","timeEstimateAscending","subjectAscending","subjectDescending","passageAscending","passageDescending","lessonNameDescending","lessonNameAscending","statusDescending","statusAscending","flagsAscending","flagsDescending","lessonTypeAscending","lessonTypeDescending","ModalFilterSection","AssignDatesModal","AssignLessonModal","props","setState","datesModalOpen","checked","state","onChecked","statusFilters","subjectFilters","lessonTypeFilters","unitFilter","nameFilter","sort","lesson","filter","unit","checkedLessons","mappedLessons","getMappableLessons","i","length","indexOf","prevState","push","lessons","reduce","finalArr","currentLesson","lessonName","lessonString","replace","toLowerCase","allLessons","status","assigned","subject","type","unitNumber","assignDate","assignTime","dueDate","dueTime","onAddUpdatedLessons","updatedLessons","previousCheckedLessons","updatedCheckedLessons","$merge","format","availableDate","onCloseModal","name","onSetSort","mappableLessons","onFilterByName","onFilterLessons","onSortLessons","selectedLesson","updatedLessonArray","filterType","currentSubjectFilters","currentStatusFilters","currentLessonTypeFilters","modifiedFilterCurrentState","modifiedFilterName","modifiedFilterUpdatedState","$push","filterIndex","$splice","map","index","id","onSelectLesson","renderLessonIcon","handleCheckbox","onToggleChecked","setSortType","width","paddingLeft","marginLeft","open","backgroundColor","handleFilterClick","onClearFilters","onSetFilteredState","onUnsetFilteredState","onSetUnitFilter","marginTop","margin","renderTableHeader","mapLessonListItem","onCloseDatesModal","onHandleDates","onOpenDatesModal","Component","propTypes","array","isRequired","bool","func"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport update from 'immutability-helper';\nimport moment from 'moment';\nimport Portal from '../../../../Portal';\nimport LessonListItem from './components/LessonListItem';\nimport { totalProblemsDescending, totalProblemsAscending, timeEstimate, timeEstimateAscending, subjectAscending, subjectDescending, passageAscending, passageDescending, lessonNameDescending, lessonNameAscending, statusDescending, statusAscending, flagsAscending, flagsDescending, lessonTypeAscending, lessonTypeDescending } from '../../../../utils/sortFunctions';\nimport ModalFilterSection from '../ModalFilterSection';\nimport AssignDatesModal from '../AssignDatesModal';\n\nclass AssignLessonModal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      lessons: this.props.lessons,\n      statusFilters: [],\n      subjectFilters: [],\n      lessonTypeFilters: [],\n      sort: \"\",\n      nameFilter: \"\",\n      unitFilter: \"\",\n      checked: false,\n      checkedLessons: [],\n      datesModalOpen: false,\n    };\n  }\n\n  onOpenDatesModal = () => this.setState({ datesModalOpen: true })\n  onCloseDatesModal = () => this.setState({ datesModalOpen: false })\n  onToggleChecked = () => {\n    this.setState({ checked: !this.state.checked }, () => this.onChecked());\n  }\n  onClearFilters = () => this.setState({ statusFilters: [], subjectFilters: [], lessonTypeFilters: [], unitFilter: \"\", nameFilter: \"\" })\n  onSetSort = (sort) => this.setState({ sort })\n  onSetFilteredState = (lesson) => this.setState({ nameFilter: lesson })\n  onUnsetFilteredState = (filter) => this.setState({ [filter]: \"\" })\n  onSetUnitFilter = (unit) => this.setState({ unitFilter: unit })\n\n  // checks if SelectAll checkbox is checked and adds lessons or empties checkedLessons array on uncheck\n  onChecked = () => {\n    const { checkedLessons, checked } = this.state;\n    if (checked) {\n      let mappedLessons = this.getMappableLessons();\n      for (let i = 0; i < mappedLessons.length; i++) {\n        if (checkedLessons.indexOf(mappedLessons[i]) > -1) {\n          mappedLessons = mappedLessons.filter(lesson => checkedLessons.indexOf(lesson) === -1);\n        }\n      }\n      this.setState(prevState => {\n        prevState.checkedLessons.push(...mappedLessons);\n      });\n    } else {\n      (\n        this.setState({ checkedLessons: [] })\n      );\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  onSortLessons = (lessons) => {\n    const { sort } = this.state;\n    switch (sort) {\n      case 'subjectAscending':\n        return lessons.sort(subjectAscending);\n      case 'subjectDescending':\n        return lessons.sort(subjectDescending);\n      case 'passageAscending':\n        return lessons.sort(passageAscending);\n      case 'passageDescending':\n        return lessons.sort(passageDescending);\n      case 'statusAscending':\n        return lessons.sort(statusAscending);\n      case 'statusDescending':\n        return lessons.sort(statusDescending);\n      case 'flagsAscending':\n        return lessons.sort(flagsAscending);\n      case 'flagsDescending':\n        return lessons.sort(flagsDescending);\n      case 'lessonNameAscending':\n        return lessons.sort(lessonNameAscending);\n      case 'lessonNameDescending':\n        return lessons.sort(lessonNameDescending);\n      case 'lessonTypeAscending':\n        return lessons.sort(lessonTypeAscending);\n      case 'lessonTypeDescending':\n        return lessons.sort(lessonTypeDescending);\n      case 'timeEstimateDescending':\n        return lessons.sort(timeEstimate);\n      case 'timeEstimateAscending':\n        return lessons.sort(timeEstimateAscending);\n      case 'totalProblemsDescending':\n        return lessons.sort(totalProblemsDescending);\n      case 'totalProblemsAscending':\n        return lessons.sort(totalProblemsAscending);\n      default:\n        break;\n    }\n  }\n\n  onFilterByName = () => {\n    const { lessons, nameFilter } = this.state;\n    return lessons.reduce((finalArr, currentLesson) => {\n      const { lessonName } = currentLesson;\n      const lessonString = lessonName.replace(/\\s/g, \"\").toLowerCase();\n      if (lessonString.indexOf(nameFilter) !== -1 && finalArr.indexOf(currentLesson) === -1) {\n        finalArr.push(currentLesson);\n      }\n      return finalArr;\n    }, []);\n  }\n\n  onFilterLessons = () => {\n    const { statusFilters, subjectFilters, lessonTypeFilters, unitFilter, lessons: allLessons } = this.state;\n    let lessons = allLessons;\n    if (statusFilters.length && statusFilters.indexOf('all') === -1) {\n      if (statusFilters.indexOf(\"Unassigned\") !== -1) {\n        lessons = lessons.filter(lesson => statusFilters.indexOf(lesson.status) !== -1);\n      } else { lessons = lessons.filter(lesson => lesson.assigned === true); }\n    }\n    if (subjectFilters.length && subjectFilters.indexOf('all') === -1) {\n      lessons = lessons.filter(lesson => subjectFilters.indexOf(lesson.subject) !== -1);\n    }\n    if (lessonTypeFilters.length && lessonTypeFilters.indexOf('all') === -1) {\n      lessons = lessons.filter(lesson => lessonTypeFilters.indexOf(lesson.type) !== -1);\n    }\n    if (unitFilter.length && unitFilter.indexOf('all') === -1) {\n      lessons = lessons.filter(lesson => unitFilter.indexOf(lesson.unitNumber) !== -1);\n    }\n    return lessons;\n  }\n\n  // TODO: add toast verifying lessons were assigned\n  // takes input from the assign selected lessons modal and updates the updatedLessons array in parent\n  // eslint-disable-next-line consistent-return\n  onHandleDates = (assignDate, assignTime, dueDate, dueTime) => {\n    const { onAddUpdatedLessons } = this.props;\n    const updatedLessons = [];\n    const { checkedLessons: previousCheckedLessons } = this.state;\n    for (let i = 0; i < previousCheckedLessons.length; i++) {\n      const updatedCheckedLessons = update(previousCheckedLessons[i], {\n        $merge: {\n          assigned: true,\n          dueDate: moment(dueDate).format('DD/MM/YYYY'),\n          dueTime,\n          availableDate: moment(assignDate).format(\"DD/MM/YYYY\"),\n          status: \"Scheduled\",\n          assignTime,\n        },\n      },\n      );\n      updatedLessons.push(updatedCheckedLessons);\n    }\n    onAddUpdatedLessons(updatedLessons);\n    this.props.onCloseModal();\n  };\n\n  setSortType = (name) => {\n    const { sort } = this.state;\n    if (sort !== `${name}Ascending` && sort !== `${name}Descending`) {\n      this.onSetSort(`${name}Ascending`);\n    }\n    if (sort === `${name}Descending`) {\n      this.onSetSort(`${name}Ascending`);\n    } else {\n      this.onSetSort(`${name}Descending`);\n    }\n  }\n\n  getMappableLessons = () => {\n    const { sort, unitFilter, lessons, statusFilters, subjectFilters, lessonTypeFilters, nameFilter } = this.state;\n    let mappableLessons = lessons;\n    if (nameFilter.length) {\n      mappableLessons = this.onFilterByName();\n    }\n    if (statusFilters.length || unitFilter.length || lessonTypeFilters.length || subjectFilters.length) {\n      mappableLessons = this.onFilterLessons();\n    }\n    if (sort) {\n      return this.onSortLessons(mappableLessons);\n    }\n    return mappableLessons;\n  }\n\n\n  handleCheckbox = (selectedLesson) => {\n    const { checkedLessons } = this.state;\n    let updatedLessonArray;\n    if (checkedLessons.indexOf(selectedLesson) > -1) {\n      updatedLessonArray = checkedLessons.filter(lesson => lesson !== selectedLesson);\n    } else {\n      updatedLessonArray = [...checkedLessons, selectedLesson];\n    }\n    this.setState({ checkedLessons: updatedLessonArray });\n  }\n\n\n  handleFilterClick = (filterType, filter) => {\n    const { subjectFilters: currentSubjectFilters, statusFilters: currentStatusFilters, lessonTypeFilters: currentLessonTypeFilters } = this.state;\n    let modifiedFilterCurrentState;\n    let modifiedFilterName;\n    let modifiedFilterUpdatedState;\n    switch (filterType) {\n      case 'subject':\n        modifiedFilterCurrentState = currentSubjectFilters;\n        modifiedFilterName = 'subjectFilters';\n        break;\n      case 'status':\n        modifiedFilterCurrentState = currentStatusFilters;\n        modifiedFilterName = 'statusFilters';\n        break;\n      case 'lessonType':\n        modifiedFilterCurrentState = currentLessonTypeFilters;\n        modifiedFilterName = 'lessonTypeFilters';\n        break;\n      default:\n        break;\n    }\n    // Decide whether we're adding or removing the selected filter\n    if (modifiedFilterCurrentState.indexOf(filter) === -1) {\n      modifiedFilterUpdatedState = update(modifiedFilterCurrentState, {\n        $push: [filter],\n      });\n    } else {\n      const filterIndex = modifiedFilterCurrentState.indexOf(filter);\n      modifiedFilterUpdatedState = update(modifiedFilterCurrentState, {\n        $splice: [[filterIndex, 1]],\n      });\n    }\n    this.setState({ [modifiedFilterName]: modifiedFilterUpdatedState });\n  }\n\n  mapLessonListItem = () => this.getMappableLessons().map((lesson, index) =>\n    (<LessonListItem\n      lesson={lesson}\n      index={index}\n      selectAll={this.state.checked}\n      key={lesson.id}\n      onSelectLesson={this.onSelectLesson}\n      renderLessonIcon={this.renderLessonIcon}\n      checkedLessons={this.state.checkedLessons}\n      handleCheckbox={this.handleCheckbox}\n    />)\n  )\n\n  renderTableHeader = () => (\n    <div className=\"list-table-row\">\n      <div className=\"list-table-cell icon-cell\">\n        <label htmlFor=\"selectAll\">\n          <input\n            type=\"checkbox\"\n            id=\"selectAll\"\n            defaultChecked={this.state.checked}\n            onChange={this.onToggleChecked}\n            className=\"filled-in\"\n          />\n          <span><b>&nbsp;</b></span>\n        </label>\n      </div>\n      <div className=\"list-table-cell icon-cell\">&nbsp;</div>\n      <div className=\"list-table-cell name-cell\" value=\"lessonName\">\n        <a href=\"#\" onClick={() => this.setSortType(\"lessonName\")}><b>Lesson</b></a>\n      </div>\n      <div className=\"list-table-cell name-cell\" style={{ width: '100px', paddingLeft: '237px' }}>\n        <a href=\"#\" onClick={() => this.setSortType(\"status\")}><b>Status</b></a>\n      </div>\n      <div className=\"list-table-call completed-cell\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>\n      <div className=\"list-table-cell type-cell\" style={{ marginLeft: '30px', paddingLeft: '58px' }}>\n        <a href=\"#\" onClick={() => this.setSortType(\"subject\")}><b>Subject</b></a>\n      </div>\n      <div className=\"list-table-cell completed-cell\" style={{ paddingLeft: '56px' }}>\n        <a href=\"#\" onClick={() => this.setSortType(\"passage\")}><b>Page</b></a>\n      </div>\n      <div className=\"list-table-cell completed-cell\" style={{ marginLeft: '30px' }}>\n        <a href=\"#\" onClick={() => this.setSortType(\"timeEstimate\")}><b>Time Est</b></a>\n      </div>\n      <div className=\"list-table-cell type-cell\" style={{ marginLeft: '13px', paddingLeft: '-1px' }}>\n        <a href=\"#\" onClick={() => this.setSortType(\"totalProblems\")}><b>Problems</b></a>\n      </div>\n      <div className=\"list-table-cell completed-cell\">\n        <a href=\"#\" onClick={() => this.setSortType(\"lessonType\")}><b>Type</b></a>\n      </div>\n      <div className=\"list-table-cell flags-cell\"><b>&nbsp;</b></div>\n      <div className=\"list-table-cell flags-cell\"><b>&nbsp;</b></div>\n      <div className=\"list-table-cell flags-cell\">\n        <a href=\"#\" onClick={() => this.setSortType(\"alerts\")}><b>Flags</b></a>\n      </div>\n    </div>\n  )\n\n\n  render() {\n    const { lessons, subjectFilters, statusFilters, lessonTypeFilters } = this.state;\n    const { open, onCloseModal } = this.props;\n    return (\n      <Portal selector=\"#modal\">\n        {open && (\n          <div className=\"overlay\">\n            <div id=\"assign-lesson-modal\" className=\"modal modal-custom\">\n              <div className=\"header-row card-panel light-blue lighten-1 white-text\">\n                <div className=\"card-panel-row row\">\n                  <div className=\"col s3\">&nbsp;</div>\n                  <div className=\"col s9 right-align\">\n                    <div className=\"row icons-row\"> <span>\n                      <a href=\"#\" onClick={onCloseModal}><i className=\"icon-close\"></i></a>\n                    </span></div>\n                  </div>\n                </div>\n                <div className=\"card-panel-row row\">\n                  <div className=\"icon-col col s1\">\n                    <i className=\"icon-books\"></i>\n                  </div>\n                  <div className=\"col s9\">\n                    <div className=\"card-panel-text\">\n                      <div className=\"text-large\">Assign Lessons</div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"content-section\" style={{ backgroundColor: '#f2f2f2' }}>\n                <ModalFilterSection\n                  handleFilterClick={this.handleFilterClick}\n                  subjectFilters={subjectFilters}\n                  statusFilters={statusFilters}\n                  lessonTypeFilters={lessonTypeFilters}\n                  onClearFilters={this.onClearFilters}\n                  onSetFilteredState={this.onSetFilteredState}\n                  onUnsetFilteredState={this.onUnsetFilteredState}\n                  onSetSort={this.onSetSort}\n                  onSetUnitFilter={this.onSetUnitFilter}\n                />\n                <div className=\"container-md\" style={{ marginTop: '50px' }}>\n                  <div className=\"result-row center-align\">\n                    <b className=\"result\"> - {lessons.length} Lessons</b>\n                  </div>\n                  <div className=\"list-view-section\" style={{ margin: '0 -160px' }}>\n                    <div className=\"list-table\" >\n                      <div className=\"list-table-header\">\n                        {this.renderTableHeader()}\n                      </div>\n                      <div className=\"list-table-body\">\n                        {this.mapLessonListItem()}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <AssignDatesModal\n              open={this.state.datesModalOpen}\n              onCloseDatesModal={this.onCloseDatesModal}\n              onHandleDates={this.onHandleDates}\n            />\n            <a href=\"#\" onClick={this.onOpenDatesModal} className=\"waves-effect waves-teal btn add-btn modal-trigger\"><i className=\"material-icons\">add</i>Assign Selected</a>\n          </div>\n        )}\n        <style jsx>\n          {`\n            .overlay {\n              position: fixed;\n              background-color: rgba(0, 0, 0, 0.7);\n              top: 0;\n              right: 0;\n              bottom: 0;\n              left: 0;\n              z-index: 999;\n            }\n            #assign-lesson-modal {\n              border-radius: 6px;\n              \n            }\n            .modal {\n              display: block;\n              background-color: white;\n              position: absolute;\n              top: 13%;\n              right: 0%;\n              left: 14%;\n              box-shadow: 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12), 0 11px 15px -7px rgba(0, 0, 0, 0.2);\n            }\n            .modal-footer {\n              background-color: white;\n            }\n            .modal-custom {\n              opacity: 1;\n              visibility: visible;\n              max-width: 1280px !important;\n            }\n            #assign-lessons-header {\n              background: rgb(24,181,233) !important\n              background: linear-gradient(90deg, rgba(24,181,233,1) 0%, rgba(8,107,140,1) 100%) !important;\n            }\n            \n          `}\n        </style>\n      </Portal>\n    );\n  }\n}\n\nAssignLessonModal.propTypes = {\n  lessons: PropTypes.array.isRequired,\n  open: PropTypes.bool.isRequired,\n  onCloseModal: PropTypes.func.isRequired,\n  onAddUpdatedLessons: PropTypes.func.isRequired,\n};\nexport default AssignLessonModal;\n"]},"metadata":{},"sourceType":"module"}