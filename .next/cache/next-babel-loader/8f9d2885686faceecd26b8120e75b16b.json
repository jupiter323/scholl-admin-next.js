{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { Doughnut } from 'react-chartjs-2';\nimport { data } from '../../../utils';\nimport formatTimeEstimate from '../../../../../utils/formatTimeEstimate';\n\nclass FullView extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onSetDropdown\", dropdownIndex => this.setState({\n      dropdownIndex,\n      dropdownIsOpen: true\n    }));\n\n    _defineProperty(this, \"onCloseDropdown\", () => this.setState({\n      dropdownIsOpen: false\n    }));\n\n    _defineProperty(this, \"handleDropdownClick\", (event, index) => {\n      const {\n        dropdownIsOpen\n      } = this.state;\n      event.preventDefault();\n\n      if (dropdownIsOpen) {\n        return this.onCloseDropdown();\n      }\n\n      return this.onSetDropdown(index);\n    });\n\n    _defineProperty(this, \"mapWorksheetCards\", () => {\n      const {\n        worksheets,\n        onSetActiveWorksheet\n      } = this.props;\n      const {\n        dropdownIndex,\n        dropdownIsOpen\n      } = this.state;\n      return worksheets.map((worksheet, index) => {\n        const {\n          timeEstimate,\n          subject,\n          difficulty,\n          problems,\n          completedProblems,\n          problemType,\n          worksheetName,\n          worksheetSource,\n          classifications\n        } = worksheet;\n        const completedPercentage = Number(completedProblems / problems.length) * 100;\n        return __jsx(\"div\", {\n          className: \"card-main-col col s12 m8 l7 xl5\",\n          key: worksheet.id\n        }, __jsx(\"div\", {\n          className: \"card-main work-card card\"\n        }, __jsx(\"div\", {\n          className: \"card-panel panel-border\"\n        }, __jsx(\"div\", {\n          className: \"card-panel-row row\"\n        }, __jsx(\"div\", {\n          className: \"icon-col col s2\"\n        }, __jsx(\"span\", {\n          className: \"block-icon\"\n        }, __jsx(\"i\", {\n          className: \"icon-sheets-w\"\n        }))), __jsx(\"div\", {\n          className: \"col s8\"\n        }, __jsx(\"div\", {\n          className: \"card-panel-text\"\n        }, __jsx(\"div\", {\n          className: \"text-small truncate\"\n        }, \"Worksheet (\", subject, \")\"), __jsx(\"div\", {\n          className: \"text-large truncate\"\n        }, worksheetName))), __jsx(\"div\", {\n          className: \"position-top right-align\"\n        }, __jsx(\"div\", {\n          className: \"icons-row\"\n        }, __jsx(\"div\", {\n          className: \"dropdown-block col\"\n        }, __jsx(\"a\", {\n          href: \"#\",\n          \"data-target\": \"dropdown01\",\n          className: \"dropdown-trigger btn\",\n          onClick: event => this.handleDropdownClick(event, index)\n        }, __jsx(\"i\", {\n          className: \"material-icons dots-icon\"\n        }, \"more_vert\")), dropdownIsOpen && dropdownIndex === index ? __jsx(\"ul\", {\n          id: \"dropdown01\",\n          className: \"dropdown-content dropdown-wide\",\n          style: {\n            display: 'block',\n            opacity: '1',\n            transform: 'scaleX(1) scaleY(1)'\n          }\n        }, __jsx(\"li\", null, __jsx(\"a\", {\n          href: \"#\",\n          className: \"modal-trigger link-block\",\n          onClick: () => onSetActiveWorksheet(worksheet)\n        }, \"Edit\")), __jsx(\"li\", null, __jsx(\"a\", {\n          href: \"#!\"\n        }, \"Clone\")), __jsx(\"li\", null, __jsx(\"a\", {\n          href: \"#!\",\n          className: \"link-delete\"\n        }, \"Delete\"))) : null)))), __jsx(\"div\", {\n          className: \"card-top-block\"\n        }, __jsx(\"div\", {\n          className: \"d-flex row mb-0\"\n        }, __jsx(\"div\", {\n          className: \"left-col col s7\"\n        }, __jsx(\"dl\", {\n          className: \"dl-horizontal\"\n        }, __jsx(\"dt\", null, \"Problem Type:\"), __jsx(\"dd\", null, problemType))), __jsx(\"div\", {\n          className: \"right-col col s5 right-align\"\n        }, __jsx(\"dl\", {\n          className: \"dl-horizontal\"\n        }, __jsx(\"dt\", null, \"Di\\uFB03culty:\"), __jsx(\"dd\", null, difficulty)))))), __jsx(\"div\", {\n          className: \"card-content\"\n        }, __jsx(\"div\", {\n          className: \"d-flex sameheight-all row mb-0\"\n        }, __jsx(\"div\", {\n          className: \"col s12\"\n        }, __jsx(\"div\", {\n          className: \"chart-container\"\n        }, __jsx(\"div\", {\n          className: \"chart-holder\"\n        }, __jsx(Doughnut, {\n          data: () => data(completedPercentage),\n          options: {\n            circumference: 1 * Math.PI,\n            rotation: 1 * Math.PI,\n            cutoutPercentage: 60,\n            tooltips: false\n          }\n        }), __jsx(\"span\", {\n          className: \"chart-value\",\n          style: {\n            backgroundColor: '#333'\n          }\n        }, __jsx(\"span\", {\n          \"data-count-up\": true,\n          \"data-start-val\": \"0\",\n          \"data-end-val\": \"0\",\n          \"data-duration\": \"1\"\n        }), __jsx(\"span\", {\n          className: \"percentage\"\n        }, \"%\"))), __jsx(\"div\", {\n          className: \"chart-row\"\n        }, __jsx(\"div\", {\n          className: \"chart-col chart-start\"\n        }, \"\\xA0\"), __jsx(\"div\", {\n          className: \"chart-col chart-end\"\n        }, __jsx(\"span\", {\n          className: \"amount\",\n          style: {\n            color: 'inherit'\n          }\n        }, \"\\xA0\"))), __jsx(\"div\", {\n          className: \"chart-description\"\n        }, __jsx(\"dl\", {\n          className: \"dl-horizontal\"\n        }, __jsx(\"dt\", null, \"Time Est:\"), __jsx(\"dd\", null, formatTimeEstimate(timeEstimate))), __jsx(\"dl\", {\n          className: \"dl-horizontal\"\n        }, __jsx(\"dt\", null, \"Problems:\"), __jsx(\"dd\", null, problems.length)))))), __jsx(\"div\", {\n          className: \"card-text\"\n        }, __jsx(\"dl\", {\n          className: \"dl-horizontal\"\n        }, __jsx(\"dt\", null, \"Worksheet Source:\"), __jsx(\"dd\", null, worksheetSource))), __jsx(\"div\", {\n          className: \"card-inner-row\"\n        }, __jsx(\"div\", {\n          className: \"row-holder\"\n        }, __jsx(\"ul\", {\n          className: \"classification-list\"\n        }, classifications.map(classification => __jsx(\"li\", {\n          className: \"class-box\",\n          key: classification\n        }, classification))))))));\n      });\n    });\n\n    this.state = {\n      dropdownIsOpen: false,\n      dropdownIndex: null\n    };\n  }\n\n  render() {\n    const {\n      worksheets\n    } = this.props;\n    return __jsx(\"div\", {\n      className: \"content-section\"\n    }, __jsx(\"div\", {\n      className: \"result-row center-align\"\n    }, __jsx(\"b\", {\n      className: \"result\"\n    }, \" - \", worksheets.length, \" results -\")), __jsx(\"div\", {\n      className: \"row d-flex-content card-width-272\"\n    }, this.mapWorksheetCards()));\n  }\n\n}\n\nexport default FullView;","map":null,"metadata":{},"sourceType":"module"}