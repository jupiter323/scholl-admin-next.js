{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _JSXStyle from \"styled-jsx/style\";\n\n/* eslint-disable no-unused-vars */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport update from 'immutability-helper';\nimport Portal from '../../../Portal';\nimport ClickOffComponentWrapper from '../../../ClickOffComponentWrapper';\nimport OwnerContactInfo from './components/OwnerContactInfo';\nimport LocationContactInfo from '../SharedModalComponents/LocationContactInfo';\nimport LocationEmailSettings from '../SharedModalComponents/LocationEmailSettings';\nimport LocationBranding from '../SharedModalComponents/LocationBranding';\nimport { nestedCreateFieldValidation } from '../../../utils/fieldValidation';\nimport initialState from '../../utils/initialState';\n\nclass NewLocationModal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onSetValidation\", (validation, cb) => this.setState({\n      validation\n    }, cb));\n\n    _defineProperty(this, \"onSubmit\", async event => {\n      event.preventDefault();\n      const {\n        owner,\n        locationContactInfo,\n        locationEmailSettings,\n        locationBranding\n      } = this.state;\n      const {\n        onSaveNewLocation,\n        onSaveLocationError,\n        onAddNewLocation,\n        fromInstructorPage = false\n      } = this.props; // NOTE: Swap out what instance of valid is active if you want to test saving a new location without worrying about validation\n      // const valid = true;\n\n      const valid = await nestedCreateFieldValidation(this.state, this.onSetValidation, validation => console.warn('validation', validation));\n\n      if (!valid) {\n        // return onSaveLocationError();\n        console.warn('not valid');\n      }\n\n      const postBody = {\n        locationContactInfo,\n        locationEmailSettings,\n        locationBranding,\n        owner\n      };\n\n      if (fromInstructorPage) {\n        onSaveNewLocation(postBody);\n      } else {\n        onAddNewLocation(postBody);\n      }\n\n      console.warn('stubbed out save function');\n      this.onCloseModal();\n    });\n\n    _defineProperty(this, \"onResetLocation\", () => this.setState(initialState));\n\n    _defineProperty(this, \"onCloseModal\", () => {\n      const {\n        onClose\n      } = this.props;\n      onClose();\n      this.onResetLocation();\n    });\n\n    _defineProperty(this, \"handleDetailsChange\", (event, name, section) => {\n      let value;\n\n      if (event.hex) {\n        value = event.hex;\n      } else {\n        value = event.target ? event.target.value : event;\n      }\n\n      const updatedState = update(this.state, {\n        [section]: {\n          $merge: {\n            [name]: value\n          }\n        }\n      });\n      this.setState(updatedState);\n    });\n\n    this.state = {\n      ownerContactInfo: {\n        firstName: '',\n        lastName: '',\n        email: '',\n        gender: '',\n        phone: '',\n        streetAddress: '',\n        city: '',\n        state: '',\n        zip: ''\n      },\n      locationEmailSettings: {\n        automatedEmailOriginAddress: '',\n        automatedEmailSalutation: ''\n      },\n      locationContactInfo: {\n        locationName: '',\n        locationNickname: '',\n        locationEmail: '',\n        locationPhoneNumber: '',\n        website: '',\n        locationStreetAddress: '',\n        locationCity: '',\n        locationState: '',\n        locationZip: ''\n      },\n      locationBranding: {\n        locationUrl: '',\n        headerColor1: '',\n        headerColor2: '',\n        headerLogoBackgroundColor: '',\n        headerLogoBackgroundAlpha: '',\n        horizontalLogoVariation: '',\n        squareLogoVariation: '',\n        backgroundImage: '',\n        backgroundBlur: '',\n        backgroundOverlayAlpha: '',\n        studentWelcomeVideo: '',\n        instructorWelcomeVideo: ''\n      },\n      validation: {\n        ownerContactInfo: {\n          firstName: true,\n          lastName: true,\n          email: true,\n          gender: true\n        },\n        locationEmailSettings: {\n          automatedEmailOriginAddress: true,\n          automatedEmailSalutation: true\n        },\n        locationContactInfo: {\n          locationName: true,\n          locationNickname: true,\n          locationEmail: true\n        },\n        locationBranding: {\n          locationUrl: true,\n          headerColor1: true,\n          headerColor2: true,\n          headerLogoBackgroundColor: true,\n          headerLogoBackgroundAlpha: true,\n          horizontalLogoVariation: true,\n          squareLogoVariation: true,\n          backgroundImage: true,\n          backgroundBlur: true,\n          backgroundOverlayAlpha: true\n        }\n      }\n    };\n  } // This function is passed into nestedCreateFieldValidation, it takes the result of the validation check and a callback function\n  // The updated component validation state is set and then the callback is dispatched - in this case, the callback handles the toast warning at the container level\n\n\n  render() {\n    const {\n      open\n    } = this.props;\n    const {\n      ownerContactInfo,\n      locationEmailSettings,\n      locationContactInfo,\n      locationBranding\n    } = this.state;\n    return React.createElement(Portal, {\n      selector: \"#modal\"\n    }, open && React.createElement(\"div\", {\n      className: \"jsx-2979935167\" + \" \" + \"overlay\"\n    }, React.createElement(ClickOffComponentWrapper, {\n      onOuterClick: this.onCloseModal\n    }, React.createElement(\"div\", {\n      id: \"modal_user_create\",\n      className: \"jsx-2979935167\" + \" \" + \"modal modal-custom modal-custom-large modal-gray\"\n    }, React.createElement(\"div\", {\n      className: \"jsx-2979935167\" + \" \" + \"card-modal card-main card grey lighten-3\"\n    }, React.createElement(\"div\", {\n      style: {\n        backgroundColor: '#31837a',\n        color: '#fff'\n      },\n      className: \"jsx-2979935167\" + \" \" + \"card-panel card-panel-title\"\n    }, React.createElement(\"div\", {\n      className: \"jsx-2979935167\" + \" \" + \"card-panel-row row\"\n    }, React.createElement(\"div\", {\n      style: {\n        display: 'block'\n      },\n      className: \"jsx-2979935167\" + \" \" + \"col\"\n    }, React.createElement(\"h3\", {\n      className: \"jsx-2979935167\" + \" \" + \"h2\"\n    }, React.createElement(\"span\", {\n      className: \"jsx-2979935167\" + \" \" + \"heading-holder\"\n    }, React.createElement(\"span\", {\n      className: \"jsx-2979935167\" + \" \" + \"heading-block\"\n    }, \"Create New Owner\")))), React.createElement(\"div\", {\n      className: \"jsx-2979935167\" + \" \" + \"col\"\n    }, React.createElement(\"span\", {\n      className: \"jsx-2979935167\" + \" \" + \"block-icon\"\n    }, React.createElement(\"i\", {\n      className: \"jsx-2979935167\" + \" \" + \"icon-owner\"\n    }), React.createElement(\"span\", {\n      className: \"jsx-2979935167\" + \" \" + \"text-icon\"\n    }, \"Owner\"))))), React.createElement(\"div\", {\n      className: \"jsx-2979935167\" + \" \" + \"card-content\"\n    }, React.createElement(\"div\", {\n      className: \"jsx-2979935167\" + \" \" + \"card-body\"\n    }, React.createElement(\"div\", {\n      className: \"jsx-2979935167\" + \" \" + \"row mb-0\"\n    }, React.createElement(OwnerContactInfo, {\n      state: ownerContactInfo,\n      handleDetailsChange: this.handleDetailsChange\n    }), React.createElement(LocationContactInfo, {\n      state: locationContactInfo,\n      handleDetailsChange: this.handleDetailsChange\n    })), React.createElement(\"div\", {\n      className: \"jsx-2979935167\" + \" \" + \"row mb-0\"\n    }, React.createElement(LocationEmailSettings, {\n      state: locationEmailSettings,\n      handleDetailsChange: this.handleDetailsChange\n    }), React.createElement(LocationBranding, {\n      state: locationBranding,\n      handleDetailsChange: this.handleDetailsChange\n    }))), React.createElement(\"div\", {\n      className: \"jsx-2979935167\" + \" \" + \"modal-footer\"\n    }, React.createElement(\"a\", {\n      href: \"#!\",\n      onClick: this.onCloseModal,\n      className: \"jsx-2979935167\" + \" \" + \"modal-close waves-effect waves-teal btn-flat pink-text text-darken-1\"\n    }, \"Cancel\"), React.createElement(\"a\", {\n      href: \"#\",\n      onClick: this.onSubmit,\n      className: \"jsx-2979935167\" + \" \" + \"btn\"\n    }, \"Save\"))))))), React.createElement(_JSXStyle, {\n      id: \"2979935167\"\n    }, \".overlay.jsx-2979935167{position:fixed;background-color:rgba(0,0,0,0.7);top:0;right:0;bottom:0;left:0;z-index:999;}.card-modal.jsx-2979935167{margin:0;border-radius:6px;}.modal.jsx-2979935167{display:block;background-color:white;position:absolute;top:10%;right:10%;left:10%;box-shadow:0 24px 38px 3px rgba(0,0,0,0.14),0 9px 46px 8px rgba(0,0,0,0.12),0 11px 15px -7px rgba(0,0,0,0.2);}.modal-custom.jsx-2979935167{opacity:1;visibility:visible;}.modal-footer.jsx-2979935167{background-color:white;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Wb2x1bWVzL0hERC9TaXRlcy9jbGVhcmNob2ljZXRlc3RwcmVwL2NsZWFyLWNob2ljZS1hZG1pbi9jb21wb25lbnRzL0xvY2F0aW9uL2NvbXBvbmVudHMvTmV3TG9jYXRpb25Nb2RhbC9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFxTlcsQUFHZ0MsQUFTTixBQUlLLEFBU0osQUFJYSxTQWhCTCxDQWFDLElBVEksQ0FiYSxRQTBCdEMsSUFoQkEsRUFhQSxRQVRvQixXQWJaLE1BQ0UsQ0FhQSxPQVpDLENBYUMsUUFaSCxFQWFFLEtBWkcsSUFhNEcsUUFaMUgscUdBYUEiLCJmaWxlIjoiL1ZvbHVtZXMvSEREL1NpdGVzL2NsZWFyY2hvaWNldGVzdHByZXAvY2xlYXItY2hvaWNlLWFkbWluL2NvbXBvbmVudHMvTG9jYXRpb24vY29tcG9uZW50cy9OZXdMb2NhdGlvbk1vZGFsL2luZGV4LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgbm8tdW51c2VkLXZhcnMgKi9cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHVwZGF0ZSBmcm9tICdpbW11dGFiaWxpdHktaGVscGVyJztcblxuaW1wb3J0IFBvcnRhbCBmcm9tICcuLi8uLi8uLi9Qb3J0YWwnO1xuaW1wb3J0IENsaWNrT2ZmQ29tcG9uZW50V3JhcHBlciBmcm9tICcuLi8uLi8uLi9DbGlja09mZkNvbXBvbmVudFdyYXBwZXInO1xuXG5pbXBvcnQgT3duZXJDb250YWN0SW5mbyBmcm9tICcuL2NvbXBvbmVudHMvT3duZXJDb250YWN0SW5mbyc7XG5pbXBvcnQgTG9jYXRpb25Db250YWN0SW5mbyBmcm9tICcuLi9TaGFyZWRNb2RhbENvbXBvbmVudHMvTG9jYXRpb25Db250YWN0SW5mbyc7XG5pbXBvcnQgTG9jYXRpb25FbWFpbFNldHRpbmdzIGZyb20gJy4uL1NoYXJlZE1vZGFsQ29tcG9uZW50cy9Mb2NhdGlvbkVtYWlsU2V0dGluZ3MnO1xuaW1wb3J0IExvY2F0aW9uQnJhbmRpbmcgZnJvbSAnLi4vU2hhcmVkTW9kYWxDb21wb25lbnRzL0xvY2F0aW9uQnJhbmRpbmcnO1xuXG5pbXBvcnQgeyBuZXN0ZWRDcmVhdGVGaWVsZFZhbGlkYXRpb24gfSBmcm9tICcuLi8uLi8uLi91dGlscy9maWVsZFZhbGlkYXRpb24nO1xuaW1wb3J0IGluaXRpYWxTdGF0ZSBmcm9tICcuLi8uLi91dGlscy9pbml0aWFsU3RhdGUnO1xuXG5jbGFzcyBOZXdMb2NhdGlvbk1vZGFsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG93bmVyQ29udGFjdEluZm86IHtcbiAgICAgICAgZmlyc3ROYW1lOiAnJyxcbiAgICAgICAgbGFzdE5hbWU6ICcnLFxuICAgICAgICBlbWFpbDogJycsXG4gICAgICAgIGdlbmRlcjogJycsXG4gICAgICAgIHBob25lOiAnJyxcbiAgICAgICAgc3RyZWV0QWRkcmVzczogJycsXG4gICAgICAgIGNpdHk6ICcnLFxuICAgICAgICBzdGF0ZTogJycsXG4gICAgICAgIHppcDogJycsXG4gICAgICB9LFxuICAgICAgbG9jYXRpb25FbWFpbFNldHRpbmdzOiB7XG4gICAgICAgIGF1dG9tYXRlZEVtYWlsT3JpZ2luQWRkcmVzczogJycsXG4gICAgICAgIGF1dG9tYXRlZEVtYWlsU2FsdXRhdGlvbjogJycsXG4gICAgICB9LFxuICAgICAgbG9jYXRpb25Db250YWN0SW5mbzoge1xuICAgICAgICBsb2NhdGlvbk5hbWU6ICcnLFxuICAgICAgICBsb2NhdGlvbk5pY2tuYW1lOiAnJyxcbiAgICAgICAgbG9jYXRpb25FbWFpbDogJycsXG4gICAgICAgIGxvY2F0aW9uUGhvbmVOdW1iZXI6ICcnLFxuICAgICAgICB3ZWJzaXRlOiAnJyxcbiAgICAgICAgbG9jYXRpb25TdHJlZXRBZGRyZXNzOiAnJyxcbiAgICAgICAgbG9jYXRpb25DaXR5OiAnJyxcbiAgICAgICAgbG9jYXRpb25TdGF0ZTogJycsXG4gICAgICAgIGxvY2F0aW9uWmlwOiAnJyxcbiAgICAgIH0sXG4gICAgICBsb2NhdGlvbkJyYW5kaW5nOiB7XG4gICAgICAgIGxvY2F0aW9uVXJsOiAnJyxcbiAgICAgICAgaGVhZGVyQ29sb3IxOiAnJyxcbiAgICAgICAgaGVhZGVyQ29sb3IyOiAnJyxcbiAgICAgICAgaGVhZGVyTG9nb0JhY2tncm91bmRDb2xvcjogJycsXG4gICAgICAgIGhlYWRlckxvZ29CYWNrZ3JvdW5kQWxwaGE6ICcnLFxuICAgICAgICBob3Jpem9udGFsTG9nb1ZhcmlhdGlvbjogJycsXG4gICAgICAgIHNxdWFyZUxvZ29WYXJpYXRpb246ICcnLFxuICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6ICcnLFxuICAgICAgICBiYWNrZ3JvdW5kQmx1cjogJycsXG4gICAgICAgIGJhY2tncm91bmRPdmVybGF5QWxwaGE6ICcnLFxuICAgICAgICBzdHVkZW50V2VsY29tZVZpZGVvOiAnJyxcbiAgICAgICAgaW5zdHJ1Y3RvcldlbGNvbWVWaWRlbzogJycsXG4gICAgICB9LFxuICAgICAgdmFsaWRhdGlvbjoge1xuICAgICAgICBvd25lckNvbnRhY3RJbmZvOiB7XG4gICAgICAgICAgZmlyc3ROYW1lOiB0cnVlLFxuICAgICAgICAgIGxhc3ROYW1lOiB0cnVlLFxuICAgICAgICAgIGVtYWlsOiB0cnVlLFxuICAgICAgICAgIGdlbmRlcjogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgbG9jYXRpb25FbWFpbFNldHRpbmdzOiB7XG4gICAgICAgICAgYXV0b21hdGVkRW1haWxPcmlnaW5BZGRyZXNzOiB0cnVlLFxuICAgICAgICAgIGF1dG9tYXRlZEVtYWlsU2FsdXRhdGlvbjogdHJ1ZSxcbiAgICAgICAgfSxcbiAgICAgICAgbG9jYXRpb25Db250YWN0SW5mbzoge1xuICAgICAgICAgIGxvY2F0aW9uTmFtZTogdHJ1ZSxcbiAgICAgICAgICBsb2NhdGlvbk5pY2tuYW1lOiB0cnVlLFxuICAgICAgICAgIGxvY2F0aW9uRW1haWw6IHRydWUsXG4gICAgICAgIH0sXG4gICAgICAgIGxvY2F0aW9uQnJhbmRpbmc6IHtcbiAgICAgICAgICBsb2NhdGlvblVybDogdHJ1ZSxcbiAgICAgICAgICBoZWFkZXJDb2xvcjE6IHRydWUsXG4gICAgICAgICAgaGVhZGVyQ29sb3IyOiB0cnVlLFxuICAgICAgICAgIGhlYWRlckxvZ29CYWNrZ3JvdW5kQ29sb3I6IHRydWUsXG4gICAgICAgICAgaGVhZGVyTG9nb0JhY2tncm91bmRBbHBoYTogdHJ1ZSxcbiAgICAgICAgICBob3Jpem9udGFsTG9nb1ZhcmlhdGlvbjogdHJ1ZSxcbiAgICAgICAgICBzcXVhcmVMb2dvVmFyaWF0aW9uOiB0cnVlLFxuICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogdHJ1ZSxcbiAgICAgICAgICBiYWNrZ3JvdW5kQmx1cjogdHJ1ZSxcbiAgICAgICAgICBiYWNrZ3JvdW5kT3ZlcmxheUFscGhhOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgLy8gVGhpcyBmdW5jdGlvbiBpcyBwYXNzZWQgaW50byBuZXN0ZWRDcmVhdGVGaWVsZFZhbGlkYXRpb24sIGl0IHRha2VzIHRoZSByZXN1bHQgb2YgdGhlIHZhbGlkYXRpb24gY2hlY2sgYW5kIGEgY2FsbGJhY2sgZnVuY3Rpb25cbiAgLy8gVGhlIHVwZGF0ZWQgY29tcG9uZW50IHZhbGlkYXRpb24gc3RhdGUgaXMgc2V0IGFuZCB0aGVuIHRoZSBjYWxsYmFjayBpcyBkaXNwYXRjaGVkIC0gaW4gdGhpcyBjYXNlLCB0aGUgY2FsbGJhY2sgaGFuZGxlcyB0aGUgdG9hc3Qgd2FybmluZyBhdCB0aGUgY29udGFpbmVyIGxldmVsXG4gIG9uU2V0VmFsaWRhdGlvbiA9ICh2YWxpZGF0aW9uLCBjYikgPT4gdGhpcy5zZXRTdGF0ZSh7IHZhbGlkYXRpb24gfSwgY2IpO1xuXG4gIC8vIElmIGFsbCB0aGUgZmllbGRzIGFyZSB2YWxpZCwgd2UgY29uc3RydWN0IGEgcG9zdCBib2R5IGFuZCBjYWxsIG9uU2F2ZU5ld0xvY2F0aW9uIHBhc3NlZCBkb3duIGZyb20gdGhlIGNvbnRhaW5lciBsZXZlbFxuICBvblN1Ym1pdCA9IGFzeW5jIChldmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc3QgeyBvd25lciwgbG9jYXRpb25Db250YWN0SW5mbywgbG9jYXRpb25FbWFpbFNldHRpbmdzLCBsb2NhdGlvbkJyYW5kaW5nIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHsgb25TYXZlTmV3TG9jYXRpb24sIG9uU2F2ZUxvY2F0aW9uRXJyb3IsIG9uQWRkTmV3TG9jYXRpb24sIGZyb21JbnN0cnVjdG9yUGFnZSA9IGZhbHNlIH0gPSB0aGlzLnByb3BzO1xuICAgIC8vIE5PVEU6IFN3YXAgb3V0IHdoYXQgaW5zdGFuY2Ugb2YgdmFsaWQgaXMgYWN0aXZlIGlmIHlvdSB3YW50IHRvIHRlc3Qgc2F2aW5nIGEgbmV3IGxvY2F0aW9uIHdpdGhvdXQgd29ycnlpbmcgYWJvdXQgdmFsaWRhdGlvblxuICAgIC8vIGNvbnN0IHZhbGlkID0gdHJ1ZTtcbiAgICBjb25zdCB2YWxpZCA9IGF3YWl0IG5lc3RlZENyZWF0ZUZpZWxkVmFsaWRhdGlvbih0aGlzLnN0YXRlLCB0aGlzLm9uU2V0VmFsaWRhdGlvbiwgKHZhbGlkYXRpb24pID0+IGNvbnNvbGUud2FybigndmFsaWRhdGlvbicsIHZhbGlkYXRpb24pKTtcbiAgICBpZiAoIXZhbGlkKSB7XG4gICAgICAvLyByZXR1cm4gb25TYXZlTG9jYXRpb25FcnJvcigpO1xuICAgICAgY29uc29sZS53YXJuKCdub3QgdmFsaWQnKTtcbiAgICB9XG4gICAgY29uc3QgcG9zdEJvZHkgPSB7IGxvY2F0aW9uQ29udGFjdEluZm8sIGxvY2F0aW9uRW1haWxTZXR0aW5ncywgbG9jYXRpb25CcmFuZGluZywgb3duZXIgfTtcbiAgICBpZiAoZnJvbUluc3RydWN0b3JQYWdlKSB7XG4gICAgICBvblNhdmVOZXdMb2NhdGlvbihwb3N0Qm9keSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uQWRkTmV3TG9jYXRpb24ocG9zdEJvZHkpO1xuICAgIH1cbiAgICBjb25zb2xlLndhcm4oJ3N0dWJiZWQgb3V0IHNhdmUgZnVuY3Rpb24nKTtcbiAgICB0aGlzLm9uQ2xvc2VNb2RhbCgpO1xuICB9XG5cbiAgb25SZXNldExvY2F0aW9uID0gKCkgPT4gdGhpcy5zZXRTdGF0ZShpbml0aWFsU3RhdGUpO1xuXG4gIG9uQ2xvc2VNb2RhbCA9ICgpID0+IHtcbiAgICBjb25zdCB7IG9uQ2xvc2UgfSA9IHRoaXMucHJvcHM7XG4gICAgb25DbG9zZSgpO1xuICAgIHRoaXMub25SZXNldExvY2F0aW9uKCk7XG4gIH1cblxuICAvLyBXZSBwdWxsIHRoZSB2YWx1ZSBiYXNlZCBvbiB0aGUgZmllbGQgdHlwZSB0aGVuIG1lcmdlIHRoYXQgdXBkYXRlZCBrZXkvdmFsdWUgcGFpciB3aXRoIHRoZSBsYXN0IHZlcnNpb24gb2YgY29tcG9uZW50IHN0YXRlXG4gIGhhbmRsZURldGFpbHNDaGFuZ2UgPSAoZXZlbnQsIG5hbWUsIHNlY3Rpb24pID0+IHtcbiAgICBsZXQgdmFsdWU7XG4gICAgaWYgKGV2ZW50LmhleCkge1xuICAgICAgdmFsdWUgPSBldmVudC5oZXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlID0gZXZlbnQudGFyZ2V0ID8gZXZlbnQudGFyZ2V0LnZhbHVlIDogZXZlbnQ7XG4gICAgfVxuICAgIGNvbnN0IHVwZGF0ZWRTdGF0ZSA9IHVwZGF0ZSh0aGlzLnN0YXRlLCB7XG4gICAgICBbc2VjdGlvbl06IHsgJG1lcmdlOiB7IFtuYW1lXTogdmFsdWUgfSB9LFxuICAgIH0pO1xuICAgIHRoaXMuc2V0U3RhdGUodXBkYXRlZFN0YXRlKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IG9wZW4gfSA9IHRoaXMucHJvcHM7XG4gICAgY29uc3QgeyBvd25lckNvbnRhY3RJbmZvLCBsb2NhdGlvbkVtYWlsU2V0dGluZ3MsIGxvY2F0aW9uQ29udGFjdEluZm8sIGxvY2F0aW9uQnJhbmRpbmcgfSA9IHRoaXMuc3RhdGU7XG4gICAgcmV0dXJuIChcbiAgICAgIDxQb3J0YWwgc2VsZWN0b3I9XCIjbW9kYWxcIj5cbiAgICAgICAge29wZW4gJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3ZlcmxheVwiPlxuICAgICAgICAgICAgPENsaWNrT2ZmQ29tcG9uZW50V3JhcHBlciBvbk91dGVyQ2xpY2s9e3RoaXMub25DbG9zZU1vZGFsfT5cbiAgICAgICAgICAgICAgPGRpdiBpZD1cIm1vZGFsX3VzZXJfY3JlYXRlXCIgY2xhc3NOYW1lPVwibW9kYWwgbW9kYWwtY3VzdG9tIG1vZGFsLWN1c3RvbS1sYXJnZSBtb2RhbC1ncmF5XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLW1vZGFsIGNhcmQtbWFpbiBjYXJkIGdyZXkgbGlnaHRlbi0zXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtcGFuZWwgY2FyZC1wYW5lbC10aXRsZVwiIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogJyMzMTgzN2EnLCBjb2xvcjogJyNmZmYnIH19PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtcGFuZWwtcm93IHJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sXCIgc3R5bGU9e3sgZGlzcGxheTogJ2Jsb2NrJyB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJoMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJoZWFkaW5nLWhvbGRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhlYWRpbmctYmxvY2tcIj5DcmVhdGUgTmV3IE93bmVyPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJibG9jay1pY29uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImljb24tb3duZXJcIj48L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtaWNvblwiPk93bmVyPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkLWJvZHlcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBtYi0wXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8T3duZXJDb250YWN0SW5mb1xuICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZT17b3duZXJDb250YWN0SW5mb31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlRGV0YWlsc0NoYW5nZT17dGhpcy5oYW5kbGVEZXRhaWxzQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxMb2NhdGlvbkNvbnRhY3RJbmZvXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlPXtsb2NhdGlvbkNvbnRhY3RJbmZvfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVEZXRhaWxzQ2hhbmdlPXt0aGlzLmhhbmRsZURldGFpbHNDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IG1iLTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxMb2NhdGlvbkVtYWlsU2V0dGluZ3NcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU9e2xvY2F0aW9uRW1haWxTZXR0aW5nc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlRGV0YWlsc0NoYW5nZT17dGhpcy5oYW5kbGVEZXRhaWxzQ2hhbmdlfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxMb2NhdGlvbkJyYW5kaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlPXtsb2NhdGlvbkJyYW5kaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVEZXRhaWxzQ2hhbmdlPXt0aGlzLmhhbmRsZURldGFpbHNDaGFuZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtb2RhbC1mb290ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgICAgICAgICAgaHJlZj1cIiMhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25DbG9zZU1vZGFsfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibW9kYWwtY2xvc2Ugd2F2ZXMtZWZmZWN0IHdhdmVzLXRlYWwgYnRuLWZsYXQgcGluay10ZXh0IHRleHQtZGFya2VuLTFcIlxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgICAgICAgICAgaHJlZj1cIiNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYnRuXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMub25TdWJtaXR9XG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgU2F2ZVxuICAgICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L0NsaWNrT2ZmQ29tcG9uZW50V3JhcHBlcj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICB7YFxuICAgICAgICAgICAgICAub3ZlcmxheSB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC43KTtcbiAgICAgICAgICAgICAgICB0b3A6IDA7XG4gICAgICAgICAgICAgICAgcmlnaHQ6IDA7XG4gICAgICAgICAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICAgICAgICAgIGxlZnQ6IDA7XG4gICAgICAgICAgICAgICAgei1pbmRleDogOTk5O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC5jYXJkLW1vZGFsIHtcbiAgICAgICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNnB4O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC5tb2RhbCB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgICAgIHRvcDogMTAlO1xuICAgICAgICAgICAgICAgIHJpZ2h0OiAxMCU7XG4gICAgICAgICAgICAgICAgbGVmdDogMTAlO1xuICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMjRweCAzOHB4IDNweCByZ2JhKDAsIDAsIDAsIDAuMTQpLCAwIDlweCA0NnB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMTIpLCAwIDExcHggMTVweCAtN3B4IHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAubW9kYWwtY3VzdG9tIHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICAgICAgICAgIHZpc2liaWxpdHk6IHZpc2libGU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLm1vZGFsLWZvb3RlciB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGB9XG4gICAgICAgIDwvc3R5bGU+XG4gICAgICA8L1BvcnRhbD5cbiAgICApO1xuICB9XG59XG5cbk5ld0xvY2F0aW9uTW9kYWwucHJvcFR5cGVzID0ge1xuICBvcGVuOiBQcm9wVHlwZXMuYm9vbC5pc1JlcXVpcmVkLFxuICBvbkNsb3NlOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgTmV3TG9jYXRpb25Nb2RhbDtcbiJdfQ== */\\n/*@ sourceURL=/Volumes/HDD/Sites/clearchoicetestprep/clear-choice-admin/components/Location/components/NewLocationModal/index.js */\"));\n  }\n\n}\n\nNewLocationModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired\n};\nexport default NewLocationModal;","map":{"version":3,"sources":["/Volumes/HDD/Sites/clearchoicetestprep/clear-choice-admin/components/Location/components/NewLocationModal/index.js"],"names":["React","PropTypes","update","Portal","ClickOffComponentWrapper","OwnerContactInfo","LocationContactInfo","LocationEmailSettings","LocationBranding","nestedCreateFieldValidation","initialState","NewLocationModal","Component","constructor","props","validation","cb","setState","event","preventDefault","owner","locationContactInfo","locationEmailSettings","locationBranding","state","onSaveNewLocation","onSaveLocationError","onAddNewLocation","fromInstructorPage","valid","onSetValidation","console","warn","postBody","onCloseModal","onClose","onResetLocation","name","section","value","hex","target","updatedState","$merge","ownerContactInfo","firstName","lastName","email","gender","phone","streetAddress","city","zip","automatedEmailOriginAddress","automatedEmailSalutation","locationName","locationNickname","locationEmail","locationPhoneNumber","website","locationStreetAddress","locationCity","locationState","locationZip","locationUrl","headerColor1","headerColor2","headerLogoBackgroundColor","headerLogoBackgroundAlpha","horizontalLogoVariation","squareLogoVariation","backgroundImage","backgroundBlur","backgroundOverlayAlpha","studentWelcomeVideo","instructorWelcomeVideo","render","open","backgroundColor","color","display","handleDetailsChange","onSubmit","propTypes","bool","isRequired","func"],"mappings":"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","sourcesContent":["/* eslint-disable no-unused-vars */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport update from 'immutability-helper';\n\nimport Portal from '../../../Portal';\nimport ClickOffComponentWrapper from '../../../ClickOffComponentWrapper';\n\nimport OwnerContactInfo from './components/OwnerContactInfo';\nimport LocationContactInfo from '../SharedModalComponents/LocationContactInfo';\nimport LocationEmailSettings from '../SharedModalComponents/LocationEmailSettings';\nimport LocationBranding from '../SharedModalComponents/LocationBranding';\n\nimport { nestedCreateFieldValidation } from '../../../utils/fieldValidation';\nimport initialState from '../../utils/initialState';\n\nclass NewLocationModal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ownerContactInfo: {\n        firstName: '',\n        lastName: '',\n        email: '',\n        gender: '',\n        phone: '',\n        streetAddress: '',\n        city: '',\n        state: '',\n        zip: '',\n      },\n      locationEmailSettings: {\n        automatedEmailOriginAddress: '',\n        automatedEmailSalutation: '',\n      },\n      locationContactInfo: {\n        locationName: '',\n        locationNickname: '',\n        locationEmail: '',\n        locationPhoneNumber: '',\n        website: '',\n        locationStreetAddress: '',\n        locationCity: '',\n        locationState: '',\n        locationZip: '',\n      },\n      locationBranding: {\n        locationUrl: '',\n        headerColor1: '',\n        headerColor2: '',\n        headerLogoBackgroundColor: '',\n        headerLogoBackgroundAlpha: '',\n        horizontalLogoVariation: '',\n        squareLogoVariation: '',\n        backgroundImage: '',\n        backgroundBlur: '',\n        backgroundOverlayAlpha: '',\n        studentWelcomeVideo: '',\n        instructorWelcomeVideo: '',\n      },\n      validation: {\n        ownerContactInfo: {\n          firstName: true,\n          lastName: true,\n          email: true,\n          gender: true,\n        },\n        locationEmailSettings: {\n          automatedEmailOriginAddress: true,\n          automatedEmailSalutation: true,\n        },\n        locationContactInfo: {\n          locationName: true,\n          locationNickname: true,\n          locationEmail: true,\n        },\n        locationBranding: {\n          locationUrl: true,\n          headerColor1: true,\n          headerColor2: true,\n          headerLogoBackgroundColor: true,\n          headerLogoBackgroundAlpha: true,\n          horizontalLogoVariation: true,\n          squareLogoVariation: true,\n          backgroundImage: true,\n          backgroundBlur: true,\n          backgroundOverlayAlpha: true,\n        },\n      },\n    };\n  }\n\n  // This function is passed into nestedCreateFieldValidation, it takes the result of the validation check and a callback function\n  // The updated component validation state is set and then the callback is dispatched - in this case, the callback handles the toast warning at the container level\n  onSetValidation = (validation, cb) => this.setState({ validation }, cb);\n\n  // If all the fields are valid, we construct a post body and call onSaveNewLocation passed down from the container level\n  onSubmit = async (event) => {\n    event.preventDefault();\n    const { owner, locationContactInfo, locationEmailSettings, locationBranding } = this.state;\n    const { onSaveNewLocation, onSaveLocationError, onAddNewLocation, fromInstructorPage = false } = this.props;\n    // NOTE: Swap out what instance of valid is active if you want to test saving a new location without worrying about validation\n    // const valid = true;\n    const valid = await nestedCreateFieldValidation(this.state, this.onSetValidation, (validation) => console.warn('validation', validation));\n    if (!valid) {\n      // return onSaveLocationError();\n      console.warn('not valid');\n    }\n    const postBody = { locationContactInfo, locationEmailSettings, locationBranding, owner };\n    if (fromInstructorPage) {\n      onSaveNewLocation(postBody);\n    } else {\n      onAddNewLocation(postBody);\n    }\n    console.warn('stubbed out save function');\n    this.onCloseModal();\n  }\n\n  onResetLocation = () => this.setState(initialState);\n\n  onCloseModal = () => {\n    const { onClose } = this.props;\n    onClose();\n    this.onResetLocation();\n  }\n\n  // We pull the value based on the field type then merge that updated key/value pair with the last version of component state\n  handleDetailsChange = (event, name, section) => {\n    let value;\n    if (event.hex) {\n      value = event.hex;\n    } else {\n      value = event.target ? event.target.value : event;\n    }\n    const updatedState = update(this.state, {\n      [section]: { $merge: { [name]: value } },\n    });\n    this.setState(updatedState);\n  }\n\n  render() {\n    const { open } = this.props;\n    const { ownerContactInfo, locationEmailSettings, locationContactInfo, locationBranding } = this.state;\n    return (\n      <Portal selector=\"#modal\">\n        {open && (\n          <div className=\"overlay\">\n            <ClickOffComponentWrapper onOuterClick={this.onCloseModal}>\n              <div id=\"modal_user_create\" className=\"modal modal-custom modal-custom-large modal-gray\">\n                <div className=\"card-modal card-main card grey lighten-3\">\n                  <div className=\"card-panel card-panel-title\" style={{ backgroundColor: '#31837a', color: '#fff' }}>\n                    <div className=\"card-panel-row row\">\n                      <div className=\"col\" style={{ display: 'block' }}>\n                        <h3 className=\"h2\">\n                          <span className=\"heading-holder\">\n                            <span className=\"heading-block\">Create New Owner</span>\n                          </span>\n                        </h3>\n                      </div>\n                      <div className=\"col\">\n                        <span className=\"block-icon\">\n                          <i className=\"icon-owner\"></i>\n                          <span className=\"text-icon\">Owner</span>\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"card-content\">\n                    <div className=\"card-body\">\n                      <div className=\"row mb-0\">\n                        <OwnerContactInfo\n                          state={ownerContactInfo}\n                          handleDetailsChange={this.handleDetailsChange}\n                        />\n                        <LocationContactInfo\n                          state={locationContactInfo}\n                          handleDetailsChange={this.handleDetailsChange}\n                        />\n                      </div>\n                      <div className=\"row mb-0\">\n                        <LocationEmailSettings\n                          state={locationEmailSettings}\n                          handleDetailsChange={this.handleDetailsChange}\n                        />\n                        <LocationBranding\n                          state={locationBranding}\n                          handleDetailsChange={this.handleDetailsChange}\n                        />\n                      </div>\n                    </div>\n                    <div className=\"modal-footer\">\n                      <a\n                        href=\"#!\"\n                        onClick={this.onCloseModal}\n                        className=\"modal-close waves-effect waves-teal btn-flat pink-text text-darken-1\"\n                      >\n                        Cancel\n                      </a>\n                      <a\n                        href=\"#\"\n                        className=\"btn\"\n                        onClick={this.onSubmit}\n                      >\n                        Save\n                      </a>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </ClickOffComponentWrapper>\n          </div>\n        )}\n        <style jsx>\n          {`\n              .overlay {\n                position: fixed;\n                background-color: rgba(0, 0, 0, 0.7);\n                top: 0;\n                right: 0;\n                bottom: 0;\n                left: 0;\n                z-index: 999;\n              }\n              .card-modal {\n                margin: 0;\n                border-radius: 6px;\n              }\n              .modal {\n                display: block;\n                background-color: white;\n                position: absolute;\n                top: 10%;\n                right: 10%;\n                left: 10%;\n                box-shadow: 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12), 0 11px 15px -7px rgba(0, 0, 0, 0.2);\n              }\n              .modal-custom {\n                opacity: 1;\n                visibility: visible;\n              }\n              .modal-footer {\n                background-color: white;\n              }\n            `}\n        </style>\n      </Portal>\n    );\n  }\n}\n\nNewLocationModal.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default NewLocationModal;\n"]},"metadata":{},"sourceType":"module"}