{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { Doughnut } from 'react-chartjs-2';\nexport const data = percentage => ({\n  datasets: [{\n    data: [percentage, 100 - percentage],\n    backgroundColor: ['#00bbf7', '#eaeaea']\n  }]\n});\n\nconst getCardClass = (disabled, available) => {\n  if (disabled) {\n    return 'card-test card-disabled card-main card';\n  }\n\n  if (!available) {\n    return 'card-test card-nonavailable card-main card';\n  }\n\n  return 'card-test card-main card';\n};\n\nclass ScoredTestCard extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"onSetDropdown\", dropdownIndex => this.setState({\n      dropdownIndex,\n      dropdownIsOpen: true\n    }));\n\n    _defineProperty(this, \"onCloseDropdown\", () => this.setState({\n      dropdownIsOpen: false,\n      dropdownIndex: null\n    }));\n\n    _defineProperty(this, \"onCreateTest\", event => {\n      event.preventDefault();\n      console.warn('Pending implementation of create test UI and functionality');\n    });\n\n    _defineProperty(this, \"handleDropdownClick\", event => {\n      const {\n        onSetDropdown,\n        onCloseDropdown,\n        dropdownIsOpen,\n        index\n      } = this.props;\n      event.preventDefault();\n\n      if (dropdownIsOpen) {\n        return onCloseDropdown();\n      }\n\n      return onSetDropdown(index);\n    });\n  }\n\n  render() {\n    const {\n      test,\n      dropdownIndex,\n      index,\n      dropdownIsOpen,\n      onEditTest,\n      onDownloadReport,\n      onResetTest,\n      onDeleteTest\n    } = this.props;\n    const {\n      flags = [],\n      disabled,\n      available,\n      testType,\n      testDate,\n      title,\n      version,\n      availableDate,\n      dueDate,\n      completionDate,\n      initialScore,\n      targetScore,\n      currentScore,\n      totalGain,\n      subjects\n    } = test;\n    return __jsx(\"div\", {\n      className: \"col s12 m8 l7 xl5\"\n    }, __jsx(\"div\", {\n      className: \"card-main-col\"\n    }, __jsx(\"div\", {\n      className: getCardClass(disabled, available)\n    }, __jsx(\"div\", {\n      className: \"card-content\"\n    }, __jsx(\"div\", {\n      className: \"card-title-row row\"\n    }, __jsx(\"div\", {\n      className: \"col s9\"\n    }, __jsx(\"div\", {\n      className: \"card-title-block\"\n    }, __jsx(\"h4\", {\n      className: \"h2\"\n    }, __jsx(\"b\", null, testType === 'real' ? 'Real SAT' : title), testType === 'real' ? [\"- \", title] : null), __jsx(\"time\", {\n      dateTime: \"2018-03-05\",\n      className: \"title-meta\"\n    }, testType === 'real' ? testDate : [\"Version \", version]))), __jsx(\"div\", {\n      className: \"col s3\"\n    }, __jsx(\"div\", {\n      className: \"row icons-row\"\n    }, flags.length ? __jsx(\"span\", {\n      className: \"badge-rounded-xs badge red darken-2 white-text\"\n    }, __jsx(\"b\", {\n      className: \"badge-text\"\n    }, flags.length), __jsx(\"i\", {\n      className: \"icon-flag\"\n    })) : null, __jsx(\"div\", {\n      className: \"dropdown-block col\"\n    }, __jsx(\"a\", {\n      href: \"#\",\n      \"data-target\": \"dropdown01\",\n      className: \"dropdown-trigger btn\",\n      onClick: this.handleDropdownClick\n    }, __jsx(\"i\", {\n      className: \"material-icons dots-icon\"\n    }, \"more_vert\")), dropdownIsOpen && dropdownIndex === index ? __jsx(\"ul\", {\n      id: \"dropdown01\",\n      className: \"dropdown-content\",\n      style: {\n        display: 'block',\n        transformOrigin: '0px 0px 0px',\n        opacity: '1',\n        transform: 'scaleX(1) scaleY(1)'\n      }\n    }, __jsx(\"li\", null, __jsx(\"a\", {\n      href: \"#\",\n      onClick: onEditTest\n    }, \"View/Edit\")), __jsx(\"li\", null, __jsx(\"a\", {\n      href: \"#\",\n      onClick: onDownloadReport\n    }, \"Download Score Report\")), __jsx(\"li\", null, __jsx(\"a\", {\n      href: \"#\",\n      className: \"red-text text-darken-3\",\n      onClick: onResetTest\n    }, \"Reset\")), __jsx(\"li\", null, __jsx(\"a\", {\n      href: \"#\",\n      className: \"red-text text-darken-3\",\n      onClick: onDeleteTest\n    }, \"Delete\"))) : null)))), __jsx(\"div\", {\n      className: \"card-test-row row d-flex mb-0\"\n    }, __jsx(\"div\", {\n      className: \"col s6\"\n    }, __jsx(\"div\", {\n      className: \"card-description\"\n    }, testType !== 'real' ? [__jsx(\"dl\", {\n      className: \"dl-horizontal\",\n      key: \"0\"\n    }, __jsx(\"dt\", null, \"Available:\"), __jsx(\"dd\", null, __jsx(\"time\", {\n      dateTime: \"2018-12-15\"\n    }, availableDate))), __jsx(\"dl\", {\n      className: \"dl-horizontal\",\n      key: \"1\"\n    }, __jsx(\"dt\", null, \"Due:\"), __jsx(\"dd\", null, __jsx(\"time\", {\n      dateTime: \"2018-12-15\"\n    }, dueDate))), completionDate.length ? __jsx(\"dl\", {\n      className: \"dl-horizontal\",\n      key: \"2\"\n    }, __jsx(\"dt\", null, \"Complete:\"), __jsx(\"dd\", null, __jsx(\"time\", {\n      dateTime: \"2018-12-15\"\n    }, completionDate))) : null] : null), __jsx(\"div\", {\n      className: currentScore ? 'chart-container chart-container-160' : 'chart-container chart-container-160 chart-value-zero start-anim'\n    }, __jsx(\"div\", {\n      className: \"chart-holder\"\n    }, __jsx(\"span\", {\n      className: \"svg-curved-bar\",\n      \"data-values\": \"{\\\"from\\\": 1100, \\\"to\\\": 1460, \\\"current\\\": 1210}\",\n      \"data-duration\": \"1\"\n    }, __jsx(Doughnut, {\n      data: () => data(initialScore && !disabled && available && currentScore ? Number(initialScore / targetScore) * 100 : 0),\n      options: {\n        circumference: 1 * Math.PI,\n        rotation: 1 * Math.PI,\n        cutoutPercentage: 60,\n        tooltips: false\n      }\n    }), __jsx(\"span\", {\n      className: \"js-diff-holder\"\n    }, __jsx(\"span\", {\n      className: \"js-diff\"\n    }, __jsx(\"span\", {\n      className: \"txt\",\n      style: {\n        opacity: '1',\n        bottom: '65px',\n        color: 'black',\n        fontWeight: '600',\n        fontSize: '12px'\n      }\n    }, \"+\", totalGain)))), __jsx(\"span\", {\n      className: \"chart-value\",\n      style: {\n        backgroundColor: '#00bbf7'\n      }\n    }, __jsx(\"span\", {\n      \"data-count-up\": true,\n      \"data-start-val\": \"1100\",\n      \"data-end-val\": \"1210\",\n      \"data-duration\": \"1\"\n    }, currentScore))), __jsx(\"div\", {\n      className: \"chart-row\"\n    }, __jsx(\"div\", {\n      className: \"chart-col chart-start\"\n    }, __jsx(\"span\", {\n      className: \"amount\"\n    }, initialScore), __jsx(\"br\", null), __jsx(\"span\", {\n      className: \"amount-text\"\n    }, \"initial\")), __jsx(\"div\", {\n      className: \"chart-col chart-end\"\n    }, __jsx(\"span\", {\n      className: \"amount\"\n    }, targetScore), __jsx(\"br\", null), __jsx(\"span\", {\n      className: \"amount-text\"\n    }, \"target\"))))), __jsx(\"div\", {\n      className: \"col s6 right-align\"\n    }, __jsx(\"div\", {\n      className: \"charts-row row mb-0\"\n    }, __jsx(\"div\", {\n      className: \"col s6\"\n    }, __jsx(\"div\", {\n      className: \"chart-block chart-block-test-sm\"\n    }, __jsx(\"span\", {\n      className: \"value-max\"\n    }, subjects[0].targetScore), __jsx(\"div\", {\n      className: \"js-donut-chart\",\n      \"data-stroke-width\": \"11\",\n      \"data-source\": \"./inc/score-data-test-reading.json\"\n    }), __jsx(\"div\", {\n      className: \"chart-text\"\n    }, __jsx(\"span\", {\n      className: \"title\"\n    }, \"Reading\"), __jsx(\"span\", {\n      className: \"value\"\n    }, subjects[0].currentScore), __jsx(\"span\", {\n      className: \"description\"\n    }, \"+\", subjects[0].totalGain)))), __jsx(\"div\", {\n      className: \"col s6\"\n    }, __jsx(\"div\", {\n      className: \"chart-block chart-block-test-sm\"\n    }, __jsx(\"span\", {\n      className: \"value-max\"\n    }, subjects[1].targetScore), __jsx(\"div\", {\n      className: \"js-donut-chart\",\n      \"data-stroke-width\": \"11\",\n      \"data-source\": \"./inc/score-data-test-writing.json\"\n    }), __jsx(\"div\", {\n      className: \"chart-text\"\n    }, __jsx(\"span\", {\n      className: \"title\"\n    }, \"Writing\"), __jsx(\"span\", {\n      className: \"value\"\n    }, subjects[1].currentScore), __jsx(\"span\", {\n      className: \"description\"\n    }, \"+\", subjects[1].totalGain))))), __jsx(\"div\", {\n      className: !subjects[2].currentScore ? 'chart-block chart-block-test' : 'chart-block chart-block-test chart-block-zero'\n    }, __jsx(\"span\", {\n      className: \"value-max\"\n    }, subjects[2].currentScore), __jsx(\"div\", {\n      className: \"js-donut-chart\",\n      \"data-stroke-width\": \"15\",\n      \"data-source\": \"./inc/score-data-test-math.json\"\n    }), __jsx(\"div\", {\n      className: \"chart-text\"\n    }, __jsx(\"span\", {\n      className: \"title\"\n    }, \"Math\"), __jsx(\"span\", {\n      className: \"value\"\n    }, subjects[2].currentScore), subjects[2].totalGain ? __jsx(\"span\", {\n      className: \"description\"\n    }, \"+\", subjects[2].totalGain) : null))))))));\n  }\n\n}\n\nexport default ScoredTestCard;","map":null,"metadata":{},"sourceType":"module"}