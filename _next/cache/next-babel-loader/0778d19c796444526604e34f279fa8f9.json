{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/Users/wolf/Documents/clearchoice/admin/feature-view-updated-course/clear-choice-admin/components/Student/DetailLessonList/components/AssignLessonModal/index.js\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport update from 'immutability-helper';\nimport moment from 'moment';\nimport Portal from '../../../../Portal';\nimport LessonListItem from './components/LessonListItem';\nimport { totalProblemsDescending, totalProblemsAscending, timeEstimate, timeEstimateAscending, subjectAscending, subjectDescending, passageAscending, passageDescending, lessonNameDescending, lessonNameAscending, statusDescending, statusAscending, flagsAscending, flagsDescending, lessonTypeAscending, lessonTypeDescending } from '../../../../utils/sortFunctions';\nimport ModalFilterSection from '../ModalFilterSection';\nimport AssignDatesModal from '../AssignDatesModal';\n\nclass AssignLessonModal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onOpenDatesModal\", () => this.setState({\n      datesModalOpen: true\n    }));\n\n    _defineProperty(this, \"onCloseDatesModal\", () => this.setState({\n      datesModalOpen: false\n    }));\n\n    _defineProperty(this, \"onToggleChecked\", () => {\n      this.setState({\n        checked: !this.state.checked\n      }, () => this.onChecked());\n    });\n\n    _defineProperty(this, \"onClearFilters\", () => this.setState({\n      statusFilters: [],\n      subjectFilters: [],\n      lessonTypeFilters: [],\n      unitFilter: \"\",\n      nameFilter: \"\"\n    }));\n\n    _defineProperty(this, \"onSetSort\", sort => this.setState({\n      sort\n    }));\n\n    _defineProperty(this, \"onSetFilteredState\", lesson => this.setState({\n      nameFilter: lesson\n    }));\n\n    _defineProperty(this, \"onUnsetFilteredState\", filter => this.setState({\n      [filter]: \"\"\n    }));\n\n    _defineProperty(this, \"onSetUnitFilter\", unit => this.setState({\n      unitFilter: unit\n    }));\n\n    _defineProperty(this, \"onChecked\", () => {\n      const {\n        checkedLessons,\n        checked\n      } = this.state;\n\n      if (checked) {\n        let mappedLessons = this.getMappableLessons();\n\n        for (let i = 0; i < mappedLessons.length; i++) {\n          if (checkedLessons.indexOf(mappedLessons[i]) > -1) {\n            mappedLessons = mappedLessons.filter(lesson => checkedLessons.indexOf(lesson) === -1);\n          }\n        }\n\n        this.setState(prevState => {\n          prevState.checkedLessons.push(...mappedLessons);\n        });\n      } else {\n        this.setState({\n          checkedLessons: []\n        });\n      }\n    });\n\n    _defineProperty(this, \"onSortLessons\", lessons => {\n      const {\n        sort\n      } = this.state;\n\n      switch (sort) {\n        case 'subjectAscending':\n          return lessons.sort(subjectAscending);\n\n        case 'subjectDescending':\n          return lessons.sort(subjectDescending);\n\n        case 'passageAscending':\n          return lessons.sort(passageAscending);\n\n        case 'passageDescending':\n          return lessons.sort(passageDescending);\n\n        case 'statusAscending':\n          return lessons.sort(statusAscending);\n\n        case 'statusDescending':\n          return lessons.sort(statusDescending);\n\n        case 'flagsAscending':\n          return lessons.sort(flagsAscending);\n\n        case 'flagsDescending':\n          return lessons.sort(flagsDescending);\n\n        case 'lessonNameAscending':\n          return lessons.sort(lessonNameAscending);\n\n        case 'lessonNameDescending':\n          return lessons.sort(lessonNameDescending);\n\n        case 'lessonTypeAscending':\n          return lessons.sort(lessonTypeAscending);\n\n        case 'lessonTypeDescending':\n          return lessons.sort(lessonTypeDescending);\n\n        case 'timeEstimateDescending':\n          return lessons.sort(timeEstimate);\n\n        case 'timeEstimateAscending':\n          return lessons.sort(timeEstimateAscending);\n\n        case 'totalProblemsDescending':\n          return lessons.sort(totalProblemsDescending);\n\n        case 'totalProblemsAscending':\n          return lessons.sort(totalProblemsAscending);\n\n        default:\n          break;\n      }\n    });\n\n    _defineProperty(this, \"onFilterByName\", () => {\n      const {\n        lessons,\n        nameFilter\n      } = this.state;\n      return lessons.reduce((finalArr, currentLesson) => {\n        const {\n          lessonName\n        } = currentLesson;\n        const lessonString = lessonName.replace(/\\s/g, \"\").toLowerCase();\n\n        if (lessonString.indexOf(nameFilter) !== -1 && finalArr.indexOf(currentLesson) === -1) {\n          finalArr.push(currentLesson);\n        }\n\n        return finalArr;\n      }, []);\n    });\n\n    _defineProperty(this, \"onFilterLessons\", () => {\n      const {\n        statusFilters,\n        subjectFilters,\n        lessonTypeFilters,\n        unitFilter,\n        lessons: allLessons\n      } = this.state;\n      let lessons = allLessons;\n\n      if (statusFilters.length && statusFilters.indexOf('all') === -1) {\n        if (statusFilters.indexOf(\"Unassigned\") !== -1) {\n          lessons = lessons.filter(lesson => statusFilters.indexOf(lesson.status) !== -1);\n        } else {\n          lessons = lessons.filter(lesson => lesson.assigned === true);\n        }\n      }\n\n      if (subjectFilters.length && subjectFilters.indexOf('all') === -1) {\n        lessons = lessons.filter(lesson => subjectFilters.indexOf(lesson.subject) !== -1);\n      }\n\n      if (lessonTypeFilters.length && lessonTypeFilters.indexOf('all') === -1) {\n        lessons = lessons.filter(lesson => lessonTypeFilters.indexOf(lesson.type) !== -1);\n      }\n\n      if (unitFilter.length && unitFilter.indexOf('all') === -1) {\n        lessons = lessons.filter(lesson => unitFilter.indexOf(lesson.unitNumber) !== -1);\n      }\n\n      return lessons;\n    });\n\n    _defineProperty(this, \"onHandleDates\", (assignDate, assignTime, dueDate, dueTime) => {\n      const {\n        onAddUpdatedLessons\n      } = this.props;\n      const updatedLessons = [];\n      const {\n        checkedLessons: previousCheckedLessons\n      } = this.state;\n\n      for (let i = 0; i < previousCheckedLessons.length; i++) {\n        const updatedCheckedLessons = update(previousCheckedLessons[i], {\n          $merge: {\n            assigned: true,\n            dueDate: moment(dueDate).format('DD/MM/YYYY'),\n            dueTime,\n            availableDate: moment(assignDate).format(\"DD/MM/YYYY\"),\n            status: \"Scheduled\",\n            assignTime\n          }\n        });\n        updatedLessons.push(updatedCheckedLessons);\n      }\n\n      onAddUpdatedLessons(updatedLessons);\n      this.props.onCloseModal();\n    });\n\n    _defineProperty(this, \"setSortType\", name => {\n      const {\n        sort\n      } = this.state;\n\n      if (sort !== `${name}Ascending` && sort !== `${name}Descending`) {\n        this.onSetSort(`${name}Ascending`);\n      }\n\n      if (sort === `${name}Descending`) {\n        this.onSetSort(`${name}Ascending`);\n      } else {\n        this.onSetSort(`${name}Descending`);\n      }\n    });\n\n    _defineProperty(this, \"getMappableLessons\", () => {\n      const {\n        sort,\n        unitFilter,\n        lessons,\n        statusFilters,\n        subjectFilters,\n        lessonTypeFilters,\n        nameFilter\n      } = this.state;\n      let mappableLessons = lessons;\n\n      if (nameFilter.length) {\n        mappableLessons = this.onFilterByName();\n      }\n\n      if (statusFilters.length || unitFilter.length || lessonTypeFilters.length || subjectFilters.length) {\n        mappableLessons = this.onFilterLessons();\n      }\n\n      if (sort) {\n        return this.onSortLessons(mappableLessons);\n      }\n\n      return mappableLessons;\n    });\n\n    _defineProperty(this, \"handleCheckbox\", selectedLesson => {\n      const {\n        checkedLessons\n      } = this.state;\n      let updatedLessonArray;\n\n      if (checkedLessons.indexOf(selectedLesson) > -1) {\n        updatedLessonArray = checkedLessons.filter(lesson => lesson !== selectedLesson);\n      } else {\n        updatedLessonArray = [...checkedLessons, selectedLesson];\n      }\n\n      this.setState({\n        checkedLessons: updatedLessonArray\n      });\n    });\n\n    _defineProperty(this, \"handleFilterClick\", (filterType, filter) => {\n      const {\n        subjectFilters: currentSubjectFilters,\n        statusFilters: currentStatusFilters,\n        lessonTypeFilters: currentLessonTypeFilters\n      } = this.state;\n      let modifiedFilterCurrentState;\n      let modifiedFilterName;\n      let modifiedFilterUpdatedState;\n\n      switch (filterType) {\n        case 'subject':\n          modifiedFilterCurrentState = currentSubjectFilters;\n          modifiedFilterName = 'subjectFilters';\n          break;\n\n        case 'status':\n          modifiedFilterCurrentState = currentStatusFilters;\n          modifiedFilterName = 'statusFilters';\n          break;\n\n        case 'lessonType':\n          modifiedFilterCurrentState = currentLessonTypeFilters;\n          modifiedFilterName = 'lessonTypeFilters';\n          break;\n\n        default:\n          break;\n      } // Decide whether we're adding or removing the selected filter\n\n\n      if (modifiedFilterCurrentState.indexOf(filter) === -1) {\n        modifiedFilterUpdatedState = update(modifiedFilterCurrentState, {\n          $push: [filter]\n        });\n      } else {\n        const filterIndex = modifiedFilterCurrentState.indexOf(filter);\n        modifiedFilterUpdatedState = update(modifiedFilterCurrentState, {\n          $splice: [[filterIndex, 1]]\n        });\n      }\n\n      this.setState({\n        [modifiedFilterName]: modifiedFilterUpdatedState\n      });\n    });\n\n    _defineProperty(this, \"mapLessonListItem\", () => this.getMappableLessons().map((lesson, index) => __jsx(LessonListItem, {\n      lesson: lesson,\n      index: index,\n      selectAll: this.state.checked,\n      key: lesson.id,\n      onSelectLesson: this.onSelectLesson,\n      renderLessonIcon: this.renderLessonIcon,\n      checkedLessons: this.state.checkedLessons,\n      handleCheckbox: this.handleCheckbox,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233\n      },\n      __self: this\n    })));\n\n    _defineProperty(this, \"renderTableHeader\", () => __jsx(\"div\", {\n      className: \"list-table-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"list-table-cell icon-cell\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, __jsx(\"label\", {\n      htmlFor: \"selectAll\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, __jsx(\"input\", {\n      type: \"checkbox\",\n      id: \"selectAll\",\n      defaultChecked: this.state.checked,\n      onChange: this.onToggleChecked,\n      className: \"filled-in\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }), __jsx(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, __jsx(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, \"\\xA0\")))), __jsx(\"div\", {\n      className: \"list-table-cell icon-cell\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }, \"\\xA0\"), __jsx(\"div\", {\n      className: \"list-table-cell name-cell\",\n      value: \"lessonName\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      href: \"#\",\n      onClick: () => this.setSortType(\"lessonName\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, __jsx(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, \"Lesson\"))), __jsx(\"div\", {\n      className: \"list-table-cell name-cell\",\n      style: {\n        width: '100px',\n        paddingLeft: '237px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      href: \"#\",\n      onClick: () => this.setSortType(\"status\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, __jsx(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, \"Status\"))), __jsx(\"div\", {\n      className: \"list-table-call completed-cell\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\"), __jsx(\"div\", {\n      className: \"list-table-cell type-cell\",\n      style: {\n        marginLeft: '30px',\n        paddingLeft: '58px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      href: \"#\",\n      onClick: () => this.setSortType(\"subject\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, __jsx(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, \"Subject\"))), __jsx(\"div\", {\n      className: \"list-table-cell completed-cell\",\n      style: {\n        paddingLeft: '56px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      href: \"#\",\n      onClick: () => this.setSortType(\"passage\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, __jsx(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, \"Page\"))), __jsx(\"div\", {\n      className: \"list-table-cell completed-cell\",\n      style: {\n        marginLeft: '30px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      href: \"#\",\n      onClick: () => this.setSortType(\"timeEstimate\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, __jsx(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, \"Time Est\"))), __jsx(\"div\", {\n      className: \"list-table-cell type-cell\",\n      style: {\n        marginLeft: '13px',\n        paddingLeft: '-1px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      href: \"#\",\n      onClick: () => this.setSortType(\"totalProblems\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, __jsx(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    }, \"Problems\"))), __jsx(\"div\", {\n      className: \"list-table-cell completed-cell\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      href: \"#\",\n      onClick: () => this.setSortType(\"lessonType\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, __jsx(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, \"Type\"))), __jsx(\"div\", {\n      className: \"list-table-cell flags-cell\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, __jsx(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, \"\\xA0\")), __jsx(\"div\", {\n      className: \"list-table-cell flags-cell\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, __jsx(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }, \"\\xA0\")), __jsx(\"div\", {\n      className: \"list-table-cell flags-cell\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      href: \"#\",\n      onClick: () => this.setSortType(\"alerts\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, __jsx(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, \"Flags\")))));\n\n    this.state = {\n      lessons: this.props.lessons,\n      statusFilters: [],\n      subjectFilters: [],\n      lessonTypeFilters: [],\n      sort: \"\",\n      nameFilter: \"\",\n      unitFilter: \"\",\n      checked: false,\n      checkedLessons: [],\n      datesModalOpen: false\n    };\n  }\n\n  render() {\n    const {\n      lessons,\n      subjectFilters,\n      statusFilters,\n      lessonTypeFilters\n    } = this.state;\n    const {\n      open,\n      onCloseModal\n    } = this.props;\n    return __jsx(Portal, {\n      selector: \"#modal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, open && __jsx(\"div\", {\n      className: \"jsx-3810222716\" + \" \" + \"overlay\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      id: \"assign-lesson-modal\",\n      className: \"jsx-3810222716\" + \" \" + \"modal modal-custom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"jsx-3810222716\" + \" \" + \"header-row card-panel light-blue lighten-1 white-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"jsx-3810222716\" + \" \" + \"card-panel-row row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"jsx-3810222716\" + \" \" + \"col s3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, \"\\xA0\"), __jsx(\"div\", {\n      className: \"jsx-3810222716\" + \" \" + \"col s9 right-align\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"jsx-3810222716\" + \" \" + \"row icons-row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, \" \", __jsx(\"span\", {\n      className: \"jsx-3810222716\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      href: \"#\",\n      onClick: onCloseModal,\n      className: \"jsx-3810222716\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, __jsx(\"i\", {\n      className: \"jsx-3810222716\" + \" \" + \"icon-close\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    })))))), __jsx(\"div\", {\n      className: \"jsx-3810222716\" + \" \" + \"card-panel-row row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"jsx-3810222716\" + \" \" + \"icon-col col s1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, __jsx(\"i\", {\n      className: \"jsx-3810222716\" + \" \" + \"icon-books\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    })), __jsx(\"div\", {\n      className: \"jsx-3810222716\" + \" \" + \"col s9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"jsx-3810222716\" + \" \" + \"card-panel-text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"jsx-3810222716\" + \" \" + \"text-large\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, \"Assign Lessons\"))))), __jsx(\"div\", {\n      style: {\n        backgroundColor: '#f2f2f2'\n      },\n      className: \"jsx-3810222716\" + \" \" + \"content-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }, __jsx(ModalFilterSection, {\n      handleFilterClick: this.handleFilterClick,\n      subjectFilters: subjectFilters,\n      statusFilters: statusFilters,\n      lessonTypeFilters: lessonTypeFilters,\n      onClearFilters: this.onClearFilters,\n      onSetFilteredState: this.onSetFilteredState,\n      onUnsetFilteredState: this.onUnsetFilteredState,\n      onSetSort: this.onSetSort,\n      onSetUnitFilter: this.onSetUnitFilter,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    }), __jsx(\"div\", {\n      style: {\n        marginTop: '50px'\n      },\n      className: \"jsx-3810222716\" + \" \" + \"container-md\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"jsx-3810222716\" + \" \" + \"result-row center-align\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }, __jsx(\"b\", {\n      className: \"jsx-3810222716\" + \" \" + \"result\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, \" - \", lessons.length, \" Lessons\")), __jsx(\"div\", {\n      style: {\n        margin: '0 -160px'\n      },\n      className: \"jsx-3810222716\" + \" \" + \"list-view-section\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"jsx-3810222716\" + \" \" + \"list-table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"jsx-3810222716\" + \" \" + \"list-table-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337\n      },\n      __self: this\n    }, this.renderTableHeader()), __jsx(\"div\", {\n      className: \"jsx-3810222716\" + \" \" + \"list-table-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340\n      },\n      __self: this\n    }, this.mapLessonListItem())))))), __jsx(AssignDatesModal, {\n      open: this.state.datesModalOpen,\n      onCloseDatesModal: this.onCloseDatesModal,\n      onHandleDates: this.onHandleDates,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 348\n      },\n      __self: this\n    }), __jsx(\"a\", {\n      href: \"#\",\n      onClick: this.onOpenDatesModal,\n      className: \"jsx-3810222716\" + \" \" + \"waves-effect waves-teal btn add-btn modal-trigger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353\n      },\n      __self: this\n    }, __jsx(\"i\", {\n      className: \"jsx-3810222716\" + \" \" + \"material-icons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353\n      },\n      __self: this\n    }, \"add\"), \"Assign Selected\")), __jsx(_JSXStyle, {\n      id: \"3810222716\",\n      __self: this\n    }, \".overlay.jsx-3810222716{position:fixed;background-color:rgba(0,0,0,0.7);top:0;right:0;bottom:0;left:0;z-index:999;}#assign-lesson-modal.jsx-3810222716{border-radius:6px;}.modal.jsx-3810222716{display:block;background-color:white;position:absolute;top:13%;right:0%;left:14%;box-shadow:0 24px 38px 3px rgba(0,0,0,0.14),0 9px 46px 8px rgba(0,0,0,0.12),0 11px 15px -7px rgba(0,0,0,0.2);}.modal-footer.jsx-3810222716{background-color:white;}.modal-custom.jsx-3810222716{opacity:1;visibility:visible;max-width:1280px !important;}#assign-lessons-header.jsx-3810222716{background:rgb(24,181,233) !important background:linear-gradient(90deg,rgba(24,181,233,1) 0%,rgba(8,107,140,1) 100%) !important;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy93b2xmL0RvY3VtZW50cy9jbGVhcmNob2ljZS9hZG1pbi9mZWF0dXJlLXZpZXctdXBkYXRlZC1jb3Vyc2UvY2xlYXItY2hvaWNlLWFkbWluL2NvbXBvbmVudHMvU3R1ZGVudC9EZXRhaWxMZXNzb25MaXN0L2NvbXBvbmVudHMvQXNzaWduTGVzc29uTW9kYWwvaW5kZXguanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBb1dXLEFBRzhCLEFBU0csQUFJSixBQVNTLEFBR2IsQUFNa0YsVUFMekUsSUFaSSxDQWJhLEdBVXRDLEtBWUEsTUFJOEIsUUFaVixXQWJaLE1BQ0UsQ0FhQSxFQVlWLEtBeEJXLENBYUEsUUFaRixDQWFFLE1BWkcsR0FhNEcsU0FaMUgsc0NBeUJBLDhEQVpBIiwiZmlsZSI6Ii9Vc2Vycy93b2xmL0RvY3VtZW50cy9jbGVhcmNob2ljZS9hZG1pbi9mZWF0dXJlLXZpZXctdXBkYXRlZC1jb3Vyc2UvY2xlYXItY2hvaWNlLWFkbWluL2NvbXBvbmVudHMvU3R1ZGVudC9EZXRhaWxMZXNzb25MaXN0L2NvbXBvbmVudHMvQXNzaWduTGVzc29uTW9kYWwvaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB1cGRhdGUgZnJvbSAnaW1tdXRhYmlsaXR5LWhlbHBlcic7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgUG9ydGFsIGZyb20gJy4uLy4uLy4uLy4uL1BvcnRhbCc7XG5pbXBvcnQgTGVzc29uTGlzdEl0ZW0gZnJvbSAnLi9jb21wb25lbnRzL0xlc3Nvbkxpc3RJdGVtJztcbmltcG9ydCB7IHRvdGFsUHJvYmxlbXNEZXNjZW5kaW5nLCB0b3RhbFByb2JsZW1zQXNjZW5kaW5nLCB0aW1lRXN0aW1hdGUsIHRpbWVFc3RpbWF0ZUFzY2VuZGluZywgc3ViamVjdEFzY2VuZGluZywgc3ViamVjdERlc2NlbmRpbmcsIHBhc3NhZ2VBc2NlbmRpbmcsIHBhc3NhZ2VEZXNjZW5kaW5nLCBsZXNzb25OYW1lRGVzY2VuZGluZywgbGVzc29uTmFtZUFzY2VuZGluZywgc3RhdHVzRGVzY2VuZGluZywgc3RhdHVzQXNjZW5kaW5nLCBmbGFnc0FzY2VuZGluZywgZmxhZ3NEZXNjZW5kaW5nLCBsZXNzb25UeXBlQXNjZW5kaW5nLCBsZXNzb25UeXBlRGVzY2VuZGluZyB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWxzL3NvcnRGdW5jdGlvbnMnO1xuaW1wb3J0IE1vZGFsRmlsdGVyU2VjdGlvbiBmcm9tICcuLi9Nb2RhbEZpbHRlclNlY3Rpb24nO1xuaW1wb3J0IEFzc2lnbkRhdGVzTW9kYWwgZnJvbSAnLi4vQXNzaWduRGF0ZXNNb2RhbCc7XG5cbmNsYXNzIEFzc2lnbkxlc3Nvbk1vZGFsIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGxlc3NvbnM6IHRoaXMucHJvcHMubGVzc29ucyxcbiAgICAgIHN0YXR1c0ZpbHRlcnM6IFtdLFxuICAgICAgc3ViamVjdEZpbHRlcnM6IFtdLFxuICAgICAgbGVzc29uVHlwZUZpbHRlcnM6IFtdLFxuICAgICAgc29ydDogXCJcIixcbiAgICAgIG5hbWVGaWx0ZXI6IFwiXCIsXG4gICAgICB1bml0RmlsdGVyOiBcIlwiLFxuICAgICAgY2hlY2tlZDogZmFsc2UsXG4gICAgICBjaGVja2VkTGVzc29uczogW10sXG4gICAgICBkYXRlc01vZGFsT3BlbjogZmFsc2UsXG4gICAgfTtcbiAgfVxuXG4gIG9uT3BlbkRhdGVzTW9kYWwgPSAoKSA9PiB0aGlzLnNldFN0YXRlKHsgZGF0ZXNNb2RhbE9wZW46IHRydWUgfSlcbiAgb25DbG9zZURhdGVzTW9kYWwgPSAoKSA9PiB0aGlzLnNldFN0YXRlKHsgZGF0ZXNNb2RhbE9wZW46IGZhbHNlIH0pXG4gIG9uVG9nZ2xlQ2hlY2tlZCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgY2hlY2tlZDogIXRoaXMuc3RhdGUuY2hlY2tlZCB9LCAoKSA9PiB0aGlzLm9uQ2hlY2tlZCgpKTtcbiAgfVxuICBvbkNsZWFyRmlsdGVycyA9ICgpID0+IHRoaXMuc2V0U3RhdGUoeyBzdGF0dXNGaWx0ZXJzOiBbXSwgc3ViamVjdEZpbHRlcnM6IFtdLCBsZXNzb25UeXBlRmlsdGVyczogW10sIHVuaXRGaWx0ZXI6IFwiXCIsIG5hbWVGaWx0ZXI6IFwiXCIgfSlcbiAgb25TZXRTb3J0ID0gKHNvcnQpID0+IHRoaXMuc2V0U3RhdGUoeyBzb3J0IH0pXG4gIG9uU2V0RmlsdGVyZWRTdGF0ZSA9IChsZXNzb24pID0+IHRoaXMuc2V0U3RhdGUoeyBuYW1lRmlsdGVyOiBsZXNzb24gfSlcbiAgb25VbnNldEZpbHRlcmVkU3RhdGUgPSAoZmlsdGVyKSA9PiB0aGlzLnNldFN0YXRlKHsgW2ZpbHRlcl06IFwiXCIgfSlcbiAgb25TZXRVbml0RmlsdGVyID0gKHVuaXQpID0+IHRoaXMuc2V0U3RhdGUoeyB1bml0RmlsdGVyOiB1bml0IH0pXG5cbiAgLy8gY2hlY2tzIGlmIFNlbGVjdEFsbCBjaGVja2JveCBpcyBjaGVja2VkIGFuZCBhZGRzIGxlc3NvbnMgb3IgZW1wdGllcyBjaGVja2VkTGVzc29ucyBhcnJheSBvbiB1bmNoZWNrXG4gIG9uQ2hlY2tlZCA9ICgpID0+IHtcbiAgICBjb25zdCB7IGNoZWNrZWRMZXNzb25zLCBjaGVja2VkIH0gPSB0aGlzLnN0YXRlO1xuICAgIGlmIChjaGVja2VkKSB7XG4gICAgICBsZXQgbWFwcGVkTGVzc29ucyA9IHRoaXMuZ2V0TWFwcGFibGVMZXNzb25zKCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hcHBlZExlc3NvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGNoZWNrZWRMZXNzb25zLmluZGV4T2YobWFwcGVkTGVzc29uc1tpXSkgPiAtMSkge1xuICAgICAgICAgIG1hcHBlZExlc3NvbnMgPSBtYXBwZWRMZXNzb25zLmZpbHRlcihsZXNzb24gPT4gY2hlY2tlZExlc3NvbnMuaW5kZXhPZihsZXNzb24pID09PSAtMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0U3RhdGUocHJldlN0YXRlID0+IHtcbiAgICAgICAgcHJldlN0YXRlLmNoZWNrZWRMZXNzb25zLnB1c2goLi4ubWFwcGVkTGVzc29ucyk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgKFxuICAgICAgICB0aGlzLnNldFN0YXRlKHsgY2hlY2tlZExlc3NvbnM6IFtdIH0pXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb25zaXN0ZW50LXJldHVyblxuICBvblNvcnRMZXNzb25zID0gKGxlc3NvbnMpID0+IHtcbiAgICBjb25zdCB7IHNvcnQgfSA9IHRoaXMuc3RhdGU7XG4gICAgc3dpdGNoIChzb3J0KSB7XG4gICAgICBjYXNlICdzdWJqZWN0QXNjZW5kaW5nJzpcbiAgICAgICAgcmV0dXJuIGxlc3NvbnMuc29ydChzdWJqZWN0QXNjZW5kaW5nKTtcbiAgICAgIGNhc2UgJ3N1YmplY3REZXNjZW5kaW5nJzpcbiAgICAgICAgcmV0dXJuIGxlc3NvbnMuc29ydChzdWJqZWN0RGVzY2VuZGluZyk7XG4gICAgICBjYXNlICdwYXNzYWdlQXNjZW5kaW5nJzpcbiAgICAgICAgcmV0dXJuIGxlc3NvbnMuc29ydChwYXNzYWdlQXNjZW5kaW5nKTtcbiAgICAgIGNhc2UgJ3Bhc3NhZ2VEZXNjZW5kaW5nJzpcbiAgICAgICAgcmV0dXJuIGxlc3NvbnMuc29ydChwYXNzYWdlRGVzY2VuZGluZyk7XG4gICAgICBjYXNlICdzdGF0dXNBc2NlbmRpbmcnOlxuICAgICAgICByZXR1cm4gbGVzc29ucy5zb3J0KHN0YXR1c0FzY2VuZGluZyk7XG4gICAgICBjYXNlICdzdGF0dXNEZXNjZW5kaW5nJzpcbiAgICAgICAgcmV0dXJuIGxlc3NvbnMuc29ydChzdGF0dXNEZXNjZW5kaW5nKTtcbiAgICAgIGNhc2UgJ2ZsYWdzQXNjZW5kaW5nJzpcbiAgICAgICAgcmV0dXJuIGxlc3NvbnMuc29ydChmbGFnc0FzY2VuZGluZyk7XG4gICAgICBjYXNlICdmbGFnc0Rlc2NlbmRpbmcnOlxuICAgICAgICByZXR1cm4gbGVzc29ucy5zb3J0KGZsYWdzRGVzY2VuZGluZyk7XG4gICAgICBjYXNlICdsZXNzb25OYW1lQXNjZW5kaW5nJzpcbiAgICAgICAgcmV0dXJuIGxlc3NvbnMuc29ydChsZXNzb25OYW1lQXNjZW5kaW5nKTtcbiAgICAgIGNhc2UgJ2xlc3Nvbk5hbWVEZXNjZW5kaW5nJzpcbiAgICAgICAgcmV0dXJuIGxlc3NvbnMuc29ydChsZXNzb25OYW1lRGVzY2VuZGluZyk7XG4gICAgICBjYXNlICdsZXNzb25UeXBlQXNjZW5kaW5nJzpcbiAgICAgICAgcmV0dXJuIGxlc3NvbnMuc29ydChsZXNzb25UeXBlQXNjZW5kaW5nKTtcbiAgICAgIGNhc2UgJ2xlc3NvblR5cGVEZXNjZW5kaW5nJzpcbiAgICAgICAgcmV0dXJuIGxlc3NvbnMuc29ydChsZXNzb25UeXBlRGVzY2VuZGluZyk7XG4gICAgICBjYXNlICd0aW1lRXN0aW1hdGVEZXNjZW5kaW5nJzpcbiAgICAgICAgcmV0dXJuIGxlc3NvbnMuc29ydCh0aW1lRXN0aW1hdGUpO1xuICAgICAgY2FzZSAndGltZUVzdGltYXRlQXNjZW5kaW5nJzpcbiAgICAgICAgcmV0dXJuIGxlc3NvbnMuc29ydCh0aW1lRXN0aW1hdGVBc2NlbmRpbmcpO1xuICAgICAgY2FzZSAndG90YWxQcm9ibGVtc0Rlc2NlbmRpbmcnOlxuICAgICAgICByZXR1cm4gbGVzc29ucy5zb3J0KHRvdGFsUHJvYmxlbXNEZXNjZW5kaW5nKTtcbiAgICAgIGNhc2UgJ3RvdGFsUHJvYmxlbXNBc2NlbmRpbmcnOlxuICAgICAgICByZXR1cm4gbGVzc29ucy5zb3J0KHRvdGFsUHJvYmxlbXNBc2NlbmRpbmcpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgb25GaWx0ZXJCeU5hbWUgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBsZXNzb25zLCBuYW1lRmlsdGVyIH0gPSB0aGlzLnN0YXRlO1xuICAgIHJldHVybiBsZXNzb25zLnJlZHVjZSgoZmluYWxBcnIsIGN1cnJlbnRMZXNzb24pID0+IHtcbiAgICAgIGNvbnN0IHsgbGVzc29uTmFtZSB9ID0gY3VycmVudExlc3NvbjtcbiAgICAgIGNvbnN0IGxlc3NvblN0cmluZyA9IGxlc3Nvbk5hbWUucmVwbGFjZSgvXFxzL2csIFwiXCIpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAobGVzc29uU3RyaW5nLmluZGV4T2YobmFtZUZpbHRlcikgIT09IC0xICYmIGZpbmFsQXJyLmluZGV4T2YoY3VycmVudExlc3NvbikgPT09IC0xKSB7XG4gICAgICAgIGZpbmFsQXJyLnB1c2goY3VycmVudExlc3Nvbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmluYWxBcnI7XG4gICAgfSwgW10pO1xuICB9XG5cbiAgb25GaWx0ZXJMZXNzb25zID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgc3RhdHVzRmlsdGVycywgc3ViamVjdEZpbHRlcnMsIGxlc3NvblR5cGVGaWx0ZXJzLCB1bml0RmlsdGVyLCBsZXNzb25zOiBhbGxMZXNzb25zIH0gPSB0aGlzLnN0YXRlO1xuICAgIGxldCBsZXNzb25zID0gYWxsTGVzc29ucztcbiAgICBpZiAoc3RhdHVzRmlsdGVycy5sZW5ndGggJiYgc3RhdHVzRmlsdGVycy5pbmRleE9mKCdhbGwnKSA9PT0gLTEpIHtcbiAgICAgIGlmIChzdGF0dXNGaWx0ZXJzLmluZGV4T2YoXCJVbmFzc2lnbmVkXCIpICE9PSAtMSkge1xuICAgICAgICBsZXNzb25zID0gbGVzc29ucy5maWx0ZXIobGVzc29uID0+IHN0YXR1c0ZpbHRlcnMuaW5kZXhPZihsZXNzb24uc3RhdHVzKSAhPT0gLTEpO1xuICAgICAgfSBlbHNlIHsgbGVzc29ucyA9IGxlc3NvbnMuZmlsdGVyKGxlc3NvbiA9PiBsZXNzb24uYXNzaWduZWQgPT09IHRydWUpOyB9XG4gICAgfVxuICAgIGlmIChzdWJqZWN0RmlsdGVycy5sZW5ndGggJiYgc3ViamVjdEZpbHRlcnMuaW5kZXhPZignYWxsJykgPT09IC0xKSB7XG4gICAgICBsZXNzb25zID0gbGVzc29ucy5maWx0ZXIobGVzc29uID0+IHN1YmplY3RGaWx0ZXJzLmluZGV4T2YobGVzc29uLnN1YmplY3QpICE9PSAtMSk7XG4gICAgfVxuICAgIGlmIChsZXNzb25UeXBlRmlsdGVycy5sZW5ndGggJiYgbGVzc29uVHlwZUZpbHRlcnMuaW5kZXhPZignYWxsJykgPT09IC0xKSB7XG4gICAgICBsZXNzb25zID0gbGVzc29ucy5maWx0ZXIobGVzc29uID0+IGxlc3NvblR5cGVGaWx0ZXJzLmluZGV4T2YobGVzc29uLnR5cGUpICE9PSAtMSk7XG4gICAgfVxuICAgIGlmICh1bml0RmlsdGVyLmxlbmd0aCAmJiB1bml0RmlsdGVyLmluZGV4T2YoJ2FsbCcpID09PSAtMSkge1xuICAgICAgbGVzc29ucyA9IGxlc3NvbnMuZmlsdGVyKGxlc3NvbiA9PiB1bml0RmlsdGVyLmluZGV4T2YobGVzc29uLnVuaXROdW1iZXIpICE9PSAtMSk7XG4gICAgfVxuICAgIHJldHVybiBsZXNzb25zO1xuICB9XG5cbiAgLy8gVE9ETzogYWRkIHRvYXN0IHZlcmlmeWluZyBsZXNzb25zIHdlcmUgYXNzaWduZWRcbiAgLy8gdGFrZXMgaW5wdXQgZnJvbSB0aGUgYXNzaWduIHNlbGVjdGVkIGxlc3NvbnMgbW9kYWwgYW5kIHVwZGF0ZXMgdGhlIHVwZGF0ZWRMZXNzb25zIGFycmF5IGluIHBhcmVudFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29uc2lzdGVudC1yZXR1cm5cbiAgb25IYW5kbGVEYXRlcyA9IChhc3NpZ25EYXRlLCBhc3NpZ25UaW1lLCBkdWVEYXRlLCBkdWVUaW1lKSA9PiB7XG4gICAgY29uc3QgeyBvbkFkZFVwZGF0ZWRMZXNzb25zIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHVwZGF0ZWRMZXNzb25zID0gW107XG4gICAgY29uc3QgeyBjaGVja2VkTGVzc29uczogcHJldmlvdXNDaGVja2VkTGVzc29ucyB9ID0gdGhpcy5zdGF0ZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByZXZpb3VzQ2hlY2tlZExlc3NvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHVwZGF0ZWRDaGVja2VkTGVzc29ucyA9IHVwZGF0ZShwcmV2aW91c0NoZWNrZWRMZXNzb25zW2ldLCB7XG4gICAgICAgICRtZXJnZToge1xuICAgICAgICAgIGFzc2lnbmVkOiB0cnVlLFxuICAgICAgICAgIGR1ZURhdGU6IG1vbWVudChkdWVEYXRlKS5mb3JtYXQoJ0REL01NL1lZWVknKSxcbiAgICAgICAgICBkdWVUaW1lLFxuICAgICAgICAgIGF2YWlsYWJsZURhdGU6IG1vbWVudChhc3NpZ25EYXRlKS5mb3JtYXQoXCJERC9NTS9ZWVlZXCIpLFxuICAgICAgICAgIHN0YXR1czogXCJTY2hlZHVsZWRcIixcbiAgICAgICAgICBhc3NpZ25UaW1lLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgICk7XG4gICAgICB1cGRhdGVkTGVzc29ucy5wdXNoKHVwZGF0ZWRDaGVja2VkTGVzc29ucyk7XG4gICAgfVxuICAgIG9uQWRkVXBkYXRlZExlc3NvbnModXBkYXRlZExlc3NvbnMpO1xuICAgIHRoaXMucHJvcHMub25DbG9zZU1vZGFsKCk7XG4gIH07XG5cbiAgc2V0U29ydFR5cGUgPSAobmFtZSkgPT4ge1xuICAgIGNvbnN0IHsgc29ydCB9ID0gdGhpcy5zdGF0ZTtcbiAgICBpZiAoc29ydCAhPT0gYCR7bmFtZX1Bc2NlbmRpbmdgICYmIHNvcnQgIT09IGAke25hbWV9RGVzY2VuZGluZ2ApIHtcbiAgICAgIHRoaXMub25TZXRTb3J0KGAke25hbWV9QXNjZW5kaW5nYCk7XG4gICAgfVxuICAgIGlmIChzb3J0ID09PSBgJHtuYW1lfURlc2NlbmRpbmdgKSB7XG4gICAgICB0aGlzLm9uU2V0U29ydChgJHtuYW1lfUFzY2VuZGluZ2ApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm9uU2V0U29ydChgJHtuYW1lfURlc2NlbmRpbmdgKTtcbiAgICB9XG4gIH1cblxuICBnZXRNYXBwYWJsZUxlc3NvbnMgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBzb3J0LCB1bml0RmlsdGVyLCBsZXNzb25zLCBzdGF0dXNGaWx0ZXJzLCBzdWJqZWN0RmlsdGVycywgbGVzc29uVHlwZUZpbHRlcnMsIG5hbWVGaWx0ZXIgfSA9IHRoaXMuc3RhdGU7XG4gICAgbGV0IG1hcHBhYmxlTGVzc29ucyA9IGxlc3NvbnM7XG4gICAgaWYgKG5hbWVGaWx0ZXIubGVuZ3RoKSB7XG4gICAgICBtYXBwYWJsZUxlc3NvbnMgPSB0aGlzLm9uRmlsdGVyQnlOYW1lKCk7XG4gICAgfVxuICAgIGlmIChzdGF0dXNGaWx0ZXJzLmxlbmd0aCB8fCB1bml0RmlsdGVyLmxlbmd0aCB8fCBsZXNzb25UeXBlRmlsdGVycy5sZW5ndGggfHwgc3ViamVjdEZpbHRlcnMubGVuZ3RoKSB7XG4gICAgICBtYXBwYWJsZUxlc3NvbnMgPSB0aGlzLm9uRmlsdGVyTGVzc29ucygpO1xuICAgIH1cbiAgICBpZiAoc29ydCkge1xuICAgICAgcmV0dXJuIHRoaXMub25Tb3J0TGVzc29ucyhtYXBwYWJsZUxlc3NvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gbWFwcGFibGVMZXNzb25zO1xuICB9XG5cblxuICBoYW5kbGVDaGVja2JveCA9IChzZWxlY3RlZExlc3NvbikgPT4ge1xuICAgIGNvbnN0IHsgY2hlY2tlZExlc3NvbnMgfSA9IHRoaXMuc3RhdGU7XG4gICAgbGV0IHVwZGF0ZWRMZXNzb25BcnJheTtcbiAgICBpZiAoY2hlY2tlZExlc3NvbnMuaW5kZXhPZihzZWxlY3RlZExlc3NvbikgPiAtMSkge1xuICAgICAgdXBkYXRlZExlc3NvbkFycmF5ID0gY2hlY2tlZExlc3NvbnMuZmlsdGVyKGxlc3NvbiA9PiBsZXNzb24gIT09IHNlbGVjdGVkTGVzc29uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXBkYXRlZExlc3NvbkFycmF5ID0gWy4uLmNoZWNrZWRMZXNzb25zLCBzZWxlY3RlZExlc3Nvbl07XG4gICAgfVxuICAgIHRoaXMuc2V0U3RhdGUoeyBjaGVja2VkTGVzc29uczogdXBkYXRlZExlc3NvbkFycmF5IH0pO1xuICB9XG5cblxuICBoYW5kbGVGaWx0ZXJDbGljayA9IChmaWx0ZXJUeXBlLCBmaWx0ZXIpID0+IHtcbiAgICBjb25zdCB7IHN1YmplY3RGaWx0ZXJzOiBjdXJyZW50U3ViamVjdEZpbHRlcnMsIHN0YXR1c0ZpbHRlcnM6IGN1cnJlbnRTdGF0dXNGaWx0ZXJzLCBsZXNzb25UeXBlRmlsdGVyczogY3VycmVudExlc3NvblR5cGVGaWx0ZXJzIH0gPSB0aGlzLnN0YXRlO1xuICAgIGxldCBtb2RpZmllZEZpbHRlckN1cnJlbnRTdGF0ZTtcbiAgICBsZXQgbW9kaWZpZWRGaWx0ZXJOYW1lO1xuICAgIGxldCBtb2RpZmllZEZpbHRlclVwZGF0ZWRTdGF0ZTtcbiAgICBzd2l0Y2ggKGZpbHRlclR5cGUpIHtcbiAgICAgIGNhc2UgJ3N1YmplY3QnOlxuICAgICAgICBtb2RpZmllZEZpbHRlckN1cnJlbnRTdGF0ZSA9IGN1cnJlbnRTdWJqZWN0RmlsdGVycztcbiAgICAgICAgbW9kaWZpZWRGaWx0ZXJOYW1lID0gJ3N1YmplY3RGaWx0ZXJzJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzdGF0dXMnOlxuICAgICAgICBtb2RpZmllZEZpbHRlckN1cnJlbnRTdGF0ZSA9IGN1cnJlbnRTdGF0dXNGaWx0ZXJzO1xuICAgICAgICBtb2RpZmllZEZpbHRlck5hbWUgPSAnc3RhdHVzRmlsdGVycyc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbGVzc29uVHlwZSc6XG4gICAgICAgIG1vZGlmaWVkRmlsdGVyQ3VycmVudFN0YXRlID0gY3VycmVudExlc3NvblR5cGVGaWx0ZXJzO1xuICAgICAgICBtb2RpZmllZEZpbHRlck5hbWUgPSAnbGVzc29uVHlwZUZpbHRlcnMnO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvLyBEZWNpZGUgd2hldGhlciB3ZSdyZSBhZGRpbmcgb3IgcmVtb3ZpbmcgdGhlIHNlbGVjdGVkIGZpbHRlclxuICAgIGlmIChtb2RpZmllZEZpbHRlckN1cnJlbnRTdGF0ZS5pbmRleE9mKGZpbHRlcikgPT09IC0xKSB7XG4gICAgICBtb2RpZmllZEZpbHRlclVwZGF0ZWRTdGF0ZSA9IHVwZGF0ZShtb2RpZmllZEZpbHRlckN1cnJlbnRTdGF0ZSwge1xuICAgICAgICAkcHVzaDogW2ZpbHRlcl0sXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZmlsdGVySW5kZXggPSBtb2RpZmllZEZpbHRlckN1cnJlbnRTdGF0ZS5pbmRleE9mKGZpbHRlcik7XG4gICAgICBtb2RpZmllZEZpbHRlclVwZGF0ZWRTdGF0ZSA9IHVwZGF0ZShtb2RpZmllZEZpbHRlckN1cnJlbnRTdGF0ZSwge1xuICAgICAgICAkc3BsaWNlOiBbW2ZpbHRlckluZGV4LCAxXV0sXG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh7IFttb2RpZmllZEZpbHRlck5hbWVdOiBtb2RpZmllZEZpbHRlclVwZGF0ZWRTdGF0ZSB9KTtcbiAgfVxuXG4gIG1hcExlc3Nvbkxpc3RJdGVtID0gKCkgPT4gdGhpcy5nZXRNYXBwYWJsZUxlc3NvbnMoKS5tYXAoKGxlc3NvbiwgaW5kZXgpID0+XG4gICAgKDxMZXNzb25MaXN0SXRlbVxuICAgICAgbGVzc29uPXtsZXNzb259XG4gICAgICBpbmRleD17aW5kZXh9XG4gICAgICBzZWxlY3RBbGw9e3RoaXMuc3RhdGUuY2hlY2tlZH1cbiAgICAgIGtleT17bGVzc29uLmlkfVxuICAgICAgb25TZWxlY3RMZXNzb249e3RoaXMub25TZWxlY3RMZXNzb259XG4gICAgICByZW5kZXJMZXNzb25JY29uPXt0aGlzLnJlbmRlckxlc3Nvbkljb259XG4gICAgICBjaGVja2VkTGVzc29ucz17dGhpcy5zdGF0ZS5jaGVja2VkTGVzc29uc31cbiAgICAgIGhhbmRsZUNoZWNrYm94PXt0aGlzLmhhbmRsZUNoZWNrYm94fVxuICAgIC8+KVxuICApXG5cbiAgcmVuZGVyVGFibGVIZWFkZXIgPSAoKSA9PiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJsaXN0LXRhYmxlLXJvd1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaXN0LXRhYmxlLWNlbGwgaWNvbi1jZWxsXCI+XG4gICAgICAgIDxsYWJlbCBodG1sRm9yPVwic2VsZWN0QWxsXCI+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgaWQ9XCJzZWxlY3RBbGxcIlxuICAgICAgICAgICAgZGVmYXVsdENoZWNrZWQ9e3RoaXMuc3RhdGUuY2hlY2tlZH1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLm9uVG9nZ2xlQ2hlY2tlZH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImZpbGxlZC1pblwiXG4gICAgICAgICAgLz5cbiAgICAgICAgICA8c3Bhbj48Yj4mbmJzcDs8L2I+PC9zcGFuPlxuICAgICAgICA8L2xhYmVsPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpc3QtdGFibGUtY2VsbCBpY29uLWNlbGxcIj4mbmJzcDs8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC10YWJsZS1jZWxsIG5hbWUtY2VsbFwiIHZhbHVlPVwibGVzc29uTmFtZVwiPlxuICAgICAgICA8YSBocmVmPVwiI1wiIG9uQ2xpY2s9eygpID0+IHRoaXMuc2V0U29ydFR5cGUoXCJsZXNzb25OYW1lXCIpfT48Yj5MZXNzb248L2I+PC9hPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpc3QtdGFibGUtY2VsbCBuYW1lLWNlbGxcIiBzdHlsZT17eyB3aWR0aDogJzEwMHB4JywgcGFkZGluZ0xlZnQ6ICcyMzdweCcgfX0+XG4gICAgICAgIDxhIGhyZWY9XCIjXCIgb25DbGljaz17KCkgPT4gdGhpcy5zZXRTb3J0VHlwZShcInN0YXR1c1wiKX0+PGI+U3RhdHVzPC9iPjwvYT5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaXN0LXRhYmxlLWNhbGwgY29tcGxldGVkLWNlbGxcIj4mbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDs8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC10YWJsZS1jZWxsIHR5cGUtY2VsbFwiIHN0eWxlPXt7IG1hcmdpbkxlZnQ6ICczMHB4JywgcGFkZGluZ0xlZnQ6ICc1OHB4JyB9fT5cbiAgICAgICAgPGEgaHJlZj1cIiNcIiBvbkNsaWNrPXsoKSA9PiB0aGlzLnNldFNvcnRUeXBlKFwic3ViamVjdFwiKX0+PGI+U3ViamVjdDwvYj48L2E+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC10YWJsZS1jZWxsIGNvbXBsZXRlZC1jZWxsXCIgc3R5bGU9e3sgcGFkZGluZ0xlZnQ6ICc1NnB4JyB9fT5cbiAgICAgICAgPGEgaHJlZj1cIiNcIiBvbkNsaWNrPXsoKSA9PiB0aGlzLnNldFNvcnRUeXBlKFwicGFzc2FnZVwiKX0+PGI+UGFnZTwvYj48L2E+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC10YWJsZS1jZWxsIGNvbXBsZXRlZC1jZWxsXCIgc3R5bGU9e3sgbWFyZ2luTGVmdDogJzMwcHgnIH19PlxuICAgICAgICA8YSBocmVmPVwiI1wiIG9uQ2xpY2s9eygpID0+IHRoaXMuc2V0U29ydFR5cGUoXCJ0aW1lRXN0aW1hdGVcIil9PjxiPlRpbWUgRXN0PC9iPjwvYT5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaXN0LXRhYmxlLWNlbGwgdHlwZS1jZWxsXCIgc3R5bGU9e3sgbWFyZ2luTGVmdDogJzEzcHgnLCBwYWRkaW5nTGVmdDogJy0xcHgnIH19PlxuICAgICAgICA8YSBocmVmPVwiI1wiIG9uQ2xpY2s9eygpID0+IHRoaXMuc2V0U29ydFR5cGUoXCJ0b3RhbFByb2JsZW1zXCIpfT48Yj5Qcm9ibGVtczwvYj48L2E+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC10YWJsZS1jZWxsIGNvbXBsZXRlZC1jZWxsXCI+XG4gICAgICAgIDxhIGhyZWY9XCIjXCIgb25DbGljaz17KCkgPT4gdGhpcy5zZXRTb3J0VHlwZShcImxlc3NvblR5cGVcIil9PjxiPlR5cGU8L2I+PC9hPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpc3QtdGFibGUtY2VsbCBmbGFncy1jZWxsXCI+PGI+Jm5ic3A7PC9iPjwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJsaXN0LXRhYmxlLWNlbGwgZmxhZ3MtY2VsbFwiPjxiPiZuYnNwOzwvYj48L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC10YWJsZS1jZWxsIGZsYWdzLWNlbGxcIj5cbiAgICAgICAgPGEgaHJlZj1cIiNcIiBvbkNsaWNrPXsoKSA9PiB0aGlzLnNldFNvcnRUeXBlKFwiYWxlcnRzXCIpfT48Yj5GbGFnczwvYj48L2E+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxuXG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgbGVzc29ucywgc3ViamVjdEZpbHRlcnMsIHN0YXR1c0ZpbHRlcnMsIGxlc3NvblR5cGVGaWx0ZXJzIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IHsgb3Blbiwgb25DbG9zZU1vZGFsIH0gPSB0aGlzLnByb3BzO1xuICAgIHJldHVybiAoXG4gICAgICA8UG9ydGFsIHNlbGVjdG9yPVwiI21vZGFsXCI+XG4gICAgICAgIHtvcGVuICYmIChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm92ZXJsYXlcIj5cbiAgICAgICAgICAgIDxkaXYgaWQ9XCJhc3NpZ24tbGVzc29uLW1vZGFsXCIgY2xhc3NOYW1lPVwibW9kYWwgbW9kYWwtY3VzdG9tXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaGVhZGVyLXJvdyBjYXJkLXBhbmVsIGxpZ2h0LWJsdWUgbGlnaHRlbi0xIHdoaXRlLXRleHRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtcGFuZWwtcm93IHJvd1wiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wgczNcIj4mbmJzcDs8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sIHM5IHJpZ2h0LWFsaWduXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IGljb25zLXJvd1wiPiA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIG9uQ2xpY2s9e29uQ2xvc2VNb2RhbH0+PGkgY2xhc3NOYW1lPVwiaWNvbi1jbG9zZVwiPjwvaT48L2E+XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj48L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY2FyZC1wYW5lbC1yb3cgcm93XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImljb24tY29sIGNvbCBzMVwiPlxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJpY29uLWJvb2tzXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbCBzOVwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNhcmQtcGFuZWwtdGV4dFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sYXJnZVwiPkFzc2lnbiBMZXNzb25zPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRlbnQtc2VjdGlvblwiIHN0eWxlPXt7IGJhY2tncm91bmRDb2xvcjogJyNmMmYyZjInIH19PlxuICAgICAgICAgICAgICAgIDxNb2RhbEZpbHRlclNlY3Rpb25cbiAgICAgICAgICAgICAgICAgIGhhbmRsZUZpbHRlckNsaWNrPXt0aGlzLmhhbmRsZUZpbHRlckNsaWNrfVxuICAgICAgICAgICAgICAgICAgc3ViamVjdEZpbHRlcnM9e3N1YmplY3RGaWx0ZXJzfVxuICAgICAgICAgICAgICAgICAgc3RhdHVzRmlsdGVycz17c3RhdHVzRmlsdGVyc31cbiAgICAgICAgICAgICAgICAgIGxlc3NvblR5cGVGaWx0ZXJzPXtsZXNzb25UeXBlRmlsdGVyc31cbiAgICAgICAgICAgICAgICAgIG9uQ2xlYXJGaWx0ZXJzPXt0aGlzLm9uQ2xlYXJGaWx0ZXJzfVxuICAgICAgICAgICAgICAgICAgb25TZXRGaWx0ZXJlZFN0YXRlPXt0aGlzLm9uU2V0RmlsdGVyZWRTdGF0ZX1cbiAgICAgICAgICAgICAgICAgIG9uVW5zZXRGaWx0ZXJlZFN0YXRlPXt0aGlzLm9uVW5zZXRGaWx0ZXJlZFN0YXRlfVxuICAgICAgICAgICAgICAgICAgb25TZXRTb3J0PXt0aGlzLm9uU2V0U29ydH1cbiAgICAgICAgICAgICAgICAgIG9uU2V0VW5pdEZpbHRlcj17dGhpcy5vblNldFVuaXRGaWx0ZXJ9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lci1tZFwiIHN0eWxlPXt7IG1hcmdpblRvcDogJzUwcHgnIH19PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZXN1bHQtcm93IGNlbnRlci1hbGlnblwiPlxuICAgICAgICAgICAgICAgICAgICA8YiBjbGFzc05hbWU9XCJyZXN1bHRcIj4gLSB7bGVzc29ucy5sZW5ndGh9IExlc3NvbnM8L2I+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC12aWV3LXNlY3Rpb25cIiBzdHlsZT17eyBtYXJnaW46ICcwIC0xNjBweCcgfX0+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC10YWJsZVwiID5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxpc3QtdGFibGUtaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJUYWJsZUhlYWRlcigpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibGlzdC10YWJsZS1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7dGhpcy5tYXBMZXNzb25MaXN0SXRlbSgpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPEFzc2lnbkRhdGVzTW9kYWxcbiAgICAgICAgICAgICAgb3Blbj17dGhpcy5zdGF0ZS5kYXRlc01vZGFsT3Blbn1cbiAgICAgICAgICAgICAgb25DbG9zZURhdGVzTW9kYWw9e3RoaXMub25DbG9zZURhdGVzTW9kYWx9XG4gICAgICAgICAgICAgIG9uSGFuZGxlRGF0ZXM9e3RoaXMub25IYW5kbGVEYXRlc31cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8YSBocmVmPVwiI1wiIG9uQ2xpY2s9e3RoaXMub25PcGVuRGF0ZXNNb2RhbH0gY2xhc3NOYW1lPVwid2F2ZXMtZWZmZWN0IHdhdmVzLXRlYWwgYnRuIGFkZC1idG4gbW9kYWwtdHJpZ2dlclwiPjxpIGNsYXNzTmFtZT1cIm1hdGVyaWFsLWljb25zXCI+YWRkPC9pPkFzc2lnbiBTZWxlY3RlZDwvYT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgPHN0eWxlIGpzeD5cbiAgICAgICAgICB7YFxuICAgICAgICAgICAgLm92ZXJsYXkge1xuICAgICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC43KTtcbiAgICAgICAgICAgICAgdG9wOiAwO1xuICAgICAgICAgICAgICByaWdodDogMDtcbiAgICAgICAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgICAgICB6LWluZGV4OiA5OTk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAjYXNzaWduLWxlc3Nvbi1tb2RhbCB7XG4gICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAubW9kYWwge1xuICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgICAgdG9wOiAxMyU7XG4gICAgICAgICAgICAgIHJpZ2h0OiAwJTtcbiAgICAgICAgICAgICAgbGVmdDogMTQlO1xuICAgICAgICAgICAgICBib3gtc2hhZG93OiAwIDI0cHggMzhweCAzcHggcmdiYSgwLCAwLCAwLCAwLjE0KSwgMCA5cHggNDZweCA4cHggcmdiYSgwLCAwLCAwLCAwLjEyKSwgMCAxMXB4IDE1cHggLTdweCByZ2JhKDAsIDAsIDAsIDAuMik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAubW9kYWwtZm9vdGVyIHtcbiAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAubW9kYWwtY3VzdG9tIHtcbiAgICAgICAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgICAgICAgdmlzaWJpbGl0eTogdmlzaWJsZTtcbiAgICAgICAgICAgICAgbWF4LXdpZHRoOiAxMjgwcHggIWltcG9ydGFudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICNhc3NpZ24tbGVzc29ucy1oZWFkZXIge1xuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiByZ2IoMjQsMTgxLDIzMykgIWltcG9ydGFudFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsIHJnYmEoMjQsMTgxLDIzMywxKSAwJSwgcmdiYSg4LDEwNywxNDAsMSkgMTAwJSkgIWltcG9ydGFudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgIGB9XG4gICAgICAgIDwvc3R5bGU+XG4gICAgICA8L1BvcnRhbD5cbiAgICApO1xuICB9XG59XG5cbkFzc2lnbkxlc3Nvbk1vZGFsLnByb3BUeXBlcyA9IHtcbiAgbGVzc29uczogUHJvcFR5cGVzLmFycmF5LmlzUmVxdWlyZWQsXG4gIG9wZW46IFByb3BUeXBlcy5ib29sLmlzUmVxdWlyZWQsXG4gIG9uQ2xvc2VNb2RhbDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgb25BZGRVcGRhdGVkTGVzc29uczogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbn07XG5leHBvcnQgZGVmYXVsdCBBc3NpZ25MZXNzb25Nb2RhbDtcbiJdfQ== */\\n/*@ sourceURL=/Users/wolf/Documents/clearchoice/admin/feature-view-updated-course/clear-choice-admin/components/Student/DetailLessonList/components/AssignLessonModal/index.js */\"));\n  }\n\n}\n\nAssignLessonModal.propTypes = {\n  lessons: PropTypes.array.isRequired,\n  open: PropTypes.bool.isRequired,\n  onCloseModal: PropTypes.func.isRequired,\n  onAddUpdatedLessons: PropTypes.func.isRequired\n};\nexport default AssignLessonModal;","map":{"version":3,"sources":["/Users/wolf/Documents/clearchoice/admin/feature-view-updated-course/clear-choice-admin/components/Student/DetailLessonList/components/AssignLessonModal/index.js"],"names":["React","PropTypes","update","moment","Portal","LessonListItem","totalProblemsDescending","totalProblemsAscending","timeEstimate","timeEstimateAscending","subjectAscending","subjectDescending","passageAscending","passageDescending","lessonNameDescending","lessonNameAscending","statusDescending","statusAscending","flagsAscending","flagsDescending","lessonTypeAscending","lessonTypeDescending","ModalFilterSection","AssignDatesModal","AssignLessonModal","Component","constructor","props","setState","datesModalOpen","checked","state","onChecked","statusFilters","subjectFilters","lessonTypeFilters","unitFilter","nameFilter","sort","lesson","filter","unit","checkedLessons","mappedLessons","getMappableLessons","i","length","indexOf","prevState","push","lessons","reduce","finalArr","currentLesson","lessonName","lessonString","replace","toLowerCase","allLessons","status","assigned","subject","type","unitNumber","assignDate","assignTime","dueDate","dueTime","onAddUpdatedLessons","updatedLessons","previousCheckedLessons","updatedCheckedLessons","$merge","format","availableDate","onCloseModal","name","onSetSort","mappableLessons","onFilterByName","onFilterLessons","onSortLessons","selectedLesson","updatedLessonArray","filterType","currentSubjectFilters","currentStatusFilters","currentLessonTypeFilters","modifiedFilterCurrentState","modifiedFilterName","modifiedFilterUpdatedState","$push","filterIndex","$splice","map","index","id","onSelectLesson","renderLessonIcon","handleCheckbox","onToggleChecked","setSortType","width","paddingLeft","marginLeft","render","open","backgroundColor","handleFilterClick","onClearFilters","onSetFilteredState","onUnsetFilteredState","onSetUnitFilter","marginTop","margin","renderTableHeader","mapLessonListItem","onCloseDatesModal","onHandleDates","onOpenDatesModal","propTypes","array","isRequired","bool","func"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AACA,OAAOC,cAAP,MAA2B,6BAA3B;AACA,SAASC,uBAAT,EAAkCC,sBAAlC,EAA0DC,YAA1D,EAAwEC,qBAAxE,EAA+FC,gBAA/F,EAAiHC,iBAAjH,EAAoIC,gBAApI,EAAsJC,iBAAtJ,EAAyKC,oBAAzK,EAA+LC,mBAA/L,EAAoNC,gBAApN,EAAsOC,eAAtO,EAAuPC,cAAvP,EAAuQC,eAAvQ,EAAwRC,mBAAxR,EAA6SC,oBAA7S,QAAyU,iCAAzU;AACA,OAAOC,kBAAP,MAA+B,uBAA/B;AACA,OAAOC,gBAAP,MAA6B,qBAA7B;;AAEA,MAAMC,iBAAN,SAAgCxB,KAAK,CAACyB,SAAtC,CAAgD;AAC9CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,8CAgBA,MAAM,KAAKC,QAAL,CAAc;AAAEC,MAAAA,cAAc,EAAE;AAAlB,KAAd,CAhBN;;AAAA,+CAiBC,MAAM,KAAKD,QAAL,CAAc;AAAEC,MAAAA,cAAc,EAAE;AAAlB,KAAd,CAjBP;;AAAA,6CAkBD,MAAM;AACtB,WAAKD,QAAL,CAAc;AAAEE,QAAAA,OAAO,EAAE,CAAC,KAAKC,KAAL,CAAWD;AAAvB,OAAd,EAAgD,MAAM,KAAKE,SAAL,EAAtD;AACD,KApBkB;;AAAA,4CAqBF,MAAM,KAAKJ,QAAL,CAAc;AAAEK,MAAAA,aAAa,EAAE,EAAjB;AAAqBC,MAAAA,cAAc,EAAE,EAArC;AAAyCC,MAAAA,iBAAiB,EAAE,EAA5D;AAAgEC,MAAAA,UAAU,EAAE,EAA5E;AAAgFC,MAAAA,UAAU,EAAE;AAA5F,KAAd,CArBJ;;AAAA,uCAsBNC,IAAD,IAAU,KAAKV,QAAL,CAAc;AAAEU,MAAAA;AAAF,KAAd,CAtBH;;AAAA,gDAuBGC,MAAD,IAAY,KAAKX,QAAL,CAAc;AAAES,MAAAA,UAAU,EAAEE;AAAd,KAAd,CAvBd;;AAAA,kDAwBKC,MAAD,IAAY,KAAKZ,QAAL,CAAc;AAAE,OAACY,MAAD,GAAU;AAAZ,KAAd,CAxBhB;;AAAA,6CAyBAC,IAAD,IAAU,KAAKb,QAAL,CAAc;AAAEQ,MAAAA,UAAU,EAAEK;AAAd,KAAd,CAzBT;;AAAA,uCA4BP,MAAM;AAChB,YAAM;AAAEC,QAAAA,cAAF;AAAkBZ,QAAAA;AAAlB,UAA8B,KAAKC,KAAzC;;AACA,UAAID,OAAJ,EAAa;AACX,YAAIa,aAAa,GAAG,KAAKC,kBAAL,EAApB;;AACA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,aAAa,CAACG,MAAlC,EAA0CD,CAAC,EAA3C,EAA+C;AAC7C,cAAIH,cAAc,CAACK,OAAf,CAAuBJ,aAAa,CAACE,CAAD,CAApC,IAA2C,CAAC,CAAhD,EAAmD;AACjDF,YAAAA,aAAa,GAAGA,aAAa,CAACH,MAAd,CAAqBD,MAAM,IAAIG,cAAc,CAACK,OAAf,CAAuBR,MAAvB,MAAmC,CAAC,CAAnE,CAAhB;AACD;AACF;;AACD,aAAKX,QAAL,CAAcoB,SAAS,IAAI;AACzBA,UAAAA,SAAS,CAACN,cAAV,CAAyBO,IAAzB,CAA8B,GAAGN,aAAjC;AACD,SAFD;AAGD,OAVD,MAUO;AAEH,aAAKf,QAAL,CAAc;AAAEc,UAAAA,cAAc,EAAE;AAAlB,SAAd,CADF;AAGD;AACF,KA7CkB;;AAAA,2CAgDFQ,OAAD,IAAa;AAC3B,YAAM;AAAEZ,QAAAA;AAAF,UAAW,KAAKP,KAAtB;;AACA,cAAQO,IAAR;AACE,aAAK,kBAAL;AACE,iBAAOY,OAAO,CAACZ,IAAR,CAAa5B,gBAAb,CAAP;;AACF,aAAK,mBAAL;AACE,iBAAOwC,OAAO,CAACZ,IAAR,CAAa3B,iBAAb,CAAP;;AACF,aAAK,kBAAL;AACE,iBAAOuC,OAAO,CAACZ,IAAR,CAAa1B,gBAAb,CAAP;;AACF,aAAK,mBAAL;AACE,iBAAOsC,OAAO,CAACZ,IAAR,CAAazB,iBAAb,CAAP;;AACF,aAAK,iBAAL;AACE,iBAAOqC,OAAO,CAACZ,IAAR,CAAarB,eAAb,CAAP;;AACF,aAAK,kBAAL;AACE,iBAAOiC,OAAO,CAACZ,IAAR,CAAatB,gBAAb,CAAP;;AACF,aAAK,gBAAL;AACE,iBAAOkC,OAAO,CAACZ,IAAR,CAAapB,cAAb,CAAP;;AACF,aAAK,iBAAL;AACE,iBAAOgC,OAAO,CAACZ,IAAR,CAAanB,eAAb,CAAP;;AACF,aAAK,qBAAL;AACE,iBAAO+B,OAAO,CAACZ,IAAR,CAAavB,mBAAb,CAAP;;AACF,aAAK,sBAAL;AACE,iBAAOmC,OAAO,CAACZ,IAAR,CAAaxB,oBAAb,CAAP;;AACF,aAAK,qBAAL;AACE,iBAAOoC,OAAO,CAACZ,IAAR,CAAalB,mBAAb,CAAP;;AACF,aAAK,sBAAL;AACE,iBAAO8B,OAAO,CAACZ,IAAR,CAAajB,oBAAb,CAAP;;AACF,aAAK,wBAAL;AACE,iBAAO6B,OAAO,CAACZ,IAAR,CAAa9B,YAAb,CAAP;;AACF,aAAK,uBAAL;AACE,iBAAO0C,OAAO,CAACZ,IAAR,CAAa7B,qBAAb,CAAP;;AACF,aAAK,yBAAL;AACE,iBAAOyC,OAAO,CAACZ,IAAR,CAAahC,uBAAb,CAAP;;AACF,aAAK,wBAAL;AACE,iBAAO4C,OAAO,CAACZ,IAAR,CAAa/B,sBAAb,CAAP;;AACF;AACE;AAlCJ;AAoCD,KAtFkB;;AAAA,4CAwFF,MAAM;AACrB,YAAM;AAAE2C,QAAAA,OAAF;AAAWb,QAAAA;AAAX,UAA0B,KAAKN,KAArC;AACA,aAAOmB,OAAO,CAACC,MAAR,CAAe,CAACC,QAAD,EAAWC,aAAX,KAA6B;AACjD,cAAM;AAAEC,UAAAA;AAAF,YAAiBD,aAAvB;AACA,cAAME,YAAY,GAAGD,UAAU,CAACE,OAAX,CAAmB,KAAnB,EAA0B,EAA1B,EAA8BC,WAA9B,EAArB;;AACA,YAAIF,YAAY,CAACR,OAAb,CAAqBV,UAArB,MAAqC,CAAC,CAAtC,IAA2Ce,QAAQ,CAACL,OAAT,CAAiBM,aAAjB,MAAoC,CAAC,CAApF,EAAuF;AACrFD,UAAAA,QAAQ,CAACH,IAAT,CAAcI,aAAd;AACD;;AACD,eAAOD,QAAP;AACD,OAPM,EAOJ,EAPI,CAAP;AAQD,KAlGkB;;AAAA,6CAoGD,MAAM;AACtB,YAAM;AAAEnB,QAAAA,aAAF;AAAiBC,QAAAA,cAAjB;AAAiCC,QAAAA,iBAAjC;AAAoDC,QAAAA,UAApD;AAAgEc,QAAAA,OAAO,EAAEQ;AAAzE,UAAwF,KAAK3B,KAAnG;AACA,UAAImB,OAAO,GAAGQ,UAAd;;AACA,UAAIzB,aAAa,CAACa,MAAd,IAAwBb,aAAa,CAACc,OAAd,CAAsB,KAAtB,MAAiC,CAAC,CAA9D,EAAiE;AAC/D,YAAId,aAAa,CAACc,OAAd,CAAsB,YAAtB,MAAwC,CAAC,CAA7C,EAAgD;AAC9CG,UAAAA,OAAO,GAAGA,OAAO,CAACV,MAAR,CAAeD,MAAM,IAAIN,aAAa,CAACc,OAAd,CAAsBR,MAAM,CAACoB,MAA7B,MAAyC,CAAC,CAAnE,CAAV;AACD,SAFD,MAEO;AAAET,UAAAA,OAAO,GAAGA,OAAO,CAACV,MAAR,CAAeD,MAAM,IAAIA,MAAM,CAACqB,QAAP,KAAoB,IAA7C,CAAV;AAA+D;AACzE;;AACD,UAAI1B,cAAc,CAACY,MAAf,IAAyBZ,cAAc,CAACa,OAAf,CAAuB,KAAvB,MAAkC,CAAC,CAAhE,EAAmE;AACjEG,QAAAA,OAAO,GAAGA,OAAO,CAACV,MAAR,CAAeD,MAAM,IAAIL,cAAc,CAACa,OAAf,CAAuBR,MAAM,CAACsB,OAA9B,MAA2C,CAAC,CAArE,CAAV;AACD;;AACD,UAAI1B,iBAAiB,CAACW,MAAlB,IAA4BX,iBAAiB,CAACY,OAAlB,CAA0B,KAA1B,MAAqC,CAAC,CAAtE,EAAyE;AACvEG,QAAAA,OAAO,GAAGA,OAAO,CAACV,MAAR,CAAeD,MAAM,IAAIJ,iBAAiB,CAACY,OAAlB,CAA0BR,MAAM,CAACuB,IAAjC,MAA2C,CAAC,CAArE,CAAV;AACD;;AACD,UAAI1B,UAAU,CAACU,MAAX,IAAqBV,UAAU,CAACW,OAAX,CAAmB,KAAnB,MAA8B,CAAC,CAAxD,EAA2D;AACzDG,QAAAA,OAAO,GAAGA,OAAO,CAACV,MAAR,CAAeD,MAAM,IAAIH,UAAU,CAACW,OAAX,CAAmBR,MAAM,CAACwB,UAA1B,MAA0C,CAAC,CAApE,CAAV;AACD;;AACD,aAAOb,OAAP;AACD,KAtHkB;;AAAA,2CA2HH,CAACc,UAAD,EAAaC,UAAb,EAAyBC,OAAzB,EAAkCC,OAAlC,KAA8C;AAC5D,YAAM;AAAEC,QAAAA;AAAF,UAA0B,KAAKzC,KAArC;AACA,YAAM0C,cAAc,GAAG,EAAvB;AACA,YAAM;AAAE3B,QAAAA,cAAc,EAAE4B;AAAlB,UAA6C,KAAKvC,KAAxD;;AACA,WAAK,IAAIc,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGyB,sBAAsB,CAACxB,MAA3C,EAAmDD,CAAC,EAApD,EAAwD;AACtD,cAAM0B,qBAAqB,GAAGrE,MAAM,CAACoE,sBAAsB,CAACzB,CAAD,CAAvB,EAA4B;AAC9D2B,UAAAA,MAAM,EAAE;AACNZ,YAAAA,QAAQ,EAAE,IADJ;AAENM,YAAAA,OAAO,EAAE/D,MAAM,CAAC+D,OAAD,CAAN,CAAgBO,MAAhB,CAAuB,YAAvB,CAFH;AAGNN,YAAAA,OAHM;AAINO,YAAAA,aAAa,EAAEvE,MAAM,CAAC6D,UAAD,CAAN,CAAmBS,MAAnB,CAA0B,YAA1B,CAJT;AAKNd,YAAAA,MAAM,EAAE,WALF;AAMNM,YAAAA;AANM;AADsD,SAA5B,CAApC;AAWAI,QAAAA,cAAc,CAACpB,IAAf,CAAoBsB,qBAApB;AACD;;AACDH,MAAAA,mBAAmB,CAACC,cAAD,CAAnB;AACA,WAAK1C,KAAL,CAAWgD,YAAX;AACD,KA/IkB;;AAAA,yCAiJJC,IAAD,IAAU;AACtB,YAAM;AAAEtC,QAAAA;AAAF,UAAW,KAAKP,KAAtB;;AACA,UAAIO,IAAI,KAAM,GAAEsC,IAAK,WAAjB,IAA+BtC,IAAI,KAAM,GAAEsC,IAAK,YAApD,EAAiE;AAC/D,aAAKC,SAAL,CAAgB,GAAED,IAAK,WAAvB;AACD;;AACD,UAAItC,IAAI,KAAM,GAAEsC,IAAK,YAArB,EAAkC;AAChC,aAAKC,SAAL,CAAgB,GAAED,IAAK,WAAvB;AACD,OAFD,MAEO;AACL,aAAKC,SAAL,CAAgB,GAAED,IAAK,YAAvB;AACD;AACF,KA3JkB;;AAAA,gDA6JE,MAAM;AACzB,YAAM;AAAEtC,QAAAA,IAAF;AAAQF,QAAAA,UAAR;AAAoBc,QAAAA,OAApB;AAA6BjB,QAAAA,aAA7B;AAA4CC,QAAAA,cAA5C;AAA4DC,QAAAA,iBAA5D;AAA+EE,QAAAA;AAA/E,UAA8F,KAAKN,KAAzG;AACA,UAAI+C,eAAe,GAAG5B,OAAtB;;AACA,UAAIb,UAAU,CAACS,MAAf,EAAuB;AACrBgC,QAAAA,eAAe,GAAG,KAAKC,cAAL,EAAlB;AACD;;AACD,UAAI9C,aAAa,CAACa,MAAd,IAAwBV,UAAU,CAACU,MAAnC,IAA6CX,iBAAiB,CAACW,MAA/D,IAAyEZ,cAAc,CAACY,MAA5F,EAAoG;AAClGgC,QAAAA,eAAe,GAAG,KAAKE,eAAL,EAAlB;AACD;;AACD,UAAI1C,IAAJ,EAAU;AACR,eAAO,KAAK2C,aAAL,CAAmBH,eAAnB,CAAP;AACD;;AACD,aAAOA,eAAP;AACD,KA1KkB;;AAAA,4CA6KDI,cAAD,IAAoB;AACnC,YAAM;AAAExC,QAAAA;AAAF,UAAqB,KAAKX,KAAhC;AACA,UAAIoD,kBAAJ;;AACA,UAAIzC,cAAc,CAACK,OAAf,CAAuBmC,cAAvB,IAAyC,CAAC,CAA9C,EAAiD;AAC/CC,QAAAA,kBAAkB,GAAGzC,cAAc,CAACF,MAAf,CAAsBD,MAAM,IAAIA,MAAM,KAAK2C,cAA3C,CAArB;AACD,OAFD,MAEO;AACLC,QAAAA,kBAAkB,GAAG,CAAC,GAAGzC,cAAJ,EAAoBwC,cAApB,CAArB;AACD;;AACD,WAAKtD,QAAL,CAAc;AAAEc,QAAAA,cAAc,EAAEyC;AAAlB,OAAd;AACD,KAtLkB;;AAAA,+CAyLC,CAACC,UAAD,EAAa5C,MAAb,KAAwB;AAC1C,YAAM;AAAEN,QAAAA,cAAc,EAAEmD,qBAAlB;AAAyCpD,QAAAA,aAAa,EAAEqD,oBAAxD;AAA8EnD,QAAAA,iBAAiB,EAAEoD;AAAjG,UAA8H,KAAKxD,KAAzI;AACA,UAAIyD,0BAAJ;AACA,UAAIC,kBAAJ;AACA,UAAIC,0BAAJ;;AACA,cAAQN,UAAR;AACE,aAAK,SAAL;AACEI,UAAAA,0BAA0B,GAAGH,qBAA7B;AACAI,UAAAA,kBAAkB,GAAG,gBAArB;AACA;;AACF,aAAK,QAAL;AACED,UAAAA,0BAA0B,GAAGF,oBAA7B;AACAG,UAAAA,kBAAkB,GAAG,eAArB;AACA;;AACF,aAAK,YAAL;AACED,UAAAA,0BAA0B,GAAGD,wBAA7B;AACAE,UAAAA,kBAAkB,GAAG,mBAArB;AACA;;AACF;AACE;AAdJ,OAL0C,CAqB1C;;;AACA,UAAID,0BAA0B,CAACzC,OAA3B,CAAmCP,MAAnC,MAA+C,CAAC,CAApD,EAAuD;AACrDkD,QAAAA,0BAA0B,GAAGxF,MAAM,CAACsF,0BAAD,EAA6B;AAC9DG,UAAAA,KAAK,EAAE,CAACnD,MAAD;AADuD,SAA7B,CAAnC;AAGD,OAJD,MAIO;AACL,cAAMoD,WAAW,GAAGJ,0BAA0B,CAACzC,OAA3B,CAAmCP,MAAnC,CAApB;AACAkD,QAAAA,0BAA0B,GAAGxF,MAAM,CAACsF,0BAAD,EAA6B;AAC9DK,UAAAA,OAAO,EAAE,CAAC,CAACD,WAAD,EAAc,CAAd,CAAD;AADqD,SAA7B,CAAnC;AAGD;;AACD,WAAKhE,QAAL,CAAc;AAAE,SAAC6D,kBAAD,GAAsBC;AAAxB,OAAd;AACD,KA1NkB;;AAAA,+CA4NC,MAAM,KAAK9C,kBAAL,GAA0BkD,GAA1B,CAA8B,CAACvD,MAAD,EAASwD,KAAT,KACrD,MAAC,cAAD;AACC,MAAA,MAAM,EAAExD,MADT;AAEC,MAAA,KAAK,EAAEwD,KAFR;AAGC,MAAA,SAAS,EAAE,KAAKhE,KAAL,CAAWD,OAHvB;AAIC,MAAA,GAAG,EAAES,MAAM,CAACyD,EAJb;AAKC,MAAA,cAAc,EAAE,KAAKC,cALtB;AAMC,MAAA,gBAAgB,EAAE,KAAKC,gBANxB;AAOC,MAAA,cAAc,EAAE,KAAKnE,KAAL,CAAWW,cAP5B;AAQC,MAAA,cAAc,EAAE,KAAKyD,cARtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADuB,CA5NP;;AAAA,+CAyOC,MAClB;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,OAAO,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AACE,MAAA,IAAI,EAAC,UADP;AAEE,MAAA,EAAE,EAAC,WAFL;AAGE,MAAA,cAAc,EAAE,KAAKpE,KAAL,CAAWD,OAH7B;AAIE,MAAA,QAAQ,EAAE,KAAKsE,eAJjB;AAKE,MAAA,SAAS,EAAC,WALZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAN,CARF,CADF,CADF,EAaE;AAAK,MAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAbF,EAcE;AAAK,MAAA,SAAS,EAAC,2BAAf;AAA2C,MAAA,KAAK,EAAC,YAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,IAAI,EAAC,GAAR;AAAY,MAAA,OAAO,EAAE,MAAM,KAAKC,WAAL,CAAiB,YAAjB,CAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAA3D,CADF,CAdF,EAiBE;AAAK,MAAA,SAAS,EAAC,2BAAf;AAA2C,MAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE,OAAT;AAAkBC,QAAAA,WAAW,EAAE;AAA/B,OAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,IAAI,EAAC,GAAR;AAAY,MAAA,OAAO,EAAE,MAAM,KAAKF,WAAL,CAAiB,QAAjB,CAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAuD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAAvD,CADF,CAjBF,EAoBE;AAAK,MAAA,SAAS,EAAC,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CApBF,EAqBE;AAAK,MAAA,SAAS,EAAC,2BAAf;AAA2C,MAAA,KAAK,EAAE;AAAEG,QAAAA,UAAU,EAAE,MAAd;AAAsBD,QAAAA,WAAW,EAAE;AAAnC,OAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,IAAI,EAAC,GAAR;AAAY,MAAA,OAAO,EAAE,MAAM,KAAKF,WAAL,CAAiB,SAAjB,CAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAxD,CADF,CArBF,EAwBE;AAAK,MAAA,SAAS,EAAC,gCAAf;AAAgD,MAAA,KAAK,EAAE;AAAEE,QAAAA,WAAW,EAAE;AAAf,OAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,IAAI,EAAC,GAAR;AAAY,MAAA,OAAO,EAAE,MAAM,KAAKF,WAAL,CAAiB,SAAjB,CAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAxD,CADF,CAxBF,EA2BE;AAAK,MAAA,SAAS,EAAC,gCAAf;AAAgD,MAAA,KAAK,EAAE;AAAEG,QAAAA,UAAU,EAAE;AAAd,OAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,IAAI,EAAC,GAAR;AAAY,MAAA,OAAO,EAAE,MAAM,KAAKH,WAAL,CAAiB,cAAjB,CAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA6D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA7D,CADF,CA3BF,EA8BE;AAAK,MAAA,SAAS,EAAC,2BAAf;AAA2C,MAAA,KAAK,EAAE;AAAEG,QAAAA,UAAU,EAAE,MAAd;AAAsBD,QAAAA,WAAW,EAAE;AAAnC,OAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,IAAI,EAAC,GAAR;AAAY,MAAA,OAAO,EAAE,MAAM,KAAKF,WAAL,CAAiB,eAAjB,CAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA8D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAA9D,CADF,CA9BF,EAiCE;AAAK,MAAA,SAAS,EAAC,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,IAAI,EAAC,GAAR;AAAY,MAAA,OAAO,EAAE,MAAM,KAAKA,WAAL,CAAiB,YAAjB,CAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA2D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA3D,CADF,CAjCF,EAoCE;AAAK,MAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA4C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA5C,CApCF,EAqCE;AAAK,MAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA4C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA5C,CArCF,EAsCE;AAAK,MAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAG,MAAA,IAAI,EAAC,GAAR;AAAY,MAAA,OAAO,EAAE,MAAM,KAAKA,WAAL,CAAiB,QAAjB,CAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAuD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAAvD,CADF,CAtCF,CA1OiB;;AAEjB,SAAKtE,KAAL,GAAa;AACXmB,MAAAA,OAAO,EAAE,KAAKvB,KAAL,CAAWuB,OADT;AAEXjB,MAAAA,aAAa,EAAE,EAFJ;AAGXC,MAAAA,cAAc,EAAE,EAHL;AAIXC,MAAAA,iBAAiB,EAAE,EAJR;AAKXG,MAAAA,IAAI,EAAE,EALK;AAMXD,MAAAA,UAAU,EAAE,EAND;AAOXD,MAAAA,UAAU,EAAE,EAPD;AAQXN,MAAAA,OAAO,EAAE,KARE;AASXY,MAAAA,cAAc,EAAE,EATL;AAUXb,MAAAA,cAAc,EAAE;AAVL,KAAb;AAYD;;AAyQD4E,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEvD,MAAAA,OAAF;AAAWhB,MAAAA,cAAX;AAA2BD,MAAAA,aAA3B;AAA0CE,MAAAA;AAA1C,QAAgE,KAAKJ,KAA3E;AACA,UAAM;AAAE2E,MAAAA,IAAF;AAAQ/B,MAAAA;AAAR,QAAyB,KAAKhD,KAApC;AACA,WACE,MAAC,MAAD;AAAQ,MAAA,QAAQ,EAAC,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG+E,IAAI,IACH;AAAA,0CAAe,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,EAAE,EAAC,qBAAR;AAAA,0CAAwC,oBAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA,0CAAe,uDAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA,0CAAe,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA,0CAAe,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAEE;AAAA,0CAAe,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA,0CAAe,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAC9B;AAAG,MAAA,IAAI,EAAC,GAAR;AAAY,MAAA,OAAO,EAAE/B,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAmC;AAAA,0CAAa,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAnC,CAD8B,CAAhC,CADF,CAFF,CADF,EASE;AAAA,0CAAe,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA,0CAAe,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA,0CAAa,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,EAIE;AAAA,0CAAe,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA,0CAAe,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA,0CAAe,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,CADF,CAJF,CATF,CADF,EAqBE;AAAiC,MAAA,KAAK,EAAE;AAAEgC,QAAAA,eAAe,EAAE;AAAnB,OAAxC;AAAA,0CAAe,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,MAAC,kBAAD;AACE,MAAA,iBAAiB,EAAE,KAAKC,iBAD1B;AAEE,MAAA,cAAc,EAAE1E,cAFlB;AAGE,MAAA,aAAa,EAAED,aAHjB;AAIE,MAAA,iBAAiB,EAAEE,iBAJrB;AAKE,MAAA,cAAc,EAAE,KAAK0E,cALvB;AAME,MAAA,kBAAkB,EAAE,KAAKC,kBAN3B;AAOE,MAAA,oBAAoB,EAAE,KAAKC,oBAP7B;AAQE,MAAA,SAAS,EAAE,KAAKlC,SARlB;AASE,MAAA,eAAe,EAAE,KAAKmC,eATxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAYE;AAA8B,MAAA,KAAK,EAAE;AAAEC,QAAAA,SAAS,EAAE;AAAb,OAArC;AAAA,0CAAe,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA,0CAAe,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA,0CAAa,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA0B/D,OAAO,CAACJ,MAAlC,aADF,CADF,EAIE;AAAmC,MAAA,KAAK,EAAE;AAAEoE,QAAAA,MAAM,EAAE;AAAV,OAA1C;AAAA,0CAAe,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA,0CAAe,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA,0CAAe,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKC,iBAAL,EADH,CADF,EAIE;AAAA,0CAAe,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKC,iBAAL,EADH,CAJF,CADF,CAJF,CAZF,CArBF,CADF,EAmDE,MAAC,gBAAD;AACE,MAAA,IAAI,EAAE,KAAKrF,KAAL,CAAWF,cADnB;AAEE,MAAA,iBAAiB,EAAE,KAAKwF,iBAF1B;AAGE,MAAA,aAAa,EAAE,KAAKC,aAHtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnDF,EAwDE;AAAG,MAAA,IAAI,EAAC,GAAR;AAAY,MAAA,OAAO,EAAE,KAAKC,gBAA1B;AAAA,0CAAsD,mDAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0G;AAAA,0CAAa,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAA1G,oBAxDF,CAFJ;AAAA;AAAA;AAAA,inuBADF;AAuGD;;AAlY6C;;AAqYhD/F,iBAAiB,CAACgG,SAAlB,GAA8B;AAC5BtE,EAAAA,OAAO,EAAEjD,SAAS,CAACwH,KAAV,CAAgBC,UADG;AAE5BhB,EAAAA,IAAI,EAAEzG,SAAS,CAAC0H,IAAV,CAAeD,UAFO;AAG5B/C,EAAAA,YAAY,EAAE1E,SAAS,CAAC2H,IAAV,CAAeF,UAHD;AAI5BtD,EAAAA,mBAAmB,EAAEnE,SAAS,CAAC2H,IAAV,CAAeF;AAJR,CAA9B;AAMA,eAAelG,iBAAf","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport update from 'immutability-helper';\nimport moment from 'moment';\nimport Portal from '../../../../Portal';\nimport LessonListItem from './components/LessonListItem';\nimport { totalProblemsDescending, totalProblemsAscending, timeEstimate, timeEstimateAscending, subjectAscending, subjectDescending, passageAscending, passageDescending, lessonNameDescending, lessonNameAscending, statusDescending, statusAscending, flagsAscending, flagsDescending, lessonTypeAscending, lessonTypeDescending } from '../../../../utils/sortFunctions';\nimport ModalFilterSection from '../ModalFilterSection';\nimport AssignDatesModal from '../AssignDatesModal';\n\nclass AssignLessonModal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      lessons: this.props.lessons,\n      statusFilters: [],\n      subjectFilters: [],\n      lessonTypeFilters: [],\n      sort: \"\",\n      nameFilter: \"\",\n      unitFilter: \"\",\n      checked: false,\n      checkedLessons: [],\n      datesModalOpen: false,\n    };\n  }\n\n  onOpenDatesModal = () => this.setState({ datesModalOpen: true })\n  onCloseDatesModal = () => this.setState({ datesModalOpen: false })\n  onToggleChecked = () => {\n    this.setState({ checked: !this.state.checked }, () => this.onChecked());\n  }\n  onClearFilters = () => this.setState({ statusFilters: [], subjectFilters: [], lessonTypeFilters: [], unitFilter: \"\", nameFilter: \"\" })\n  onSetSort = (sort) => this.setState({ sort })\n  onSetFilteredState = (lesson) => this.setState({ nameFilter: lesson })\n  onUnsetFilteredState = (filter) => this.setState({ [filter]: \"\" })\n  onSetUnitFilter = (unit) => this.setState({ unitFilter: unit })\n\n  // checks if SelectAll checkbox is checked and adds lessons or empties checkedLessons array on uncheck\n  onChecked = () => {\n    const { checkedLessons, checked } = this.state;\n    if (checked) {\n      let mappedLessons = this.getMappableLessons();\n      for (let i = 0; i < mappedLessons.length; i++) {\n        if (checkedLessons.indexOf(mappedLessons[i]) > -1) {\n          mappedLessons = mappedLessons.filter(lesson => checkedLessons.indexOf(lesson) === -1);\n        }\n      }\n      this.setState(prevState => {\n        prevState.checkedLessons.push(...mappedLessons);\n      });\n    } else {\n      (\n        this.setState({ checkedLessons: [] })\n      );\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  onSortLessons = (lessons) => {\n    const { sort } = this.state;\n    switch (sort) {\n      case 'subjectAscending':\n        return lessons.sort(subjectAscending);\n      case 'subjectDescending':\n        return lessons.sort(subjectDescending);\n      case 'passageAscending':\n        return lessons.sort(passageAscending);\n      case 'passageDescending':\n        return lessons.sort(passageDescending);\n      case 'statusAscending':\n        return lessons.sort(statusAscending);\n      case 'statusDescending':\n        return lessons.sort(statusDescending);\n      case 'flagsAscending':\n        return lessons.sort(flagsAscending);\n      case 'flagsDescending':\n        return lessons.sort(flagsDescending);\n      case 'lessonNameAscending':\n        return lessons.sort(lessonNameAscending);\n      case 'lessonNameDescending':\n        return lessons.sort(lessonNameDescending);\n      case 'lessonTypeAscending':\n        return lessons.sort(lessonTypeAscending);\n      case 'lessonTypeDescending':\n        return lessons.sort(lessonTypeDescending);\n      case 'timeEstimateDescending':\n        return lessons.sort(timeEstimate);\n      case 'timeEstimateAscending':\n        return lessons.sort(timeEstimateAscending);\n      case 'totalProblemsDescending':\n        return lessons.sort(totalProblemsDescending);\n      case 'totalProblemsAscending':\n        return lessons.sort(totalProblemsAscending);\n      default:\n        break;\n    }\n  }\n\n  onFilterByName = () => {\n    const { lessons, nameFilter } = this.state;\n    return lessons.reduce((finalArr, currentLesson) => {\n      const { lessonName } = currentLesson;\n      const lessonString = lessonName.replace(/\\s/g, \"\").toLowerCase();\n      if (lessonString.indexOf(nameFilter) !== -1 && finalArr.indexOf(currentLesson) === -1) {\n        finalArr.push(currentLesson);\n      }\n      return finalArr;\n    }, []);\n  }\n\n  onFilterLessons = () => {\n    const { statusFilters, subjectFilters, lessonTypeFilters, unitFilter, lessons: allLessons } = this.state;\n    let lessons = allLessons;\n    if (statusFilters.length && statusFilters.indexOf('all') === -1) {\n      if (statusFilters.indexOf(\"Unassigned\") !== -1) {\n        lessons = lessons.filter(lesson => statusFilters.indexOf(lesson.status) !== -1);\n      } else { lessons = lessons.filter(lesson => lesson.assigned === true); }\n    }\n    if (subjectFilters.length && subjectFilters.indexOf('all') === -1) {\n      lessons = lessons.filter(lesson => subjectFilters.indexOf(lesson.subject) !== -1);\n    }\n    if (lessonTypeFilters.length && lessonTypeFilters.indexOf('all') === -1) {\n      lessons = lessons.filter(lesson => lessonTypeFilters.indexOf(lesson.type) !== -1);\n    }\n    if (unitFilter.length && unitFilter.indexOf('all') === -1) {\n      lessons = lessons.filter(lesson => unitFilter.indexOf(lesson.unitNumber) !== -1);\n    }\n    return lessons;\n  }\n\n  // TODO: add toast verifying lessons were assigned\n  // takes input from the assign selected lessons modal and updates the updatedLessons array in parent\n  // eslint-disable-next-line consistent-return\n  onHandleDates = (assignDate, assignTime, dueDate, dueTime) => {\n    const { onAddUpdatedLessons } = this.props;\n    const updatedLessons = [];\n    const { checkedLessons: previousCheckedLessons } = this.state;\n    for (let i = 0; i < previousCheckedLessons.length; i++) {\n      const updatedCheckedLessons = update(previousCheckedLessons[i], {\n        $merge: {\n          assigned: true,\n          dueDate: moment(dueDate).format('DD/MM/YYYY'),\n          dueTime,\n          availableDate: moment(assignDate).format(\"DD/MM/YYYY\"),\n          status: \"Scheduled\",\n          assignTime,\n        },\n      },\n      );\n      updatedLessons.push(updatedCheckedLessons);\n    }\n    onAddUpdatedLessons(updatedLessons);\n    this.props.onCloseModal();\n  };\n\n  setSortType = (name) => {\n    const { sort } = this.state;\n    if (sort !== `${name}Ascending` && sort !== `${name}Descending`) {\n      this.onSetSort(`${name}Ascending`);\n    }\n    if (sort === `${name}Descending`) {\n      this.onSetSort(`${name}Ascending`);\n    } else {\n      this.onSetSort(`${name}Descending`);\n    }\n  }\n\n  getMappableLessons = () => {\n    const { sort, unitFilter, lessons, statusFilters, subjectFilters, lessonTypeFilters, nameFilter } = this.state;\n    let mappableLessons = lessons;\n    if (nameFilter.length) {\n      mappableLessons = this.onFilterByName();\n    }\n    if (statusFilters.length || unitFilter.length || lessonTypeFilters.length || subjectFilters.length) {\n      mappableLessons = this.onFilterLessons();\n    }\n    if (sort) {\n      return this.onSortLessons(mappableLessons);\n    }\n    return mappableLessons;\n  }\n\n\n  handleCheckbox = (selectedLesson) => {\n    const { checkedLessons } = this.state;\n    let updatedLessonArray;\n    if (checkedLessons.indexOf(selectedLesson) > -1) {\n      updatedLessonArray = checkedLessons.filter(lesson => lesson !== selectedLesson);\n    } else {\n      updatedLessonArray = [...checkedLessons, selectedLesson];\n    }\n    this.setState({ checkedLessons: updatedLessonArray });\n  }\n\n\n  handleFilterClick = (filterType, filter) => {\n    const { subjectFilters: currentSubjectFilters, statusFilters: currentStatusFilters, lessonTypeFilters: currentLessonTypeFilters } = this.state;\n    let modifiedFilterCurrentState;\n    let modifiedFilterName;\n    let modifiedFilterUpdatedState;\n    switch (filterType) {\n      case 'subject':\n        modifiedFilterCurrentState = currentSubjectFilters;\n        modifiedFilterName = 'subjectFilters';\n        break;\n      case 'status':\n        modifiedFilterCurrentState = currentStatusFilters;\n        modifiedFilterName = 'statusFilters';\n        break;\n      case 'lessonType':\n        modifiedFilterCurrentState = currentLessonTypeFilters;\n        modifiedFilterName = 'lessonTypeFilters';\n        break;\n      default:\n        break;\n    }\n    // Decide whether we're adding or removing the selected filter\n    if (modifiedFilterCurrentState.indexOf(filter) === -1) {\n      modifiedFilterUpdatedState = update(modifiedFilterCurrentState, {\n        $push: [filter],\n      });\n    } else {\n      const filterIndex = modifiedFilterCurrentState.indexOf(filter);\n      modifiedFilterUpdatedState = update(modifiedFilterCurrentState, {\n        $splice: [[filterIndex, 1]],\n      });\n    }\n    this.setState({ [modifiedFilterName]: modifiedFilterUpdatedState });\n  }\n\n  mapLessonListItem = () => this.getMappableLessons().map((lesson, index) =>\n    (<LessonListItem\n      lesson={lesson}\n      index={index}\n      selectAll={this.state.checked}\n      key={lesson.id}\n      onSelectLesson={this.onSelectLesson}\n      renderLessonIcon={this.renderLessonIcon}\n      checkedLessons={this.state.checkedLessons}\n      handleCheckbox={this.handleCheckbox}\n    />)\n  )\n\n  renderTableHeader = () => (\n    <div className=\"list-table-row\">\n      <div className=\"list-table-cell icon-cell\">\n        <label htmlFor=\"selectAll\">\n          <input\n            type=\"checkbox\"\n            id=\"selectAll\"\n            defaultChecked={this.state.checked}\n            onChange={this.onToggleChecked}\n            className=\"filled-in\"\n          />\n          <span><b>&nbsp;</b></span>\n        </label>\n      </div>\n      <div className=\"list-table-cell icon-cell\">&nbsp;</div>\n      <div className=\"list-table-cell name-cell\" value=\"lessonName\">\n        <a href=\"#\" onClick={() => this.setSortType(\"lessonName\")}><b>Lesson</b></a>\n      </div>\n      <div className=\"list-table-cell name-cell\" style={{ width: '100px', paddingLeft: '237px' }}>\n        <a href=\"#\" onClick={() => this.setSortType(\"status\")}><b>Status</b></a>\n      </div>\n      <div className=\"list-table-call completed-cell\">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div>\n      <div className=\"list-table-cell type-cell\" style={{ marginLeft: '30px', paddingLeft: '58px' }}>\n        <a href=\"#\" onClick={() => this.setSortType(\"subject\")}><b>Subject</b></a>\n      </div>\n      <div className=\"list-table-cell completed-cell\" style={{ paddingLeft: '56px' }}>\n        <a href=\"#\" onClick={() => this.setSortType(\"passage\")}><b>Page</b></a>\n      </div>\n      <div className=\"list-table-cell completed-cell\" style={{ marginLeft: '30px' }}>\n        <a href=\"#\" onClick={() => this.setSortType(\"timeEstimate\")}><b>Time Est</b></a>\n      </div>\n      <div className=\"list-table-cell type-cell\" style={{ marginLeft: '13px', paddingLeft: '-1px' }}>\n        <a href=\"#\" onClick={() => this.setSortType(\"totalProblems\")}><b>Problems</b></a>\n      </div>\n      <div className=\"list-table-cell completed-cell\">\n        <a href=\"#\" onClick={() => this.setSortType(\"lessonType\")}><b>Type</b></a>\n      </div>\n      <div className=\"list-table-cell flags-cell\"><b>&nbsp;</b></div>\n      <div className=\"list-table-cell flags-cell\"><b>&nbsp;</b></div>\n      <div className=\"list-table-cell flags-cell\">\n        <a href=\"#\" onClick={() => this.setSortType(\"alerts\")}><b>Flags</b></a>\n      </div>\n    </div>\n  )\n\n\n  render() {\n    const { lessons, subjectFilters, statusFilters, lessonTypeFilters } = this.state;\n    const { open, onCloseModal } = this.props;\n    return (\n      <Portal selector=\"#modal\">\n        {open && (\n          <div className=\"overlay\">\n            <div id=\"assign-lesson-modal\" className=\"modal modal-custom\">\n              <div className=\"header-row card-panel light-blue lighten-1 white-text\">\n                <div className=\"card-panel-row row\">\n                  <div className=\"col s3\">&nbsp;</div>\n                  <div className=\"col s9 right-align\">\n                    <div className=\"row icons-row\"> <span>\n                      <a href=\"#\" onClick={onCloseModal}><i className=\"icon-close\"></i></a>\n                    </span></div>\n                  </div>\n                </div>\n                <div className=\"card-panel-row row\">\n                  <div className=\"icon-col col s1\">\n                    <i className=\"icon-books\"></i>\n                  </div>\n                  <div className=\"col s9\">\n                    <div className=\"card-panel-text\">\n                      <div className=\"text-large\">Assign Lessons</div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"content-section\" style={{ backgroundColor: '#f2f2f2' }}>\n                <ModalFilterSection\n                  handleFilterClick={this.handleFilterClick}\n                  subjectFilters={subjectFilters}\n                  statusFilters={statusFilters}\n                  lessonTypeFilters={lessonTypeFilters}\n                  onClearFilters={this.onClearFilters}\n                  onSetFilteredState={this.onSetFilteredState}\n                  onUnsetFilteredState={this.onUnsetFilteredState}\n                  onSetSort={this.onSetSort}\n                  onSetUnitFilter={this.onSetUnitFilter}\n                />\n                <div className=\"container-md\" style={{ marginTop: '50px' }}>\n                  <div className=\"result-row center-align\">\n                    <b className=\"result\"> - {lessons.length} Lessons</b>\n                  </div>\n                  <div className=\"list-view-section\" style={{ margin: '0 -160px' }}>\n                    <div className=\"list-table\" >\n                      <div className=\"list-table-header\">\n                        {this.renderTableHeader()}\n                      </div>\n                      <div className=\"list-table-body\">\n                        {this.mapLessonListItem()}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <AssignDatesModal\n              open={this.state.datesModalOpen}\n              onCloseDatesModal={this.onCloseDatesModal}\n              onHandleDates={this.onHandleDates}\n            />\n            <a href=\"#\" onClick={this.onOpenDatesModal} className=\"waves-effect waves-teal btn add-btn modal-trigger\"><i className=\"material-icons\">add</i>Assign Selected</a>\n          </div>\n        )}\n        <style jsx>\n          {`\n            .overlay {\n              position: fixed;\n              background-color: rgba(0, 0, 0, 0.7);\n              top: 0;\n              right: 0;\n              bottom: 0;\n              left: 0;\n              z-index: 999;\n            }\n            #assign-lesson-modal {\n              border-radius: 6px;\n              \n            }\n            .modal {\n              display: block;\n              background-color: white;\n              position: absolute;\n              top: 13%;\n              right: 0%;\n              left: 14%;\n              box-shadow: 0 24px 38px 3px rgba(0, 0, 0, 0.14), 0 9px 46px 8px rgba(0, 0, 0, 0.12), 0 11px 15px -7px rgba(0, 0, 0, 0.2);\n            }\n            .modal-footer {\n              background-color: white;\n            }\n            .modal-custom {\n              opacity: 1;\n              visibility: visible;\n              max-width: 1280px !important;\n            }\n            #assign-lessons-header {\n              background: rgb(24,181,233) !important\n              background: linear-gradient(90deg, rgba(24,181,233,1) 0%, rgba(8,107,140,1) 100%) !important;\n            }\n            \n          `}\n        </style>\n      </Portal>\n    );\n  }\n}\n\nAssignLessonModal.propTypes = {\n  lessons: PropTypes.array.isRequired,\n  open: PropTypes.bool.isRequired,\n  onCloseModal: PropTypes.func.isRequired,\n  onAddUpdatedLessons: PropTypes.func.isRequired,\n};\nexport default AssignLessonModal;\n"]},"metadata":{},"sourceType":"module"}